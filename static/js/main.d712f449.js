/*! For license information please see main.d712f449.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),o=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(s(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var k=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case C:return"SuspenseList";case k:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var R=Array.isArray,j=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},L=[],U=-1;function F(e){return{current:e}}function q(e){0>U||(e.current=L[U],L[U]=null,U--)}function z(e,t){U++,L[U]=e.current,e.current=t}var V=F(null),B=F(null),G=F(null),H=F(null);function J(e,t){switch(z(G,t),z(B,e),z(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(V),z(V,e)}function W(){q(V),q(B),q(G)}function K(e){null!==e.memoizedState&&z(H,e);var t=V.current,n=id(t,e.type);t!==n&&(z(B,e),z(V,n))}function Z(e){B.current===e&&(q(V),q(B)),H.current===e&&(q(H),Kd._currentValue=M)}var Y=Object.prototype.hasOwnProperty,$=r.unstable_scheduleCallback,Q=r.unstable_cancelCallback,X=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,oe=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,ae=r.unstable_LowPriority,le=r.unstable_IdlePriority,se=r.log,ue=r.unstable_setDisableYieldValue,ce=null,de=null;function fe(e){if("function"===typeof se&&ue(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ce,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(he(e)/me|0)|0},he=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=134217727&r;return 0!==l?0!==(r=l&~i)?o=ve(r):0!==(a&=l)?o=ve(a):n||0!==(n=l&~e)&&(o=ve(n)):0!==(l=r&~i)?o=ve(l):0!==a?o=ve(a):n||0!==(n=r&~e)&&(o=ve(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:o}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ce(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function ke(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Ne(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Oe(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:cf(e.type)}var Ie=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ie,Re="__reactProps$"+Ie,je="__reactContainer$"+Ie,De="__reactEvents$"+Ie,Me="__reactListeners$"+Ie,Le="__reactHandles$"+Ie,Ue="__reactResources$"+Ie,Fe="__reactMarker$"+Ie;function qe(e){delete e[Pe],delete e[Re],delete e[De],delete e[Me],delete e[Le]}function ze(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[je]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Pe])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Pe]||e[je]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Be(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ge(e){var t=e[Ue];return t||(t=e[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Fe]=!0}var Je=new Set,We={};function Ke(e,t){Ze(e,t),Ze(e+"Capture",t)}function Ze(e,t){for(We[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var Ye,$e,Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xe={},et={};function tt(e,t,n){if(o=t,Y.call(et,o)||!Y.call(Xe,o)&&(Qe.test(o)?et[o]=!0:(Xe[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ot(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",$e=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+$e}var it=!1;function at(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(l){if(l&&r&&"string"===typeof l.stack)return[l.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],l=i[1];if(a&&l){var s=a.split("\n"),u=l.split("\n");for(o=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;o<u.length&&!u[o].includes("DetermineComponentFrameRoot");)o++;if(r===s.length||o===u.length)for(r=s.length-1,o=u.length-1;1<=r&&0<=o&&s[r]!==u[o];)o--;for(;1<=r&&0<=o;r--,o--)if(s[r]!==u[o]){if(1!==r||1!==o)do{if(r--,0>--o||s[r]!==u[o]){var c="\n"+s[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=o);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function lt(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return ot("Activity");default:return""}}function st(e){try{var t="";do{t+=lt(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ct(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ht=/[\n"\\]/g;function mt(e){return e.replace(ht,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,o,i,a,l){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ut(t)):null!=n?vt(e,a,ut(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.name=""+ut(l):e.removeAttribute("name")}function yt(e,t,n,r,o,i,a,l){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=l?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(R(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Ct(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&Ct(e,i,t[i])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ot=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Rt=null;function jt(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Re]||null;if(!o)throw Error(a(90));gt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Mt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Pt||null!==Rt)&&(zu(),Pt&&(t=Pt,e=Rt,Rt=Pt=null,jt(t),e)))for(t=0;t<e.length;t++)jt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(Ut)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(jf){Ft=!1}var zt=null,Vt=null,Bt=null;function Gt(){if(Bt)return Bt;var e,t,n=Vt,r=n.length,o="value"in zt?zt.value:zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Bt=o.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Jt(){return!0}function Wt(){return!1}function Kt(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Jt:Wt,this.isPropagationStopped=Wt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Jt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Jt)},persist:function(){},isPersistent:Jt}),t}var Zt,Yt,$t,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=Kt(Qt),en=f({},Qt,{view:0,detail:0}),tn=Kt(en),nn=f({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Zt=e.screenX-$t.screenX,Yt=e.screenY-$t.screenY):Yt=Zt=0,$t=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Kt(nn),on=Kt(f({},nn,{dataTransfer:0})),an=Kt(f({},en,{relatedTarget:0})),ln=Kt(f({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=Kt(f({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Kt(f({},Qt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function hn(){return pn}var mn=Kt(f({},en,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Kt(f({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Kt(f({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn})),vn=Kt(f({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Kt(f({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Kt(f({},Qt,{newState:0,oldState:0})),wn=[9,13,27,32],_n=Ut&&"CompositionEvent"in window,Sn=null;Ut&&"documentMode"in document&&(Sn=document.documentMode);var Cn=Ut&&"TextEvent"in window&&!Sn,En=Ut&&(!_n||Sn&&8<Sn&&11>=Sn),Tn=String.fromCharCode(32),kn=!1;function Nn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1;var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!In[e.type]:"textarea"===t}function Rn(e,t,n,r){Pt?Rt?Rt.push(r):Rt=[r]:Pt=r,0<(t=Gc(t,"onChange")).length&&(n=new Xt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jn=null,Dn=null;function Mn(e){Mc(e,0)}function Ln(e){if(ft(Be(e)))return e}function Un(e,t){if("change"===e)return t}var Fn=!1;if(Ut){var qn;if(Ut){var zn="oninput"in document;if(!zn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),zn="function"===typeof Vn.oninput}qn=zn}else qn=!1;Fn=qn&&(!document.documentMode||9<document.documentMode)}function Bn(){jn&&(jn.detachEvent("onpropertychange",Gn),Dn=jn=null)}function Gn(e){if("value"===e.propertyName&&Ln(Dn)){var t=[];Rn(t,Dn,e,It(e)),Mt(Mn,t)}}function Hn(e,t,n){"focusin"===e?(Bn(),Dn=n,(jn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Bn()}function Jn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Dn)}function Wn(e,t){if("click"===e)return Ln(t)}function Kn(e,t){if("input"===e||"change"===e)return Ln(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Y.call(t,o)||!Zn(e[o],t[o]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qn(e,t){var n,r=$n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$n(r)}}function Xn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ut&&"documentMode"in document&&11>=document.documentMode,rr=null,or=null,ir=null,ar=!1;function lr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Yn(ir,r)||(ir=r,0<(r=Gc(or,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:sr("Animation","AnimationEnd"),animationiteration:sr("Animation","AnimationIteration"),animationstart:sr("Animation","AnimationStart"),transitionrun:sr("Transition","TransitionRun"),transitionstart:sr("Transition","TransitionStart"),transitioncancel:sr("Transition","TransitionCancel"),transitionend:sr("Transition","TransitionEnd")},cr={},dr={};function fr(e){if(cr[e])return cr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return cr[e]=n[t];return e}Ut&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var pr=fr("animationend"),hr=fr("animationiteration"),mr=fr("animationstart"),gr=fr("transitionrun"),yr=fr("transitionstart"),vr=fr("transitioncancel"),br=fr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){xr.set(e,t),Ke(t,[e])}wr.push("scrollEnd");var Sr=new WeakMap;function Cr(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:st(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:st(t)}}var Er=[],Tr=0,kr=0;function Nr(){for(var e=Tr,t=kr=Tr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var o=Er[t];Er[t++]=null;var i=Er[t];if(Er[t++]=null,null!==r&&null!==o){var a=r.pending;null===a?o.next=o:(o.next=a.next,a.next=o),r.pending=o}0!==i&&Pr(n,o,i)}}function Ar(e,t,n,r){Er[Tr++]=e,Er[Tr++]=t,Er[Tr++]=n,Er[Tr++]=r,kr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Ar(e,t,n,r),Rr(e)}function Ir(e,t){return Ar(e,null,null,t),Rr(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-pe(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Rr(e){if(50<Pu)throw Pu=0,Ru=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var jr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Dr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,r,o,i){var l=0;if(r=e,"function"===typeof e)Lr(e)&&(l=1);else if("string"===typeof e)l=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Mr(31,n,t,o)).elementType=k,e.lanes=i,e;case g:return zr(n.children,o,i,t);case y:l=8,o|=24;break;case v:return(e=Mr(12,n,t,2|o)).elementType=v,e.lanes=i,e;case S:return(e=Mr(13,n,t,o)).elementType=S,e.lanes=i,e;case C:return(e=Mr(19,n,t,o)).elementType=C,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:l=10;break e;case x:l=9;break e;case _:l=11;break e;case E:l=14;break e;case T:l=16,r=null;break e}l=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(l,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function zr(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function Br(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=[],Hr=0,Jr=null,Wr=0,Kr=[],Zr=0,Yr=null,$r=1,Qr="";function Xr(e,t){Gr[Hr++]=Wr,Gr[Hr++]=Jr,Jr=e,Wr=t}function eo(e,t,n){Kr[Zr++]=$r,Kr[Zr++]=Qr,Kr[Zr++]=Yr,Yr=e;var r=$r;e=Qr;var o=32-pe(r)-1;r&=~(1<<o),n+=1;var i=32-pe(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,$r=1<<32-pe(t)+o|n<<o|r,Qr=i+e}else $r=1<<i|n<<o|r,Qr=e}function to(e){null!==e.return&&(Xr(e,1),eo(e,1,0))}function no(e){for(;e===Jr;)Jr=Gr[--Hr],Gr[Hr]=null,Wr=Gr[--Hr],Gr[Hr]=null;for(;e===Yr;)Yr=Kr[--Zr],Kr[Zr]=null,Qr=Kr[--Zr],Kr[Zr]=null,$r=Kr[--Zr],Kr[Zr]=null}var ro=null,oo=null,io=!1,ao=null,lo=!1,so=Error(a(519));function uo(e){throw go(Cr(Error(a(418,"")),e)),so}function co(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[Re]=r,n){case"dialog":Lc("cancel",t),Lc("close",t);break;case"iframe":case"object":case"embed":Lc("load",t);break;case"video":case"audio":for(n=0;n<jc.length;n++)Lc(jc[n],t);break;case"source":Lc("error",t);break;case"img":case"image":case"link":Lc("error",t),Lc("load",t);break;case"details":Lc("toggle",t);break;case"input":Lc("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Lc("invalid",t);break;case"textarea":Lc("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yc(t.textContent,n)?(null!=r.popover&&(Lc("beforetoggle",t),Lc("toggle",t)),null!=r.onScroll&&Lc("scroll",t),null!=r.onScrollEnd&&Lc("scrollend",t),null!=r.onClick&&(t.onclick=$c),t=!0):t=!1,t||uo(e)}function fo(e){for(ro=e.return;ro;)switch(ro.tag){case 5:case 13:return void(lo=!1);case 27:case 3:return void(lo=!0);default:ro=ro.return}}function po(e){if(e!==ro)return!1;if(!io)return fo(e),io=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ad(e.type,e.memoizedProps)),t=!t),t&&oo&&uo(e),fo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oo=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oo=null}}else 27===n?(n=oo,pd(e.type)?(e=vd,vd=null,oo=e):oo=n):oo=ro?yd(e.stateNode.nextSibling):null;return!0}function ho(){oo=ro=null,io=!1}function mo(){var e=ao;return null!==e&&(null===bu?bu=e:bu.push.apply(bu,e),ao=null),e}function go(e){null===ao?ao=[e]:ao.push(e)}var yo=F(null),vo=null,bo=null;function xo(e,t,n){z(yo,t._currentValue),t._currentValue=n}function wo(e){e._currentValue=yo.current,q(yo)}function _o(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function So(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var l=o.child;i=i.firstContext;e:for(;null!==i;){var s=i;i=o;for(var u=0;u<t.length;u++)if(s.context===t[u]){i.lanes|=n,null!==(s=i.alternate)&&(s.lanes|=n),_o(i.return,n,e),r||(l=null);break e}i=s.next}}else if(18===o.tag){if(null===(l=o.return))throw Error(a(341));l.lanes|=n,null!==(i=l.alternate)&&(i.lanes|=n),_o(l,n,e),l=null}else l=o.child;if(null!==l)l.return=o;else for(l=o;null!==l;){if(l===e){l=null;break}if(null!==(o=l.sibling)){o.return=l.return,l=o;break}l=l.return}o=l}}function Co(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(0!==(524288&o.flags))i=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var l=o.alternate;if(null===l)throw Error(a(387));if(null!==(l=l.memoizedProps)){var s=o.type;Zn(o.pendingProps.value,l.value)||(null!==e?e.push(s):e=[s])}}else if(o===H.current){if(null===(l=o.alternate))throw Error(a(387));l.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Kd):e=[Kd])}o=o.return}null!==e&&So(t,e,n,r),t.flags|=262144}function Eo(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function To(e){vo=e,bo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ko(e){return Ao(vo,e)}function No(e,t){return null===vo&&To(e),Ao(e,t)}function Ao(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bo){if(null===e)throw Error(a(308));bo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bo=bo.next=t;return n}var Oo="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Io=r.unstable_scheduleCallback,Po=r.unstable_NormalPriority,Ro={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jo(){return{controller:new Oo,data:new Map,refCount:0}}function Do(e){e.refCount--,0===e.refCount&&Io(Po,function(){e.controller.abort()})}var Mo=null,Lo=0,Uo=0,Fo=null;function qo(){if(0===--Lo&&null!==Mo){null!==Fo&&(Fo.status="fulfilled");var e=Mo;Mo=null,Uo=0,Fo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zo=j.S;j.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Mo){var n=Mo=[];Lo=0,Uo=Ac(),Fo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Lo++,t.then(qo,qo)}(0,t),null!==zo&&zo(e,t)};var Vo=F(null);function Bo(){var e=Vo.current;return null!==e?e:ru.pooledCache}function Go(e,t){z(Vo,null===t?Vo.current:t.pool)}function Ho(){var e=Bo();return null===e?null:{parent:Ro._currentValue,pool:e}}var Jo=Error(a(460)),Wo=Error(a(474)),Ko=Error(a(542)),Zo={then:function(){}};function Yo(e){return"fulfilled"===(e=e.status)||"rejected"===e}function $o(){}function Qo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then($o,$o),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e;default:if("string"===typeof t.status)t.then($o,$o);else{if(null!==(e=ru)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e}throw Xo=t,Jo}}var Xo=null;function ei(){if(null===Xo)throw Error(a(459));var e=Xo;return Xo=null,e}function ti(e){if(e===Jo||e===Ko)throw Error(a(483))}var ni=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ai(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nu)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Rr(e),Pr(e,null,n),t}return Ar(e,r,t,n),Rr(e)}function li(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ke(e,n)}}function si(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ui=!1;function ci(){if(ui){if(null!==Fo)throw Fo}}function di(e,t,n,r){ui=!1;var o=e.updateQueue;ni=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var s=l,u=s.next;s.next=null,null===a?i=u:a.next=u,a=s;var c=e.alternate;null!==c&&((l=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===l?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s))}if(null!==i){var d=o.baseState;for(a=0,c=u=s=null,l=i;;){var p=-536870913&l.lane,h=p!==l.lane;if(h?(iu&p)===p:(r&p)===p){0!==p&&p===Uo&&(ui=!0),null!==c&&(c=c.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var m=e,g=l;p=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(y,d,p):m)||void 0===p)break e;d=f({},d,p);break e;case 2:ni=!0}}null!==(p=l.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=o.callbacks)?o.callbacks=[p]:h.push(p))}else h={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===c?(u=c=h,s=d):c=c.next=h,a|=p;if(null===(l=l.next)){if(null===(l=o.shared.pending))break;l=(h=l).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}null===c&&(s=d),o.baseState=s,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null===i&&(o.shared.lanes=0),pu|=a,e.lanes=a,e.memoizedState=d}}function fi(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function pi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)fi(n[e],t)}var hi=F(null),mi=F(0);function gi(e,t){z(mi,e=du),z(hi,t),du=e|t.baseLanes}function yi(){z(mi,du),z(hi,hi.current)}function vi(){du=mi.current,q(hi),q(mi)}var bi=0,xi=null,wi=null,_i=null,Si=!1,Ci=!1,Ei=!1,Ti=0,ki=0,Ni=null,Ai=0;function Oi(){throw Error(a(321))}function Ii(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function Pi(e,t,n,r,o,i){return bi=i,xi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=null===e||null===e.memoizedState?Ja:Wa,Ei=!1,i=n(r,o),Ei=!1,Ci&&(i=ji(t,n,r,o)),Ri(e),i}function Ri(e){j.H=Ha;var t=null!==wi&&null!==wi.next;if(bi=0,_i=wi=xi=null,Si=!1,ki=0,Ni=null,t)throw Error(a(300));null===e||kl||null!==(e=e.dependencies)&&Eo(e)&&(kl=!0)}function ji(e,t,n,r){xi=e;var o=0;do{if(Ci&&(Ni=null),ki=0,Ci=!1,25<=o)throw Error(a(301));if(o+=1,_i=wi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}j.H=Ka,i=t(n,r)}while(Ci);return i}function Di(){var e=j.H,t=e.useState()[0];return t="function"===typeof t.then?zi(t):t,e=e.useState()[0],(null!==wi?wi.memoizedState:null)!==e&&(xi.flags|=1024),t}function Mi(){var e=0!==Ti;return Ti=0,e}function Li(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ui(e){if(Si){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Si=!1}bi=0,_i=wi=xi=null,Ci=!1,ki=Ti=0,Ni=null}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_i?xi.memoizedState=_i=e:_i=_i.next=e,_i}function qi(){if(null===wi){var e=xi.alternate;e=null!==e?e.memoizedState:null}else e=wi.next;var t=null===_i?xi.memoizedState:_i.next;if(null!==t)_i=t,wi=e;else{if(null===e){if(null===xi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(wi=e).memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null},null===_i?xi.memoizedState=_i=e:_i=_i.next=e}return _i}function zi(e){var t=ki;return ki+=1,null===Ni&&(Ni=[]),e=Qo(Ni,e,t),t=xi,null===(null===_i?t.memoizedState:_i.next)&&(t=t.alternate,j.H=null===t||null===t.memoizedState?Ja:Wa),e}function Vi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return zi(e);if(e.$$typeof===w)return ko(e)}throw Error(a(438,String(e)))}function Bi(e){var t=null,n=xi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function Gi(e,t){return"function"===typeof t?t(e):t}function Hi(e){return Ji(qi(),wi,e)}function Ji(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var l=o.next;o.next=i.next,i.next=l}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var s=l=null,u=null,c=t=o.next,d=!1;do{var f=-536870913&c.lane;if(f!==c.lane?(iu&f)===f:(bi&f)===f){var p=c.revertLane;if(0===p)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Uo&&(d=!0);else{if((bi&p)===p){c=c.next,p===Uo&&(d=!0);continue}f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(s=u=f,l=i):u=u.next=f,xi.lanes|=p,pu|=p}f=c.action,Ei&&n(i,f),i=c.hasEagerState?c.eagerState:n(i,f)}else p={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(s=u=p,l=i):u=u.next=p,xi.lanes|=f,pu|=f;c=c.next}while(null!==c&&c!==t);if(null===u?l=i:u.next=s,!Zn(i,e.memoizedState)&&(kl=!0,d&&null!==(n=Fo)))throw n;e.memoizedState=i,e.baseState=l,e.baseQueue=u,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Wi(e){var t=qi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var l=o=o.next;do{i=e(i,l.action),l=l.next}while(l!==o);Zn(i,t.memoizedState)||(kl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ki(e,t,n){var r=xi,o=qi(),i=io;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var l=!Zn((wi||o).memoizedState,n);if(l&&(o.memoizedState=n,kl=!0),o=o.queue,ya(2048,8,$i.bind(null,r,o,e),[e]),o.getSnapshot!==t||l||null!==_i&&1&_i.memoizedState.tag){if(r.flags|=2048,ha(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,o,n,t),null),null===ru)throw Error(a(349));i||0!==(124&bi)||Zi(r,t,n)}return n}function Zi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yi(e,t,n,r){t.value=n,t.getSnapshot=r,Qi(t)&&Xi(e)}function $i(e,t,n){return n(function(){Qi(t)&&Xi(e)})}function Qi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(r){return!0}}function Xi(e){var t=Ir(e,2);null!==t&&Mu(t,e,2)}function ea(e){var t=Fi();if("function"===typeof e){var n=e;if(e=n(),Ei){fe(!0);try{n()}finally{fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},t}function ta(e,t,n,r){return e.baseState=n,Ji(e,wi,"function"===typeof r?r:Gi)}function na(e,t,n,r,o){if(Va(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==j.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,ra(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ra(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=j.T,a={};j.T=a;try{var l=n(o,r),s=j.S;null!==s&&s(a,l),oa(e,t,l)}catch(u){aa(e,t,u)}finally{j.T=i}}else try{oa(e,t,i=n(o,r))}catch(c){aa(e,t,c)}}function oa(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ia(e,t,n)},function(n){return aa(e,t,n)}):ia(e,t,n)}function ia(e,t,n){t.status="fulfilled",t.value=n,la(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ra(e,n)))}function aa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,la(t),t=t.next}while(t!==r)}e.action=null}function la(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sa(e,t){return t}function ua(e,t){if(io){var n=ru.formState;if(null!==n){e:{var r=xi;if(io){if(oo){t:{for(var o=oo,i=lo;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=yd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){oo=yd(o.nextSibling),r="F!"===o.data;break e}}uo(r)}r=!1}r&&(t=n[0])}}return(n=Fi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t},n.queue=r,n=Fa.bind(null,xi,r),r.dispatch=n,r=ea(!1),i=za.bind(null,xi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=Fi()).queue=o,n=na.bind(null,xi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function ca(e){return da(qi(),wi,e)}function da(e,t,n){if(t=Ji(e,t,sa)[0],e=Hi(Gi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=zi(t)}catch(a){if(a===Jo)throw Ko;throw a}else r=t;var o=(t=qi()).queue,i=o.dispatch;return n!==t.memoizedState&&(xi.flags|=2048,ha(9,{destroy:void 0,resource:void 0},fa.bind(null,o,n),null)),[r,i,e]}function fa(e,t){e.action=t}function pa(e){var t=qi(),n=wi;if(null!==n)return da(t,n,e);qi(),t=t.memoizedState;var r=(n=qi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ha(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(){return qi().memoizedState}function ga(e,t,n,r){var o=Fi();r=void 0===r?null:r,xi.flags|=e,o.memoizedState=ha(1|t,{destroy:void 0,resource:void 0},n,r)}function ya(e,t,n,r){var o=qi();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==wi&&null!==r&&Ii(r,wi.memoizedState.deps)?o.memoizedState=ha(t,i,n,r):(xi.flags|=e,o.memoizedState=ha(1|t,i,n,r))}function va(e,t){ga(8390656,8,e,t)}function ba(e,t){ya(2048,8,e,t)}function xa(e,t){return ya(4,2,e,t)}function wa(e,t){return ya(4,4,e,t)}function _a(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Sa(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ya(4,4,_a.bind(null,t,e),n)}function Ca(){}function Ea(e,t){var n=qi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ii(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=qi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ii(t,r[1]))return r[0];if(r=e(),Ei){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r}function ka(e,t,n){return void 0===n||0!==(1073741824&bi)?e.memoizedState=t:(e.memoizedState=n,e=Du(),xi.lanes|=e,pu|=e,n)}function Na(e,t,n,r){return Zn(n,t)?n:null!==hi.current?(e=ka(e,n,r),Zn(e,t)||(kl=!0),e):0===(42&bi)?(kl=!0,e.memoizedState=n):(e=Du(),xi.lanes|=e,pu|=e,t)}function Aa(e,t,n,r,o){var i=D.p;D.p=0!==i&&8>i?i:8;var a=j.T,l={};j.T=l,za(e,!1,t,n);try{var s=o(),u=j.S;if(null!==u&&u(l,s),null!==s&&"object"===typeof s&&"function"===typeof s.then)qa(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(s,r),ju());else qa(e,t,r,ju())}catch(c){qa(e,t,{then:function(){},status:"rejected",reason:c},ju())}finally{D.p=i,j.T=a}}function Oa(){}function Ia(e,t,n,r){if(5!==e.tag)throw Error(a(476));var o=Pa(e).queue;Aa(e,o,t,M,null===n?Oa:function(){return Ra(e),n(r)})}function Pa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ra(e){qa(e,Pa(e).next.queue,{},ju())}function ja(){return ko(Kd)}function Da(){return qi().memoizedState}function Ma(){return qi().memoizedState}function La(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=ju(),r=ai(t,e=ii(n),n);return null!==r&&(Mu(r,t,n),li(r,t,n)),t={cache:jo()},void(e.payload=t)}t=t.return}}function Ua(e,t,n){var r=ju();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Va(e)?Ba(t,n):null!==(n=Or(e,t,n,r))&&(Mu(n,e,r),Ga(n,t,r))}function Fa(e,t,n){qa(e,t,n,ju())}function qa(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Va(e))Ba(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=i(a,n);if(o.hasEagerState=!0,o.eagerState=l,Zn(l,a))return Ar(e,t,o,0),null===ru&&Nr(),!1}catch(s){}if(null!==(n=Or(e,t,o,r)))return Mu(n,e,r),Ga(n,t,r),!0}return!1}function za(e,t,n,r){if(r={lane:2,revertLane:Ac(),action:r,hasEagerState:!1,eagerState:null,next:null},Va(e)){if(t)throw Error(a(479))}else null!==(t=Or(e,n,r,2))&&Mu(t,e,2)}function Va(e){var t=e.alternate;return e===xi||null!==t&&t===xi}function Ba(e,t){Ci=Si=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ga(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ke(e,n)}}var Ha={readContext:ko,use:Vi,useCallback:Oi,useContext:Oi,useEffect:Oi,useImperativeHandle:Oi,useLayoutEffect:Oi,useInsertionEffect:Oi,useMemo:Oi,useReducer:Oi,useRef:Oi,useState:Oi,useDebugValue:Oi,useDeferredValue:Oi,useTransition:Oi,useSyncExternalStore:Oi,useId:Oi,useHostTransitionStatus:Oi,useFormState:Oi,useActionState:Oi,useOptimistic:Oi,useMemoCache:Oi,useCacheRefresh:Oi},Ja={readContext:ko,use:Vi,useCallback:function(e,t){return Fi().memoizedState=[e,void 0===t?null:t],e},useContext:ko,useEffect:va,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4194308,4,_a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4194308,4,e,t)},useInsertionEffect:function(e,t){ga(4,2,e,t)},useMemo:function(e,t){var n=Fi();t=void 0===t?null:t;var r=e();if(Ei){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fi();if(void 0!==n){var o=n(t);if(Ei){fe(!0);try{n(t)}finally{fe(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Ua.bind(null,xi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fi().memoizedState=e},useState:function(e){var t=(e=ea(e)).queue,n=Fa.bind(null,xi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ca,useDeferredValue:function(e,t){return ka(Fi(),e,t)},useTransition:function(){var e=ea(!1);return e=Aa.bind(null,xi,e.queue,!0,!1),Fi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xi,o=Fi();if(io){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ru)throw Error(a(349));0!==(124&iu)||Zi(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,va($i.bind(null,r,i,e),[e]),r.flags|=2048,ha(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,i,n,t),null),n},useId:function(){var e=Fi(),t=ru.identifierPrefix;if(io){var n=Qr;t="\xab"+t+"R"+(n=($r&~(1<<32-pe($r)-1)).toString(32)+n),0<(n=Ti++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ai++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:ja,useFormState:ua,useActionState:ua,useOptimistic:function(e){var t=Fi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=za.bind(null,xi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bi,useCacheRefresh:function(){return Fi().memoizedState=La.bind(null,xi)}},Wa={readContext:ko,use:Vi,useCallback:Ea,useContext:ko,useEffect:ba,useImperativeHandle:Sa,useInsertionEffect:xa,useLayoutEffect:wa,useMemo:Ta,useReducer:Hi,useRef:ma,useState:function(){return Hi(Gi)},useDebugValue:Ca,useDeferredValue:function(e,t){return Na(qi(),wi.memoizedState,e,t)},useTransition:function(){var e=Hi(Gi)[0],t=qi().memoizedState;return["boolean"===typeof e?e:zi(e),t]},useSyncExternalStore:Ki,useId:Da,useHostTransitionStatus:ja,useFormState:ca,useActionState:ca,useOptimistic:function(e,t){return ta(qi(),0,e,t)},useMemoCache:Bi,useCacheRefresh:Ma},Ka={readContext:ko,use:Vi,useCallback:Ea,useContext:ko,useEffect:ba,useImperativeHandle:Sa,useInsertionEffect:xa,useLayoutEffect:wa,useMemo:Ta,useReducer:Wi,useRef:ma,useState:function(){return Wi(Gi)},useDebugValue:Ca,useDeferredValue:function(e,t){var n=qi();return null===wi?ka(n,e,t):Na(n,wi.memoizedState,e,t)},useTransition:function(){var e=Wi(Gi)[0],t=qi().memoizedState;return["boolean"===typeof e?e:zi(e),t]},useSyncExternalStore:Ki,useId:Da,useHostTransitionStatus:ja,useFormState:pa,useActionState:pa,useOptimistic:function(e,t){var n=qi();return null!==wi?ta(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bi,useCacheRefresh:Ma},Za=null,Ya=0;function $a(e){var t=Ya;return Ya+=1,null===Za&&(Za=[]),Qo(Za,e,t)}function Qa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xa(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function el(e){return(0,e._init)(e._payload)}function tl(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===T&&el(i)===t.type)?(Qa(t=o(t,n.props),n),t.return=e,t):(Qa(t=qr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Br(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=zr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case h:return Qa(n=qr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Br(t,e.mode,n)).return=e,t;case T:return f(e,t=(0,t._init)(t._payload),n)}if(R(t)||O(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return f(e,$a(t),n);if(t.$$typeof===w)return f(e,No(e,t),n);Xa(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===o?u(e,t,n,r):null;case m:return n.key===o?c(e,t,n,r):null;case T:return p(e,t,n=(o=n._init)(n._payload),r)}if(R(n)||O(n))return null!==o?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,$a(n),r);if(n.$$typeof===w)return p(e,t,No(e,n),r);Xa(e,n)}return null}function y(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case T:return y(e,t,n,r=(0,r._init)(r._payload),o)}if(R(r)||O(r))return d(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return y(e,t,n,$a(r),o);if(r.$$typeof===w)return y(e,t,n,No(t,r),o);Xa(t,r)}return null}function v(s,u,c,d){if("object"===typeof c&&null!==c&&c.type===g&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case h:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===g){if(7===u.tag){n(s,u.sibling),(d=o(u,c.props.children)).return=s,s=d;break e}}else if(u.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&el(b)===u.type){n(s,u.sibling),Qa(d=o(u,c.props),c),d.return=s,s=d;break e}n(s,u);break}t(s,u),u=u.sibling}c.type===g?((d=zr(c.props.children,s.mode,d,c.key)).return=s,s=d):(Qa(d=qr(c.type,c.key,c.props,null,s.mode,d),c),d.return=s,s=d)}return l(s);case m:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(s,u.sibling),(d=o(u,c.children||[])).return=s,s=d;break e}n(s,u);break}t(s,u),u=u.sibling}(d=Br(c,s.mode,d)).return=s,s=d}return l(s);case T:return v(s,u,c=(b=c._init)(c._payload),d)}if(R(c))return function(o,a,l,s){for(var u=null,c=null,d=a,h=a=0,m=null;null!==d&&h<l.length;h++){d.index>h?(m=d,d=null):m=d.sibling;var g=p(o,d,l[h],s);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(o,d),a=i(g,a,h),null===c?u=g:c.sibling=g,c=g,d=m}if(h===l.length)return n(o,d),io&&Xr(o,h),u;if(null===d){for(;h<l.length;h++)null!==(d=f(o,l[h],s))&&(a=i(d,a,h),null===c?u=d:c.sibling=d,c=d);return io&&Xr(o,h),u}for(d=r(d);h<l.length;h++)null!==(m=y(d,o,h,l[h],s))&&(e&&null!==m.alternate&&d.delete(null===m.key?h:m.key),a=i(m,a,h),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach(function(e){return t(o,e)}),io&&Xr(o,h),u}(s,u,c,d);if(O(c)){if("function"!==typeof(b=O(c)))throw Error(a(150));return function(o,l,s,u){if(null==s)throw Error(a(151));for(var c=null,d=null,h=l,m=l=0,g=null,v=s.next();null!==h&&!v.done;m++,v=s.next()){h.index>m?(g=h,h=null):g=h.sibling;var b=p(o,h,v.value,u);if(null===b){null===h&&(h=g);break}e&&h&&null===b.alternate&&t(o,h),l=i(b,l,m),null===d?c=b:d.sibling=b,d=b,h=g}if(v.done)return n(o,h),io&&Xr(o,m),c;if(null===h){for(;!v.done;m++,v=s.next())null!==(v=f(o,v.value,u))&&(l=i(v,l,m),null===d?c=v:d.sibling=v,d=v);return io&&Xr(o,m),c}for(h=r(h);!v.done;m++,v=s.next())null!==(v=y(h,o,m,v.value,u))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),l=i(v,l,m),null===d?c=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(o,e)}),io&&Xr(o,m),c}(s,u,c=b.call(c),d)}if("function"===typeof c.then)return v(s,u,$a(c),d);if(c.$$typeof===w)return v(s,u,No(s,c),d);Xa(s,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(s,u.sibling),(d=o(u,c)).return=s,s=d):(n(s,u),(d=Vr(c,s.mode,d)).return=s,s=d),l(s)):n(s,u)}return function(e,t,n,r){try{Ya=0;var o=v(e,t,n,r);return Za=null,o}catch(a){if(a===Jo||a===Ko)throw a;var i=Mr(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var nl=tl(!0),rl=tl(!1),ol=F(null),il=null;function al(e){var t=e.alternate;z(cl,1&cl.current),z(ol,e),null===il&&(null===t||null!==hi.current||null!==t.memoizedState)&&(il=e)}function ll(e){if(22===e.tag){if(z(cl,cl.current),z(ol,e),null===il){var t=e.alternate;null!==t&&null!==t.memoizedState&&(il=e)}}else sl()}function sl(){z(cl,cl.current),z(ol,ol.current)}function ul(e){q(ol),il===e&&(il=null),q(cl)}var cl=F(0);function dl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fl(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pl={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ju(),o=ii(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=ai(e,o,r))&&(Mu(t,e,r),li(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ju(),o=ii(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=ai(e,o,r))&&(Mu(t,e,r),li(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ju(),r=ii(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ai(e,r,n))&&(Mu(t,e,n),li(t,e,n))}};function hl(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(o,i))}function ml(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pl.enqueueReplaceState(t,t.state,null)}function gl(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=f({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var yl="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vl(e){yl(e)}function bl(e){console.error(e)}function xl(e){yl(e)}function wl(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function _l(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Sl(e,t,n){return(n=ii(n)).tag=3,n.payload={element:null},n.callback=function(){wl(e,t)},n}function Cl(e){return(e=ii(e)).tag=3,e}function El(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){_l(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){_l(t,n,r),"function"!==typeof o&&(null===Cu?Cu=new Set([this]):Cu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Tl=Error(a(461)),kl=!1;function Nl(e,t,n,r){t.child=null===e?rl(t,null,n,r):nl(t,e.child,n,r)}function Al(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var l in r)"ref"!==l&&(a[l]=r[l])}else a=r;return To(t),r=Pi(e,t,n,a,i,o),l=Mi(),null===e||kl?(io&&l&&to(t),t.flags|=1,Nl(e,t,r,o),t.child):(Li(e,t,o),Zl(e,t,o))}function Ol(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Lr(i)||void 0!==i.defaultProps||null!==n.compare?((e=qr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Il(e,t,i,r,o))}if(i=e.child,!Yl(e,o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(a,r)&&e.ref===t.ref)return Zl(e,t,o)}return t.flags|=1,(e=Ur(i,r)).ref=t.ref,e.return=t,t.child=e}function Il(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Yn(i,r)&&e.ref===t.ref){if(kl=!1,t.pendingProps=r=i,!Yl(e,o))return t.lanes=e.lanes,Zl(e,t,o);0!==(131072&e.flags)&&(kl=!0)}}return Dl(e,t,n,r,o)}function Pl(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(o=t.child=e.child,i=0;null!==o;)i=i|o.lanes|o.childLanes,o=o.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Rl(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Rl(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Go(0,null!==i?i.cachePool:null),null!==i?gi(t,i):yi(),ll(t)}else null!==i?(Go(0,i.cachePool),gi(t,i),sl(),t.memoizedState=null):(null!==e&&Go(0,null),yi(),sl());return Nl(e,t,o,n),t.child}function Rl(e,t,n,r){var o=Bo();return o=null===o?null:{parent:Ro._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Go(0,null),yi(),ll(t),null!==e&&Co(e,t,r,!0),null}function jl(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Dl(e,t,n,r,o){return To(t),n=Pi(e,t,n,r,void 0,o),r=Mi(),null===e||kl?(io&&r&&to(t),t.flags|=1,Nl(e,t,n,o),t.child):(Li(e,t,o),Zl(e,t,o))}function Ml(e,t,n,r,o,i){return To(t),t.updateQueue=null,n=ji(t,r,n,o),Ri(e),r=Mi(),null===e||kl?(io&&r&&to(t),t.flags|=1,Nl(e,t,n,i),t.child):(Li(e,t,i),Zl(e,t,i))}function Ll(e,t,n,r,o){if(To(t),null===t.stateNode){var i=jr,a=n.contextType;"object"===typeof a&&null!==a&&(i=ko(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=pl,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ri(t),a=n.contextType,i.context="object"===typeof a&&null!==a?ko(a):jr,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(fl(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&pl.enqueueReplaceState(i,i.state,null),di(t,r,i,o),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var l=t.memoizedProps,s=gl(n,l);i.props=s;var u=i.context,c=n.contextType;a=jr,"object"===typeof c&&null!==c&&(a=ko(c));var d=n.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,l=t.pendingProps!==l,c||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l||u!==a)&&ml(t,i,r,a),ni=!1;var f=t.memoizedState;i.state=f,di(t,r,i,o),ci(),u=t.memoizedState,l||f!==u||ni?("function"===typeof d&&(fl(t,n,d,r),u=t.memoizedState),(s=ni||hl(t,n,s,r,f,u,a))?(c||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=a,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,oi(e,t),c=gl(n,a=t.memoizedProps),i.props=c,d=t.pendingProps,f=i.context,u=n.contextType,s=jr,"object"===typeof u&&null!==u&&(s=ko(u)),(u="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||f!==s)&&ml(t,i,r,s),ni=!1,f=t.memoizedState,i.state=f,di(t,r,i,o),ci();var p=t.memoizedState;a!==d||f!==p||ni||null!==e&&null!==e.dependencies&&Eo(e.dependencies)?("function"===typeof l&&(fl(t,n,l,r),p=t.memoizedState),(c=ni||hl(t,n,c,r,f,p,s)||null!==e&&null!==e.dependencies&&Eo(e.dependencies))?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,s),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=s,r=c):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,jl(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=nl(t,e.child,null,o),t.child=nl(t,null,n,o)):Nl(e,t,n,o),t.memoizedState=i.state,e=t.child):e=Zl(e,t,o),e}function Ul(e,t,n,r){return ho(),t.flags|=256,Nl(e,t,n,r),t.child}var Fl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ql(e){return{baseLanes:e,cachePool:Ho()}}function zl(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gu),e}function Vl(e,t,n){var r,o=t.pendingProps,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&cl.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(io){if(i?al(t):sl(),io){var s,u=oo;if(s=u){e:{for(s=u,u=lo;8!==s.nodeType;){if(!u){u=null;break e}if(null===(s=yd(s.nextSibling))){u=null;break e}}u=s}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==Yr?{id:$r,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},(s=Mr(18,null,null,0)).stateNode=u,s.return=t,t.child=s,ro=t,oo=null,s=!0):s=!1}s||uo(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return gd(u)?t.lanes=32:t.lanes=536870912,null;ul(t)}return u=o.children,o=o.fallback,i?(sl(),u=Gl({mode:"hidden",children:u},i=t.mode),o=zr(o,i,n,null),u.return=t,o.return=t,u.sibling=o,t.child=u,(i=t.child).memoizedState=ql(n),i.childLanes=zl(e,r,n),t.memoizedState=Fl,o):(al(t),Bl(t,u))}if(null!==(s=e.memoizedState)&&null!==(u=s.dehydrated)){if(l)256&t.flags?(al(t),t.flags&=-257,t=Hl(e,t,n)):null!==t.memoizedState?(sl(),t.child=e.child,t.flags|=128,t=null):(sl(),i=o.fallback,u=t.mode,o=Gl({mode:"visible",children:o.children},u),(i=zr(i,u,n,null)).flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,nl(t,e.child,null,n),(o=t.child).memoizedState=ql(n),o.childLanes=zl(e,r,n),t.memoizedState=Fl,t=i);else if(al(t),gd(u)){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(o=Error(a(419))).stack="",o.digest=r,go({value:o,source:null,stack:null}),t=Hl(e,t,n)}else if(kl||Co(e,t,n,!1),r=0!==(n&e.childLanes),kl||r){if(null!==(r=ru)&&(0!==(o=0!==((o=0!==(42&(o=n&-n))?1:Ne(o))&(r.suspendedLanes|n))?0:o)&&o!==s.retryLane))throw s.retryLane=o,Ir(e,o),Mu(r,e,o),Tl;"$?"===u.data||Wu(),t=Hl(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,oo=yd(u.nextSibling),ro=t,io=!0,ao=null,lo=!1,null!==e&&(Kr[Zr++]=$r,Kr[Zr++]=Qr,Kr[Zr++]=Yr,$r=e.id,Qr=e.overflow,Yr=t),(t=Bl(t,o.children)).flags|=4096);return t}return i?(sl(),i=o.fallback,u=t.mode,c=(s=e.child).sibling,(o=Ur(s,{mode:"hidden",children:o.children})).subtreeFlags=65011712&s.subtreeFlags,null!==c?i=Ur(c,i):(i=zr(i,u,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,null===(u=e.child.memoizedState)?u=ql(n):(null!==(s=u.cachePool)?(c=Ro._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Ho(),u={baseLanes:u.baseLanes|n,cachePool:s}),i.memoizedState=u,i.childLanes=zl(e,r,n),t.memoizedState=Fl,o):(al(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Bl(e,t){return(t=Gl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Gl(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hl(e,t,n){return nl(t,e.child,null,n),(e=Bl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Jl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_o(e.return,t,n)}function Wl(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Kl(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Nl(e,t,r.children,n),0!==(2&(r=cl.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jl(e,n,t);else if(19===e.tag)Jl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(cl,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===dl(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Wl(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===dl(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Wl(t,!0,n,null,i);break;case"together":Wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Co(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Eo(e))}function $l(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)kl=!0;else{if(!Yl(e,n)&&0===(128&t.flags))return kl=!1,function(e,t,n){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),xo(0,Ro,e.memoizedState.cache),ho();break;case 27:case 5:K(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:xo(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(al(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vl(e,t,n):(al(t),null!==(e=Zl(e,t,n))?e.sibling:null);al(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Co(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return Kl(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),z(cl,cl.current),r)break;return null;case 22:case 23:return t.lanes=0,Pl(e,t,n);case 24:xo(0,Ro,e.memoizedState.cache)}return Zl(e,t,n)}(e,t,n);kl=0!==(131072&e.flags)}else kl=!1,io&&0!==(1048576&t.flags)&&eo(t,Wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((o=r.$$typeof)===_){t.tag=11,t=Al(null,t,r,e,n);break e}if(o===E){t.tag=14,t=Ol(null,t,r,e,n);break e}}throw t=P(r)||r,Error(a(306,t,""))}Lr(r)?(e=gl(r,e),t.tag=1,t=Ll(null,t,r,e,n)):(t.tag=0,t=Dl(null,t,r,e,n))}return t;case 0:return Dl(e,t,t.type,t.pendingProps,n);case 1:return Ll(e,t,r=t.type,o=gl(r,t.pendingProps),n);case 3:e:{if(J(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;o=i.element,oi(e,t),di(t,r,null,n);var l=t.memoizedState;if(r=l.cache,xo(0,Ro,r),r!==i.cache&&So(t,[Ro],n,!0),ci(),r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ul(e,t,r,n);break e}if(r!==o){go(o=Cr(Error(a(424)),t)),t=Ul(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(oo=yd(e.firstChild),ro=t,io=!0,ao=null,lo=!0,n=rl(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===o){t=Zl(e,t,n);break e}Nl(e,t,r,n)}t=t.child}return t;case 26:return jl(e,t),null===e?(n=Nd(t.type,null,t.pendingProps,null))?t.memoizedState=n:io||(n=t.type,e=t.pendingProps,(r=rd(G.current).createElement(n))[Pe]=t,r[Re]=e,ed(r,n,e),He(r),t.stateNode=r):t.memoizedState=Nd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&io&&(r=t.stateNode=xd(t.type,t.pendingProps,G.current),ro=t,lo=!0,o=oo,pd(t.type)?(vd=o,oo=yd(r.firstChild)):oo=o),Nl(e,t,t.pendingProps.children,n),jl(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&io&&((o=r=oo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,lo))?(t.stateNode=r,ro=t,oo=yd(r.firstChild),lo=!1,o=!0):o=!1),o||uo(t)),K(t),o=t.type,i=t.pendingProps,l=null!==e?e.memoizedProps:null,r=i.children,ad(o,i)?r=null:null!==l&&ad(o,l)&&(t.flags|=32),null!==t.memoizedState&&(o=Pi(e,t,Di,null,null,n),Kd._currentValue=o),jl(e,t),Nl(e,t,r,n),t.child;case 6:return null===e&&io&&((e=n=oo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,lo))?(t.stateNode=n,ro=t,oo=null,e=!0):e=!1),e||uo(t)),null;case 13:return Vl(e,t,n);case 4:return J(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=nl(t,null,r,n):Nl(e,t,r,n),t.child;case 11:return Al(e,t,t.type,t.pendingProps,n);case 7:return Nl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Nl(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,xo(0,t.type,r.value),Nl(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,To(t),r=r(o=ko(o)),t.flags|=1,Nl(e,t,r,n),t.child;case 14:return Ol(e,t,t.type,t.pendingProps,n);case 15:return Il(e,t,t.type,t.pendingProps,n);case 19:return Kl(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Gl(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Ur(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Pl(e,t,n);case 24:return To(t),r=ko(Ro),null===e?(null===(o=Bo())&&(o=ru,i=jo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},ri(t),xo(0,Ro,o)):(0!==(e.lanes&n)&&(oi(e,t),di(t,null,null,n),ci()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),xo(0,Ro,r)):(r=i.cache,xo(0,Ro,r),r!==o.cache&&So(t,[Ro],n,!0))),Nl(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Ql(e){e.flags|=4}function Xl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zd(t)){if(null!==(t=ol.current)&&((4194048&iu)===iu?null!==il:(62914560&iu)!==iu&&0===(536870912&iu)||t!==il))throw Xo=Zo,Wo;e.flags|=8192}}function es(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,yu|=t)}function ts(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ns(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rs(e,t,n){var r=t.pendingProps;switch(no(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ns(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wo(Ro),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(po(t)?Ql(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mo())),ns(t),null;case 26:return n=t.memoizedState,null===e?(Ql(t),null!==n?(ns(t),Xl(t,n)):(ns(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ql(t),ns(t),Xl(t,n)):(ns(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ql(t),ns(t),t.flags&=-16777217),null;case 27:Z(t),n=G.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ql(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ns(t),null}e=V.current,po(t)?co(t):(e=xd(o,r,n),t.stateNode=e,Ql(t))}return ns(t),null;case 5:if(Z(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Ql(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ns(t),null}if(e=V.current,po(t))co(t);else{switch(o=rd(G.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[Pe]=t,e[Re]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ql(t)}}return ns(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Ql(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=G.current,po(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=ro))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yc(e.nodeValue,n)))||uo(t)}else(e=rd(e).createTextNode(r))[Pe]=t,t.stateNode=e}return ns(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[Pe]=t}else ho(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ns(t),o=!1}else o=mo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(ul(t),t):(ul(t),null)}if(ul(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),es(t,t.updateQueue),ns(t),null;case 4:return W(),null===e&&qc(t.stateNode.containerInfo),ns(t),null;case 10:return wo(t.type),ns(t),null;case 19:if(q(cl),null===(o=t.memoizedState))return ns(t),null;if(r=0!==(128&t.flags),null===(i=o.rendering))if(r)ts(o,!1);else{if(0!==fu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=dl(e))){for(t.flags|=128,ts(o,!1),e=i.updateQueue,t.updateQueue=e,es(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return z(cl,1&cl.current|2),t.child}e=e.sibling}null!==o.tail&&te()>_u&&(t.flags|=128,r=!0,ts(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=dl(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,es(t,e),ts(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!io)return ns(t),null}else 2*te()-o.renderingStartTime>_u&&536870912!==n&&(t.flags|=128,r=!0,ts(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=o.last)?e.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=te(),t.sibling=null,e=cl.current,z(cl,r?1&e|2:1&e),t):(ns(t),null);case 22:case 23:return ul(t),vi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(ns(t),6&t.subtreeFlags&&(t.flags|=8192)):ns(t),null!==(n=t.updateQueue)&&es(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&q(Vo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wo(Ro),ns(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function os(e,t){switch(no(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wo(Ro),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 13:if(ul(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return q(cl),null;case 4:return W(),null;case 10:return wo(t.type),null;case 22:case 23:return ul(t),vi(),null!==e&&q(Vo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wo(Ro),null;default:return null}}function is(e,t){switch(no(t),t.tag){case 3:wo(Ro),W();break;case 26:case 27:case 5:Z(t);break;case 4:W();break;case 13:ul(t);break;case 19:q(cl);break;case 10:wo(t.type);break;case 22:case 23:ul(t),vi(),null!==e&&q(Vo);break;case 24:wo(Ro)}}function as(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==o)}}catch(l){cc(t,t.return,l)}}function ls(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var a=r.inst,l=a.destroy;if(void 0!==l){a.destroy=void 0,o=t;var s=n,u=l;try{u()}catch(c){cc(o,s,c)}}}r=r.next}while(r!==i)}}catch(c){cc(t,t.return,c)}}function ss(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{pi(t,n)}catch(r){cc(e,e.return,r)}}}function us(e,t,n){n.props=gl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){cc(e,t,r)}}function cs(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(o){cc(e,t,o)}}function ds(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){cc(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){cc(e,t,i)}else n.current=null}function fs(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){cc(e,e.return,o)}}function ps(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,l=null,s=null,u=null,c=null,d=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&null!=f)switch(h){case"checked":case"value":break;case"defaultValue":u=f;default:r.hasOwnProperty(h)||Qc(e,t,h,null,r,f)}}for(var p in r){var h=r[p];if(f=n[p],r.hasOwnProperty(p)&&(null!=h||null!=f))switch(p){case"type":i=h;break;case"name":o=h;break;case"checked":c=h;break;case"defaultChecked":d=h;break;case"value":l=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:h!==f&&Qc(e,t,p,h,r,f)}}return void gt(e,l,s,u,c,d,i,o);case"select":for(i in h=l=s=p=null,n)if(u=n[i],n.hasOwnProperty(i)&&null!=u)switch(i){case"value":break;case"multiple":h=u;default:r.hasOwnProperty(i)||Qc(e,t,i,null,r,u)}for(o in r)if(i=r[o],u=n[o],r.hasOwnProperty(o)&&(null!=i||null!=u))switch(o){case"value":p=i;break;case"defaultValue":s=i;break;case"multiple":l=i;default:i!==u&&Qc(e,t,o,i,r,u)}return t=s,n=l,r=h,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(s in h=p=null,n)if(o=n[s],n.hasOwnProperty(s)&&null!=o&&!r.hasOwnProperty(s))switch(s){case"value":case"children":break;default:Qc(e,t,s,null,r,o)}for(l in r)if(o=r[l],i=n[l],r.hasOwnProperty(l)&&(null!=o||null!=i))switch(l){case"value":p=o;break;case"defaultValue":h=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(a(91));break;default:o!==i&&Qc(e,t,l,o,r,i)}return void xt(e,p,h);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Qc(e,t,m,null,r,p);for(u in r)if(p=r[u],h=n[u],r.hasOwnProperty(u)&&p!==h&&(null!=p||null!=h))if("selected"===u)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Qc(e,t,u,p,r,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Qc(e,t,g,null,r,p);for(c in r)if(p=r[c],h=n[c],r.hasOwnProperty(c)&&p!==h&&(null!=p||null!=h))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:Qc(e,t,c,p,r,h)}return;default:if(Tt(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!r.hasOwnProperty(y)&&Xc(e,t,y,void 0,r,p);for(d in r)p=r[d],h=n[d],!r.hasOwnProperty(d)||p===h||void 0===p&&void 0===h||Xc(e,t,d,p,r,h);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&Qc(e,t,v,null,r,p);for(f in r)p=r[f],h=n[f],!r.hasOwnProperty(f)||p===h||null==p&&null==h||Qc(e,t,f,p,r,h)}(r,e.type,n,t),r[Re]=t}catch(o){cc(e,e.return,o)}}function hs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function ms(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$c));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function vs(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ed(t,r,n),t[Pe]=e,t[Re]=n}catch(i){cc(e,e.return,i)}}var bs=!1,xs=!1,ws=!1,_s="function"===typeof WeakSet?WeakSet:Set,Ss=null;function Cs(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ls(e,n),4&r&&as(5,n);break;case 1:if(Ls(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){cc(n,n.return,a)}else{var o=gl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){cc(n,n.return,l)}}64&r&&ss(n),512&r&&cs(n,n.return);break;case 3:if(Ls(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{pi(e,t)}catch(a){cc(n,n.return,a)}}break;case 27:null===t&&4&r&&vs(n);case 26:case 5:Ls(e,n),null===t&&4&r&&fs(n),512&r&&cs(n,n.return);break;case 12:Ls(e,n);break;case 13:Ls(e,n),4&r&&Os(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=hc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bs)){t=null!==t&&null!==t.memoizedState||xs,o=bs;var i=xs;bs=r,(xs=t)&&!i?Fs(e,n,0!==(8772&n.subtreeFlags)):Ls(e,n),bs=o,xs=i}break;case 30:break;default:Ls(e,n)}}function Es(e){var t=e.alternate;null!==t&&(e.alternate=null,Es(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ts=null,ks=!1;function Ns(e,t,n){for(n=n.child;null!==n;)As(e,t,n),n=n.sibling}function As(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ce,n)}catch(i){}switch(n.tag){case 26:xs||ds(n,t),Ns(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xs||ds(n,t);var r=Ts,o=ks;pd(n.type)&&(Ts=n.stateNode,ks=!1),Ns(e,t,n),wd(n.stateNode),Ts=r,ks=o;break;case 5:xs||ds(n,t);case 6:if(r=Ts,o=ks,Ts=null,Ns(e,t,n),ks=o,null!==(Ts=r))if(ks)try{(9===Ts.nodeType?Ts.body:"HTML"===Ts.nodeName?Ts.ownerDocument.body:Ts).removeChild(n.stateNode)}catch(a){cc(n,t,a)}else try{Ts.removeChild(n.stateNode)}catch(a){cc(n,t,a)}break;case 18:null!==Ts&&(ks?(hd(9===(e=Ts).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Nf(e)):hd(Ts,n.stateNode));break;case 4:r=Ts,o=ks,Ts=n.stateNode.containerInfo,ks=!0,Ns(e,t,n),Ts=r,ks=o;break;case 0:case 11:case 14:case 15:xs||ls(2,n,t),xs||ls(4,n,t),Ns(e,t,n);break;case 1:xs||(ds(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&us(n,t,r)),Ns(e,t,n);break;case 21:Ns(e,t,n);break;case 22:xs=(r=xs)||null!==n.memoizedState,Ns(e,t,n),xs=r;break;default:Ns(e,t,n)}}function Os(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Nf(e)}catch(n){cc(t,t.return,n)}}function Is(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new _s),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new _s),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var r=mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Ps(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 27:if(pd(s.type)){Ts=s.stateNode,ks=!1;break e}break;case 5:Ts=s.stateNode,ks=!1;break e;case 3:case 4:Ts=s.stateNode.containerInfo,ks=!0;break e}s=s.return}if(null===Ts)throw Error(a(160));As(i,l,o),Ts=null,ks=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)js(t,e),t=t.sibling}var Rs=null;function js(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ps(t,e),Ds(e),4&r&&(ls(3,e,e.return),as(3,e),ls(5,e,e.return));break;case 1:Ps(t,e),Ds(e),512&r&&(xs||null===n||ds(n,n.return)),64&r&&bs&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=Rs;if(Ps(t,e),Ds(e),512&r&&(xs||null===n||ds(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[Fe]||i[Pe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),ed(i,r,n),i[Pe]=e,He(i),r=i;break e;case"link":var l=Fd("link","href",o).get(r+(n.href||""));if(l)for(var s=0;s<l.length;s++)if((i=l[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){l.splice(s,1);break t}ed(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(l=Fd("meta","content",o).get(r+(n.content||"")))for(s=0;s<l.length;s++)if((i=l[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){l.splice(s,1);break t}ed(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(a(468,r))}i[Pe]=e,He(i),r=i}e.stateNode=r}else qd(o,e.type,e.stateNode);else e.stateNode=jd(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?qd(o,e.type,e.stateNode):jd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&ps(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ps(t,e),Ds(e),512&r&&(xs||null===n||ds(n,n.return)),null!==n&&4&r&&ps(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ps(t,e),Ds(e),512&r&&(xs||null===n||ds(n,n.return)),32&e.flags){o=e.stateNode;try{_t(o,"")}catch(h){cc(e,e.return,h)}}4&r&&null!=e.stateNode&&ps(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(ws=!0);break;case 6:if(Ps(t,e),Ds(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(h){cc(e,e.return,h)}}break;case 3:if(Ud=null,o=Rs,Rs=Cd(t.containerInfo),Ps(t,e),Rs=o,Ds(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Nf(t.containerInfo)}catch(h){cc(e,e.return,h)}ws&&(ws=!1,Ms(e));break;case 4:r=Rs,Rs=Cd(e.stateNode.containerInfo),Ps(t,e),Ds(e),Rs=r;break;case 12:default:Ps(t,e),Ds(e);break;case 13:Ps(t,e),Ds(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wu=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Is(e,r)));break;case 22:o=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=bs,d=xs;if(bs=c||o,xs=d||u,Ps(t,e),xs=d,bs=c,Ds(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||u||bs||xs||Us(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,o)"function"===typeof(l=i.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{s=u.stateNode;var f=u.memoizedProps.style,p=void 0!==f&&null!==f&&f.hasOwnProperty("display")?f.display:null;s.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(h){cc(u,u.return,h)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=o?"":u.memoizedProps}catch(h){cc(u,u.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Is(e,n))));break;case 19:Ps(t,e),Ds(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Is(e,r)));case 30:case 21:}}function Ds(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(hs(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var o=n.stateNode;ys(e,ms(e),o);break;case 5:var i=n.stateNode;32&n.flags&&(_t(i,""),n.flags&=-33),ys(e,ms(e),i);break;case 3:case 4:var l=n.stateNode.containerInfo;gs(e,ms(e),l);break;default:throw Error(a(161))}}catch(s){cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ms(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ms(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ls(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cs(e,t.alternate,t),t=t.sibling}function Us(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ls(4,t,t.return),Us(t);break;case 1:ds(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&us(t,t.return,n),Us(t);break;case 27:wd(t.stateNode);case 26:case 5:ds(t,t.return),Us(t);break;case 22:null===t.memoizedState&&Us(t);break;default:Us(t)}e=e.sibling}}function Fs(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:Fs(o,i,n),as(4,i);break;case 1:if(Fs(o,i,n),"function"===typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(u){cc(r,r.return,u)}if(null!==(o=(r=i).updateQueue)){var l=r.stateNode;try{var s=o.shared.hiddenCallbacks;if(null!==s)for(o.shared.hiddenCallbacks=null,o=0;o<s.length;o++)fi(s[o],l)}catch(u){cc(r,r.return,u)}}n&&64&a&&ss(i),cs(i,i.return);break;case 27:vs(i);case 26:case 5:Fs(o,i,n),n&&null===r&&4&a&&fs(i),cs(i,i.return);break;case 12:Fs(o,i,n);break;case 13:Fs(o,i,n),n&&4&a&&Os(o,i);break;case 22:null===i.memoizedState&&Fs(o,i,n),cs(i,i.return);break;case 30:break;default:Fs(o,i,n)}t=t.sibling}}function qs(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Do(n))}function zs(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Do(e))}function Vs(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Bs(e,t,n,r),t=t.sibling}function Bs(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Vs(e,t,n,r),2048&o&&as(9,t);break;case 1:case 13:default:Vs(e,t,n,r);break;case 3:Vs(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Do(e)));break;case 12:if(2048&o){Vs(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,l=i.onPostCommit;"function"===typeof l&&l(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(s){cc(t,t.return,s)}}else Vs(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?Vs(e,t,n,r):Hs(e,t):2&i._visibility?Vs(e,t,n,r):(i._visibility|=2,Gs(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&o&&qs(a,t);break;case 24:Vs(e,t,n,r),2048&o&&zs(t.alternate,t)}}function Gs(e,t,n,r,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,l=n,s=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:Gs(i,a,l,s,o),as(8,a);break;case 23:break;case 22:var c=a.stateNode;null!==a.memoizedState?2&c._visibility?Gs(i,a,l,s,o):Hs(i,a):(c._visibility|=2,Gs(i,a,l,s,o)),o&&2048&u&&qs(a.alternate,a);break;case 24:Gs(i,a,l,s,o),o&&2048&u&&zs(a.alternate,a);break;default:Gs(i,a,l,s,o)}t=t.sibling}}function Hs(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:Hs(n,r),2048&o&&qs(r.alternate,r);break;case 24:Hs(n,r),2048&o&&zs(r.alternate,r);break;default:Hs(n,r)}t=t.sibling}}var Js=8192;function Ws(e){if(e.subtreeFlags&Js)for(e=e.child;null!==e;)Ks(e),e=e.sibling}function Ks(e){switch(e.tag){case 26:Ws(e),e.flags&Js&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(a(475));var r=Vd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=Ad(n.href),i=e.querySelector(Od(o));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Gd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void He(i);i=e.ownerDocument||e,n=Id(n),(o=_d.get(o))&&Md(n,o),He(i=i.createElement("link"));var l=i;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),ed(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Gd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rs,e.memoizedState,e.memoizedProps);break;case 5:default:Ws(e);break;case 3:case 4:var t=Rs;Rs=Cd(e.stateNode.containerInfo),Ws(e),Rs=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Js,Js=16777216,Ws(e),Js=t):Ws(e))}}function Zs(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ys(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ss=r,Xs(r,e)}Zs(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)$s(e),e=e.sibling}function $s(e){switch(e.tag){case 0:case 11:case 15:Ys(e),2048&e.flags&&ls(9,e,e.return);break;case 3:case 12:default:Ys(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Qs(e)):Ys(e)}}function Qs(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ss=r,Xs(r,e)}Zs(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ls(8,t,t.return),Qs(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Qs(t));break;default:Qs(t)}e=e.sibling}}function Xs(e,t){for(;null!==Ss;){var n=Ss;switch(n.tag){case 0:case 11:case 15:ls(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Do(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ss=r;else e:for(n=e;null!==Ss;){var o=(r=Ss).sibling,i=r.return;if(Es(r),r===n){Ss=null;break e}if(null!==o){o.return=i,Ss=o;break e}Ss=i}}}var eu={getCacheForType:function(e){var t=ko(Ro),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tu="function"===typeof WeakMap?WeakMap:Map,nu=0,ru=null,ou=null,iu=0,au=0,lu=null,su=!1,uu=!1,cu=!1,du=0,fu=0,pu=0,hu=0,mu=0,gu=0,yu=0,vu=null,bu=null,xu=!1,wu=0,_u=1/0,Su=null,Cu=null,Eu=0,Tu=null,ku=null,Nu=0,Au=0,Ou=null,Iu=null,Pu=0,Ru=null;function ju(){if(0!==(2&nu)&&0!==iu)return iu&-iu;if(null!==j.T){return 0!==Uo?Uo:Ac()}return Oe()}function Du(){0===gu&&(gu=0===(536870912&iu)||io?_e():536870912);var e=ol.current;return null!==e&&(e.flags|=32),gu}function Mu(e,t,n){(e!==ru||2!==au&&9!==au)&&null===e.cancelPendingCommit||(Bu(e,0),qu(e,iu,gu,!1)),Ee(e,n),0!==(2&nu)&&e===ru||(e===ru&&(0===(2&nu)&&(hu|=n),4===fu&&qu(e,iu,gu,!1)),_c(e))}function Lu(e,t,n){if(0!==(6&nu))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),o=r?function(e,t){var n=nu;nu|=2;var r=Hu(),o=Ju();ru!==e||iu!==t?(Su=null,_u=te()+500,Bu(e,t)):uu=xe(e,t);e:for(;;)try{if(0!==au&&null!==ou){t=ou;var i=lu;t:switch(au){case 1:au=0,lu=null,Xu(e,t,i,1);break;case 2:case 9:if(Yo(i)){au=0,lu=null,Qu(t);break}t=function(){2!==au&&9!==au||ru!==e||(au=7),_c(e)},i.then(t,t);break e;case 3:au=7;break e;case 4:au=5;break e;case 7:Yo(i)?(au=0,lu=null,Qu(t)):(au=0,lu=null,Xu(e,t,i,7));break;case 5:var l=null;switch(ou.tag){case 26:l=ou.memoizedState;case 5:case 27:var s=ou;if(!l||zd(l)){au=0,lu=null;var u=s.sibling;if(null!==u)ou=u;else{var c=s.return;null!==c?(ou=c,ec(c)):ou=null}break t}}au=0,lu=null,Xu(e,t,i,5);break;case 6:au=0,lu=null,Xu(e,t,i,6);break;case 8:Vu(),fu=6;break e;default:throw Error(a(462))}}Yu();break}catch(d){Gu(e,d)}return bo=vo=null,j.H=r,j.A=o,nu=n,null!==ou?0:(ru=null,iu=0,Nr(),fu)}(e,t):Ku(e,t,!0),i=r;;){if(0===o){uu&&!r&&qu(e,t,0,!1);break}if(n=e.current.alternate,!i||Fu(n)){if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var s=e;o=vu;var u=s.current.memoizedState.isDehydrated;if(u&&(Bu(s,l).flags|=256),2!==(l=Ku(s,l,!1))){if(cu&&!u){s.errorRecoveryDisabledLanes|=i,hu|=i,o=4;break e}i=bu,bu=o,null!==i&&(null===bu?bu=i:bu.push.apply(bu,i))}o=l}if(i=!1,2!==o)continue}}if(1===o){Bu(e,0),qu(e,t,0,!0);break}e:{switch(r=e,i=o){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:qu(r,t,gu,!su);break e;case 2:bu=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(o=wu+300-te())){if(qu(r,t,gu,!su),0!==be(r,0,!0))break e;r.timeoutHandle=sd(Uu.bind(null,r,n,bu,Su,xu,t,gu,hu,yu,su,i,2,-0,0),o)}else Uu(r,n,bu,Su,xu,t,gu,hu,yu,su,i,0,-0,0)}break}o=Ku(e,t,!1),i=!1}_c(e)}function Uu(e,t,n,r,o,i,l,s,u,c,d,f,p,h){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||16785408===(16785408&f))&&(Vd={stylesheets:null,count:0,unsuspend:Bd},Ks(t),null!==(f=function(){if(null===Vd)throw Error(a(475));var e=Vd;return e.stylesheets&&0===e.count&&Jd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Jd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=f(nc.bind(null,e,t,i,n,r,o,l,s,u,d,1,p,h)),void qu(e,i,l,!c);nc(e,t,i,n,r,o,l,s,u)}function Fu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Zn(i(),o))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qu(e,t,n,r){t&=~mu,t&=~hu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-pe(o),a=1<<i;r[i]=-1,o&=~a}0!==n&&Te(e,n,t)}function zu(){return 0!==(6&nu)||(Sc(0,!1),!1)}function Vu(){if(null!==ou){if(0===au)var e=ou.return;else bo=vo=null,Ui(e=ou),Za=null,Ya=0,e=ou;for(;null!==e;)is(e.alternate,e),e=e.return;ou=null}}function Bu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vu(),ru=e,ou=n=Ur(e.current,null),iu=t,au=0,lu=null,su=!1,uu=xe(e,t),cu=!1,yu=gu=mu=hu=pu=fu=0,bu=vu=null,xu=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-pe(r),i=1<<o;t|=e[o],r&=~i}return du=t,Nr(),n}function Gu(e,t){xi=null,j.H=Ha,t===Jo||t===Ko?(t=ei(),au=3):t===Wo?(t=ei(),au=4):au=t===Tl?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lu=t,null===ou&&(fu=1,wl(e,Cr(t,e.current)))}function Hu(){var e=j.H;return j.H=Ha,null===e?Ha:e}function Ju(){var e=j.A;return j.A=eu,e}function Wu(){fu=4,su||(4194048&iu)!==iu&&null!==ol.current||(uu=!0),0===(134217727&pu)&&0===(134217727&hu)||null===ru||qu(ru,iu,gu,!1)}function Ku(e,t,n){var r=nu;nu|=2;var o=Hu(),i=Ju();ru===e&&iu===t||(Su=null,Bu(e,t)),t=!1;var a=fu;e:for(;;)try{if(0!==au&&null!==ou){var l=ou,s=lu;switch(au){case 8:Vu(),a=6;break e;case 3:case 2:case 9:case 6:null===ol.current&&(t=!0);var u=au;if(au=0,lu=null,Xu(e,l,s,u),n&&uu){a=0;break e}break;default:u=au,au=0,lu=null,Xu(e,l,s,u)}}Zu(),a=fu;break}catch(c){Gu(e,c)}return t&&e.shellSuspendCounter++,bo=vo=null,nu=r,j.H=o,j.A=i,null===ou&&(ru=null,iu=0,Nr()),a}function Zu(){for(;null!==ou;)$u(ou)}function Yu(){for(;null!==ou&&!X();)$u(ou)}function $u(e){var t=$l(e.alternate,e,du);e.memoizedProps=e.pendingProps,null===t?ec(e):ou=t}function Qu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ml(n,t,t.pendingProps,t.type,void 0,iu);break;case 11:t=Ml(n,t,t.pendingProps,t.type.render,t.ref,iu);break;case 5:Ui(t);default:is(n,t),t=$l(n,t=ou=Fr(t,du),du)}e.memoizedProps=e.pendingProps,null===t?ec(e):ou=t}function Xu(e,t,n,r){bo=vo=null,Ui(t),Za=null,Ya=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Co(t,n,o,!0),null!==(n=ol.current)){switch(n.tag){case 13:return null===il?Wu():null===n.alternate&&0===fu&&(fu=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===Zo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),dc(e,r,o)),!1;case 22:return n.flags|=65536,r===Zo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),dc(e,r,o)),!1}throw Error(a(435,n.tag))}return dc(e,r,o),Wu(),!1}if(io)return null!==(t=ol.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==so&&go(Cr(e=Error(a(422),{cause:r}),n))):(r!==so&&go(Cr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Cr(r,n),si(e,o=Sl(e.stateNode,r,o)),4!==fu&&(fu=2)),!1;var i=Error(a(520),{cause:r});if(i=Cr(i,n),null===vu?vu=[i]:vu.push(i),4!==fu&&(fu=2),null===t)return!0;r=Cr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,si(n,e=Sl(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Cu||!Cu.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,El(o=Cl(o),e,n,r),si(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,iu))return fu=1,wl(e,Cr(n,e.current)),void(ou=null)}catch(i){if(null!==o)throw ou=o,i;return fu=1,wl(e,Cr(n,e.current)),void(ou=null)}32768&t.flags?(io||1===r?e=!0:uu||0!==(536870912&iu)?e=!1:(su=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ol.current)&&13===r.tag&&(r.flags|=16384))),tc(t,e)):ec(t)}function ec(e){var t=e;do{if(0!==(32768&t.flags))return void tc(t,su);e=t.return;var n=rs(t.alternate,t,du);if(null!==n)return void(ou=n);if(null!==(t=t.sibling))return void(ou=t);ou=t=e}while(null!==t);0===fu&&(fu=5)}function tc(e,t){do{var n=os(e.alternate,e);if(null!==n)return n.flags&=32767,void(ou=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ou=e);ou=e=n}while(null!==e);fu=6,ou=null}function nc(e,t,n,r,o,i,l,s,u){e.cancelPendingCommit=null;do{lc()}while(0!==Eu);if(0!==(6&nu))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,o,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,s=e.expirationTimes,u=e.hiddenUpdates;for(n=a&~n;0<n;){var c=31-pe(n),d=1<<c;l[c]=0,s[c]=-1;var f=u[c];if(null!==f)for(u[c]=null,c=0;c<f.length;c++){var p=f[c];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Te(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=kr,l,s,u),e===ru&&(ou=ru=null,iu=0),ku=t,Tu=e,Nu=n,Au=i,Ou=o,Iu=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(ie,function(){return sc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=j.T,j.T=null,o=D.p,D.p=2,l=nu,nu|=4;try{!function(e,t){if(e=e.containerInfo,td=nf,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var l=0,s=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==o&&3!==f.nodeType||(s=l+o),f!==i||0!==r&&3!==f.nodeType||(u=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++c===o&&(s=l),p===i&&++d===r&&(u=l),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nf=!1,Ss=t;null!==Ss;)if(e=(t=Ss).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Ss=e;else for(;null!==Ss;){switch(i=(t=Ss).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=gl(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){cc(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Ss=e;break}Ss=t.return}}(e,t)}finally{nu=l,D.p=o,j.T=r}}Eu=1,rc(),oc(),ic()}}function rc(){if(1===Eu){Eu=0;var e=Tu,t=ku,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=j.T,j.T=null;var r=D.p;D.p=2;var o=nu;nu|=4;try{js(t,e);var i=nd,a=er(e.containerInfo),l=i.focusedElem,s=i.selectionRange;if(a!==l&&l&&l.ownerDocument&&Xn(l.ownerDocument.documentElement,l)){if(null!==s&&tr(l)){var u=s.start,c=s.end;if(void 0===c&&(c=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(c,l.value.length);else{var d=l.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),h=l.textContent.length,m=Math.min(s.start,h),g=void 0===s.end?m:Math.min(s.end,h);!p.extend&&m>g&&(a=g,g=m,m=a);var y=Qn(l,m),v=Qn(l,g);if(y&&v&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(d=[],p=l;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof l.focus&&l.focus(),l=0;l<d.length;l++){var x=d[l];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}nf=!!td,nd=td=null}finally{nu=o,D.p=r,j.T=n}}e.current=t,Eu=2}}function oc(){if(2===Eu){Eu=0;var e=Tu,t=ku,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=j.T,j.T=null;var r=D.p;D.p=2;var o=nu;nu|=4;try{Cs(e,t.alternate,t)}finally{nu=o,D.p=r,j.T=n}}Eu=3}}function ic(){if(4===Eu||3===Eu){Eu=0,ee();var e=Tu,t=ku,n=Nu,r=Iu;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Eu=5:(Eu=0,ku=Tu=null,ac(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Cu=null),Ae(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ce,t,void 0,128===(128&t.current.flags))}catch(s){}if(null!==r){t=j.T,o=D.p,D.p=2,j.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var l=r[a];i(l.value,{componentStack:l.stack})}}finally{j.T=t,D.p=o}}0!==(3&Nu)&&lc(),_c(e),o=e.pendingLanes,0!==(4194090&n)&&0!==(42&o)?e===Ru?Pu++:(Pu=0,Ru=e):Pu=0,Sc(0,!1)}}function ac(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Do(t)))}function lc(e){return rc(),oc(),ic(),sc()}function sc(){if(5!==Eu)return!1;var e=Tu,t=Au;Au=0;var n=Ae(Nu),r=j.T,o=D.p;try{D.p=32>n?32:n,j.T=null,n=Ou,Ou=null;var i=Tu,l=Nu;if(Eu=0,ku=Tu=null,Nu=0,0!==(6&nu))throw Error(a(331));var s=nu;if(nu|=4,$s(i.current),Bs(i,i.current,l,n),nu=s,Sc(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ce,i)}catch(u){}return!0}finally{D.p=o,j.T=r,ac(e,t)}}function uc(e,t,n){t=Cr(n,t),null!==(e=ai(e,t=Sl(e.stateNode,t,2),2))&&(Ee(e,2),_c(e))}function cc(e,t,n){if(3===e.tag)uc(e,e,n);else for(;null!==t;){if(3===t.tag){uc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Cu||!Cu.has(r))){e=Cr(n,e),null!==(r=ai(t,n=Cl(2),2))&&(El(n,r,t,e),Ee(r,2),_c(r));break}}t=t.return}}function dc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tu;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(cu=!0,o.add(n),e=fc.bind(null,e,t,n),t.then(e,e))}function fc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ru===e&&(iu&n)===n&&(4===fu||3===fu&&(62914560&iu)===iu&&300>te()-wu?0===(2&nu)&&Bu(e,0):mu|=n,yu===iu&&(yu=0)),_c(e)}function pc(e,t){0===t&&(t=Se()),null!==(e=Ir(e,t))&&(Ee(e,t),_c(e))}function hc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pc(e,n)}function mc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),pc(e,n)}var gc=null,yc=null,vc=!1,bc=!1,xc=!1,wc=0;function _c(e){e!==yc&&null===e.next&&(null===yc?gc=yc=e:yc=yc.next=e),bc=!0,vc||(vc=!0,dd(function(){0!==(6&nu)?$(re,Cc):Ec()}))}function Sc(e,t){if(!xc&&bc){xc=!0;do{for(var n=!1,r=gc;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var a=r.suspendedLanes,l=r.pingedLanes;i=(1<<31-pe(42|e)+1)-1,i=201326741&(i&=o&~(a&~l))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Nc(r,i))}else i=iu,0===(3&(i=be(r,r===ru?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,i)||(n=!0,Nc(r,i));r=r.next}}while(n);xc=!1}}function Cc(){Ec()}function Ec(){bc=vc=!1;var e=0;0!==wc&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ld&&(ld=e,!0);return ld=null,!1}()&&(e=wc),wc=0);for(var t=te(),n=null,r=gc;null!==r;){var o=r.next,i=Tc(r,t);0===i?(r.next=null,null===n?gc=o:n.next=o,null===o&&(yc=n)):(n=r,(0!==e||0!==(3&i))&&(bc=!0)),r=o}Sc(e,!1)}function Tc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-pe(i),l=1<<a,s=o[a];-1===s?0!==(l&n)&&0===(l&r)||(o[a]=we(l,t)):s<=t&&(e.expiredLanes|=l),i&=~l}if(n=iu,n=be(e,e===(t=ru)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===au||9===au)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Q(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Q(r),Ae(n)){case 2:case 8:n=oe;break;case 32:default:n=ie;break;case 268435456:n=le}return r=kc.bind(null,e),n=$(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Q(r),e.callbackPriority=2,e.callbackNode=null,2}function kc(e,t){if(0!==Eu&&5!==Eu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lc()&&e.callbackNode!==n)return null;var r=iu;return 0===(r=be(e,e===ru?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lu(e,r,t),Tc(e,te()),null!=e.callbackNode&&e.callbackNode===n?kc.bind(null,e):null)}function Nc(e,t){if(lc())return null;Lu(e,t,!0)}function Ac(){return 0===wc&&(wc=_e()),wc}function Oc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Ic(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pc=0;Pc<wr.length;Pc++){var Rc=wr[Pc];_r(Rc.toLowerCase(),"on"+(Rc[0].toUpperCase()+Rc.slice(1)))}_r(pr,"onAnimationEnd"),_r(hr,"onAnimationIteration"),_r(mr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(gr,"onTransitionRun"),_r(yr,"onTransitionStart"),_r(vr,"onTransitionCancel"),_r(br,"onTransitionEnd"),Ze("onMouseEnter",["mouseout","mouseover"]),Ze("onMouseLeave",["mouseout","mouseover"]),Ze("onPointerEnter",["pointerout","pointerover"]),Ze("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jc));function Mc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==i&&o.isPropagationStopped())break e;i=l,o.currentTarget=u;try{i(o)}catch(c){yl(c)}o.currentTarget=null,i=s}else for(a=0;a<r.length;a++){if(s=(l=r[a]).instance,u=l.currentTarget,l=l.listener,s!==i&&o.isPropagationStopped())break e;i=l,o.currentTarget=u;try{i(o)}catch(c){yl(c)}o.currentTarget=null,i=s}}}}function Lc(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(zc(t,e,2,!1),n.add(r))}function Uc(e,t,n){var r=0;t&&(r|=4),zc(n,e,r,t)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function qc(e){if(!e[Fc]){e[Fc]=!0,Je.forEach(function(t){"selectionchange"!==t&&(Dc.has(t)||Uc(t,!1,e),Uc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fc]||(t[Fc]=!0,Uc("selectionchange",!1,t))}}function zc(e,t,n,r){switch(cf(t)){case 2:var o=rf;break;case 8:o=of;break;default:o=af}n=o.bind(null,t,n,e),o=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vc(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===o)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&a.stateNode.containerInfo===o)return;a=a.return}for(;null!==l;){if(null===(a=ze(l)))return;if(5===(u=a.tag)||6===u||26===u||27===u){r=i=a;continue e}l=l.parentNode}}r=r.return}Mt(function(){var r=i,o=It(n),a=[];e:{var l=xr.get(e);if(void 0!==l){var u=Xt,c=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":u=mn;break;case"focusin":c="focus",u=an;break;case"focusout":c="blur",u=an;break;case"beforeblur":case"afterblur":u=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=yn;break;case pr:case hr:case mr:u=ln;break;case br:u=vn;break;case"scroll":case"scrollend":u=tn;break;case"wheel":u=bn;break;case"copy":case"cut":case"paste":u=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=gn;break;case"toggle":case"beforetoggle":u=xn}var d=0!==(4&t),f=!d&&("scroll"===e||"scrollend"===e),p=d?null!==l?l+"Capture":null:l;d=[];for(var h,m=r;null!==m;){var g=m;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===p||null!=(g=Lt(m,p))&&d.push(Bc(m,g,h)),f)break;m=m.return}0<d.length&&(l=new u(l,c,null,n,o),a.push({event:l,listeners:d}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Ot||!(c=n.relatedTarget||n.fromElement)||!ze(c)&&!c[je])&&(u||l)&&(l=o.window===o?o:(l=o.ownerDocument)?l.defaultView||l.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ze(c):null)&&(f=s(c),d=c.tag,c!==f||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=rn,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",p="onPointerEnter",m="pointer"),f=null==u?l:Be(u),h=null==c?l:Be(c),(l=new d(g,m+"leave",u,n,o)).target=f,l.relatedTarget=h,g=null,ze(o)===r&&((d=new d(p,m+"enter",c,n,o)).target=h,d.relatedTarget=f,g=d),f=g,u&&c)e:{for(p=c,m=0,h=d=u;h;h=Hc(h))m++;for(h=0,g=p;g;g=Hc(g))h++;for(;0<m-h;)d=Hc(d),m--;for(;0<h-m;)p=Hc(p),h--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Hc(d),p=Hc(p)}d=null}else d=null;null!==u&&Jc(a,l,u,d,!1),null!==c&&null!==f&&Jc(a,f,c,d,!0)}if("select"===(u=(l=r?Be(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===u&&"file"===l.type)var y=Un;else if(Pn(l))if(Fn)y=Kn;else{y=Jn;var v=Hn}else!(u=l.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Tt(r.elementType)&&(y=Un):y=Wn;switch(y&&(y=y(e,r))?Rn(a,y,n,o):(v&&v(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&vt(l,"number",l.value)),v=r?Be(r):window,e){case"focusin":(Pn(v)||"true"===v.contentEditable)&&(rr=v,or=r,ir=null);break;case"focusout":ir=or=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,lr(a,n,o);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":lr(a,n,o)}var b;if(_n)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else On?Nn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(En&&"ko"!==n.locale&&(On||"onCompositionStart"!==x?"onCompositionEnd"===x&&On&&(b=Gt()):(Vt="value"in(zt=o)?zt.value:zt.textContent,On=!0)),0<(v=Gc(r,x)).length&&(x=new un(x,e,null,n,o),a.push({event:x,listeners:v}),b?x.data=b:null!==(b=An(n))&&(x.data=b))),(b=Cn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(kn=!0,Tn);case"textInput":return(e=t.data)===Tn&&kn?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!_n&&Nn(e,t)?(e=Gt(),Bt=Vt=zt=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Gc(r,"onBeforeInput")).length&&(v=new un("onBeforeInput","beforeinput",null,n,o),a.push({event:v,listeners:x}),v.data=b)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Oc((o[Re]||null).action),a=r.submitter;a&&null!==(t=(t=a[Re]||null)?Oc(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var l=new Xt("action","action",null,r,o);e.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wc){var e=a?Ic(o,a):new FormData(o);Ia(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"===typeof i&&(l.preventDefault(),e=a?Ic(o,a):new FormData(o),Ia(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}Mc(a,t)})}function Bc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gc(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Lt(e,n))&&r.unshift(Bc(e,o,i)),null!=(o=Lt(e,t))&&r.push(Bc(e,o,i))),3===e.tag)return r;e=e.return}return[]}function Hc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Jc(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(l=l.tag,null!==s&&s===r)break;5!==l&&26!==l&&27!==l||null===u||(s=u,o?null!=(u=Lt(n,i))&&a.unshift(Bc(n,u,s)):o||null!=(u=Lt(n,i))&&a.push(Bc(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Wc=/\r\n?/g,Kc=/\u0000|\uFFFD/g;function Zc(e){return("string"===typeof e?e:""+e).replace(Wc,"\n").replace(Kc,"")}function Yc(e,t){return t=Zc(t),Zc(e)===t}function $c(){}function Qc(e,t,n,r,o,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Et(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Qc(e,t,"name",o.name,o,null),Qc(e,t,"formEncType",o.formEncType,o,null),Qc(e,t,"formMethod",o.formMethod,o,null),Qc(e,t,"formTarget",o.formTarget,o,null)):(Qc(e,t,"encType",o.encType,o,null),Qc(e,t,"method",o.method,o,null),Qc(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=$c);break;case"onScroll":null!=r&&Lc("scroll",e);break;case"onScrollEnd":null!=r&&Lc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lc("beforetoggle",e),Lc("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=kt.get(n)||n,r)}}function Xc(e,t,n,r,o,i){switch(n){case"style":Et(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Lc("scroll",e);break;case"onScrollEnd":null!=r&&Lc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=$c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Re]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lc("error",e),Lc("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var l=n[r];if(null!=l)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Qc(e,t,r,l,n,null)}}return i&&Qc(e,t,"srcSet",n.srcSet,n,null),void(o&&Qc(e,t,"src",n.src,n,null));case"input":Lc("invalid",e);var s=r=l=i=null,u=null,c=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":l=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Qc(e,t,o,d,n,null)}}return yt(e,r,s,u,c,l,i,!1),void dt(e);case"select":for(i in Lc("invalid",e),o=l=r=null,n)if(n.hasOwnProperty(i)&&null!=(s=n[i]))switch(i){case"value":r=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:Qc(e,t,i,s,n,null)}return t=r,n=l,e.multiple=!!o,void(null!=t?bt(e,!!o,t,!1):null!=n&&bt(e,!!o,n,!0));case"textarea":for(l in Lc("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(l)&&null!=(s=n[l]))switch(l){case"value":o=s;break;case"defaultValue":i=s;break;case"children":r=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(a(91));break;default:Qc(e,t,l,s,n,null)}return wt(e,o,i,r),void dt(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))if("selected"===u)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else Qc(e,t,u,o,n,null);return;case"dialog":Lc("beforetoggle",e),Lc("toggle",e),Lc("cancel",e),Lc("close",e);break;case"iframe":case"object":Lc("load",e);break;case"video":case"audio":for(o=0;o<jc.length;o++)Lc(jc[o],e);break;case"image":Lc("error",e),Lc("load",e);break;case"details":Lc("toggle",e);break;case"embed":case"source":case"link":Lc("error",e),Lc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Qc(e,t,c,o,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&Xc(e,t,d,o,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(null!=(o=n[s])&&Qc(e,t,s,o,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ad(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ld=null;var sd="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,cd="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof cd?function(e){return cd.resolve(null).then(e).catch(fd)}:sd;function fd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function hd(e,t){var n=t,r=0,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&wd(a.documentElement),2&n&&wd(a.body),4&n)for(wd(n=a.head),a=n.firstChild;a;){var l=a.nextSibling,s=a.nodeName;a[Fe]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=l}}if(0===o)return e.removeChild(i),void Nf(t);o--}else"$"===n||"$?"===n||"$!"===n?o++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Nf(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qe(e)}var _d=new Map,Sd=new Set;function Cd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=D.d;D.d={f:function(){var e=Ed.f(),t=zu();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Ra(t):Ed.r(e)},D:function(e){Ed.D(e),kd("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),kd("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var r=Td;if(r&&e&&t){var o='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+mt(n.imageSizes)+'"]')):o+='[href="'+mt(e)+'"]';var i=o;switch(t){case"style":i=Ad(e);break;case"script":i=Pd(e)}_d.has(i)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),_d.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Od(i))||"script"===t&&r.querySelector(Rd(i))||(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=Td;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Pd(e)}if(!_d.has(i)&&(e=f({rel:"modulepreload",href:e},t),_d.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(i)))return}ed(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Ed.X(e,t);var n=Td;if(n&&e){var r=Ge(n).hoistableScripts,o=Pd(e),i=r.get(o);i||((i=n.querySelector(Rd(o)))||(e=f({src:e,async:!0},t),(t=_d.get(o))&&Ld(e,t),He(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Ed.S(e,t,n);var r=Td;if(r&&e){var o=Ge(r).hoistableStyles,i=Ad(e);t=t||"default";var a=o.get(i);if(!a){var l={loading:0,preload:null};if(a=r.querySelector(Od(i)))l.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=_d.get(i))&&Md(e,n);var s=a=r.createElement("link");He(s),ed(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){l.loading|=1}),s.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Dd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:l},o.set(i,a)}}},M:function(e,t){Ed.M(e,t);var n=Td;if(n&&e){var r=Ge(n).hoistableScripts,o=Pd(e),i=r.get(o);i||((i=n.querySelector(Rd(o)))||(e=f({src:e,async:!0,type:"module"},t),(t=_d.get(o))&&Ld(e,t),He(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var Td="undefined"===typeof document?null:document;function kd(e,t,n){var r=Td;if(r&&"string"===typeof t&&t){var o=mt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),Sd.has(o)||(Sd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Nd(e,t,n,r){var o,i,l,s,u=(u=G.current)?Cd(u):null;if(!u)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ad(n.href),(r=(n=Ge(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ad(n.href);var c=Ge(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Od(e)))&&!c._p&&(d.instance=c,d.state.loading=5),_d.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_d.set(e,n),c||(o=u,i=e,l=n,s=d.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=o.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),ed(i,"link",l),He(i),o.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(r=(n=Ge(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ad(e){return'href="'+mt(e)+'"'}function Od(e){return'link[rel="stylesheet"]['+e+"]"}function Id(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+mt(e)+'"]'}function Rd(e){return"script[async]"+e}function jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var o=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",o),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":o=Ad(n.href);var i=e.querySelector(Od(o));if(i)return t.state.loading|=4,t.instance=i,He(i),i;r=Id(n),(o=_d.get(o))&&Md(r,o),He(i=(e.ownerDocument||e).createElement("link"));var l=i;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),ed(i,"link",r),t.state.loading|=4,Dd(i,n.precedence,e),t.instance=i;case"script":return i=Pd(n.src),(o=e.querySelector(Rd(i)))?(t.instance=o,He(o),o):(r=n,(o=_d.get(i))&&Ld(r=f({},n),o),He(o=(e=e.ownerDocument||e).createElement("script")),ed(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,a=0;a<r.length;a++){var l=r[a];if(l.dataset.precedence===t)i=l;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ud=null;function Fd(e,t,n){if(null===Ud){var r=new Map,o=Ud=new Map;o.set(n,r)}else(r=(o=Ud).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Fe]||i[Pe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var l=r.get(a);l?l.push(i):r.set(a,[i])}}return r}function qd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vd=null;function Bd(){}function Gd(){if(this.count--,0===this.count)if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Jd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Wd,e),Hd=null,Gd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var a=o[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(o=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,o),n.set(a,o),this.count++,r=Gd.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Kd={$$typeof:w,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Zd(e,t,n,r,o,i,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Yd(e,t,n,r,o,i,a,l,s,u,c,d){return e=new Zd(e,t,n,a,l,s,u,d),t=1,!0===i&&(t|=24),i=Mr(3,null,null,t),e.current=i,i.stateNode=e,(t=jo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ri(i),e}function $d(e){return e?e=jr:jr}function Qd(e,t,n,r,o,i){o=$d(o),null===r.context?r.context=o:r.pendingContext=o,(r=ii(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ai(e,r,t))&&(Mu(n,0,t),li(n,e,t))}function Xd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ef(e,t){Xd(e,t),(e=e.alternate)&&Xd(e,t)}function tf(e){if(13===e.tag){var t=Ir(e,67108864);null!==t&&Mu(t,0,67108864),ef(e,67108864)}}var nf=!0;function rf(e,t,n,r){var o=j.T;j.T=null;var i=D.p;try{D.p=2,af(e,t,n,r)}finally{D.p=i,j.T=o}}function of(e,t,n,r){var o=j.T;j.T=null;var i=D.p;try{D.p=8,af(e,t,n,r)}finally{D.p=i,j.T=o}}function af(e,t,n,r){if(nf){var o=lf(r);if(null===o)Vc(e,t,r,sf,n),bf(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return ff=xf(ff,e,t,n,r,o),!0;case"dragenter":return pf=xf(pf,e,t,n,r,o),!0;case"mouseover":return hf=xf(hf,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return mf.set(i,xf(mf.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,gf.set(i,xf(gf.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(bf(e,r),4&t&&-1<vf.indexOf(e)){for(;null!==o;){var i=Ve(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=ve(i.pendingLanes);if(0!==a){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var s=1<<31-pe(a);l.entanglements[1]|=s,a&=~s}_c(i),0===(6&nu)&&(_u=te()+500,Sc(0,!1))}}break;case 13:null!==(l=Ir(i,2))&&Mu(l,0,2),zu(),ef(i,2)}if(null===(i=lf(r))&&Vc(e,t,r,sf,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Vc(e,t,r,null,n)}}function lf(e){return uf(e=It(e))}var sf=null;function uf(e){if(sf=null,null!==(e=ze(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sf=e,null}function cf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case oe:return 8;case ie:case ae:return 32;case le:return 268435456;default:return 32}default:return 32}}var df=!1,ff=null,pf=null,hf=null,mf=new Map,gf=new Map,yf=[],vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bf(e,t){switch(e){case"focusin":case"focusout":ff=null;break;case"dragenter":case"dragleave":pf=null;break;case"mouseover":case"mouseout":hf=null;break;case"pointerover":case"pointerout":mf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(t.pointerId)}}function xf(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Ve(t))&&tf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function wf(e){var t=ze(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=ju();e=Ne(e);var t=Ir(n,e);null!==t&&Mu(t,0,e),ef(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function _f(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=lf(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&tf(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function Sf(e,t,n){_f(e)&&n.delete(t)}function Cf(){df=!1,null!==ff&&_f(ff)&&(ff=null),null!==pf&&_f(pf)&&(pf=null),null!==hf&&_f(hf)&&(hf=null),mf.forEach(Sf),gf.forEach(Sf)}function Ef(e,t){e.blockedOn===t&&(e.blockedOn=null,df||(df=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Cf)))}var Tf=null;function kf(e){Tf!==e&&(Tf=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tf===e&&(Tf=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===uf(r||n))continue;break}var i=Ve(n);null!==i&&(e.splice(t,3),t-=3,Ia(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Nf(e){function t(t){return Ef(t,e)}null!==ff&&Ef(ff,e),null!==pf&&Ef(pf,e),null!==hf&&Ef(hf,e),mf.forEach(t),gf.forEach(t);for(var n=0;n<yf.length;n++){var r=yf[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<yf.length&&null===(n=yf[0]).blockedOn;)wf(n),null===n.blockedOn&&yf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],a=o[Re]||null;if("function"===typeof i)a||kf(n);else if(a){var l=null;if(i&&i.hasAttribute("formAction")){if(o=i,a=i[Re]||null)l=a.formAction;else if(null!==uf(o))continue}else l=a.action;"function"===typeof l?n[r+1]=l:(n.splice(r,3),r-=3),kf(n)}}}function Af(e){this._internalRoot=e}function Of(e){this._internalRoot=e}Of.prototype.render=Af.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Qd(t.current,ju(),e,t,null,null)},Of.prototype.unmount=Af.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qd(e.current,2,null,e,null,null),zu(),t[je]=null}},Of.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yf.length&&0!==t&&t<yf[n].priority;n++);yf.splice(n,0,e),0===n&&wf(e)}};var If=o.version;if("19.1.0"!==If)throw Error(a(527,If,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return c(o),e;if(i===r)return c(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var l=!1,u=o.child;u;){if(u===n){l=!0,n=o,r=i;break}if(u===r){l=!0,r=o,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,r=o;break}if(u===r){l=!0,r=i,n=o;break}u=u.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Pf={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rf.isDisabled&&Rf.supportsFiber)try{ce=Rf.inject(Pf),de=Rf}catch(Df){}}t.createRoot=function(e,t){if(!l(e))throw Error(a(299));var n=!1,r="",o=vl,i=bl,s=xl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,o,i,s,0,null),e[je]=t.current,qc(e),new Af(t)},t.hydrateRoot=function(e,t,n){if(!l(e))throw Error(a(299));var r=!1,o="",i=vl,s=bl,u=xl,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=Yd(e,1,!0,t,0,r,o,i,s,u,0,c)).context=$d(null),n=t.current,(o=ii(r=Ne(r=ju()))).callback=null,ai(n,o,r),n=r,t.current.lanes=n,Ee(t,n),_c(t),e[je]=t.current,qc(e),new Of(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function C(e,t,r,o,i,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(){}function A(e,t,o,i,a){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s,u,c=!1;if(null===e)c=!0;else switch(l){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case f:return A((c=e._init)(e._payload),t,o,i,a)}}if(c)return a=a(e),c=""===i?"."+k(e,0):i,w(a)?(o="",null!=c&&(o=c.replace(T,"$&/")+"/"),A(a,t,o,"",function(e){return e})):null!=a&&(E(a)&&(s=a,u=o+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+c,a=C(s.type,u,void 0,0,0,s.props)),t.push(a)),1;c=0;var d,h=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)c+=A(i=e[m],t,o,l=h+k(i,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)c+=A(i=i.value,t,o,l=h+k(i,m++),a);else if("object"===l){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function O(e,t,n){if(null==e)return e;var r=[],o=0;return A(e,r,"","",function(e){return t.call(n,e,o++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),l=0;l<i;l++)a[l]=arguments[l+2];r.children=a}return C(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:l,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var l=Array(a),s=0;s<a;s++)l[s]=arguments[s+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return C(e,i,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),o=_.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,P)}catch(i){P(i)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=_.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=s.T,n=a.p;try{if(s.T=null,a.p=2,e)return e()}finally{s.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},t.useFormStatus=function(){return s.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var l=2*(r+1)-1,s=e[l],u=l+1,c=e[u];if(0>i(s,n))u<o&&0>i(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[l]=n,r=l);else{if(!(u<o&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var u=[],c=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,C||(C=!0,S());else{var t=r(c);null!==t&&P(_,t.startTime-e)}}var S,C=!1,E=-1,T=5,k=-1;function N(){return!!y||!(t.unstable_now()-k<T)}function A(){if(y=!1,C){var e=t.unstable_now();k=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),h=!0;var i=p;try{t:{for(w(e),f=r(u);null!==f&&!(f.expirationTime>e&&N());){var a=f.callback;if("function"===typeof a){f.callback=null,p=f.priorityLevel;var l=a(f.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof l){f.callback=l,w(e),n=!0;break t}f===r(u)&&o(u),w(e)}else o(u);f=r(u)}if(null!==f)n=!0;else{var s=r(c);null!==s&&P(_,s.startTime-e),n=!1}}break e}finally{f=null,p=i,h=!1}n=void 0}}finally{n?S():C=!1}}}if("function"===typeof x)S=function(){x(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,I=O.port2;O.port1.onmessage=A,S=function(){I.postMessage(null)}}else S=function(){v(A,0)};function P(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:l=i+l,sortIndex:-1},i>a?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(g?(b(E),E=-1):g=!0,P(_,i-a))):(e.sortIndex=l,n(u,e),m||h||(m=!0,C||(C=!0,S()))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}var r=n(43),o=n(391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function l(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const d=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var p={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const h=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],m=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:s,iconNode:d}=e,m=c(e,h);return(0,r.createElement)("svg",u(u(u({ref:t},p),{},{width:o,height:o,stroke:n,strokeWidth:a?24*Number(i)/Number(o):i,className:f("lucide",l)},!s&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"}),m),[...d.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(s)?s:[s]])}),g=["className"],y=(e,t)=>{const n=(0,r.forwardRef)((n,o)=>{let{className:i}=n,a=c(n,g);return(0,r.createElement)(m,u({ref:o,iconNode:t,className:f("lucide-".concat((l=d(e),l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),i)},a));var l});return n.displayName=d(e),n},v=y("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),b=y("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var x=n(579);const w=e=>{let{onHomeClick:t}=e;return(0,x.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,x.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,x.jsx)("h1",{className:"text-3xl font-bold text-center text-blue-600 cursor-pointer",onClick:t,children:"Learn Finnish with joy! \ud83c\uddeb\ud83c\uddee"})})})},_=y("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),S=y("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),C=y("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),E=y("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),T=y("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),k=y("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),N=y("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),A=e=>{let{currentTopic:t,currentSection:n,lessons:r,favoritesCount:o,onHomeClick:i,onPreviousLesson:a,onNextLesson:l,onSectionChange:s,canGoPrevious:u,canGoNext:c}=e;return t&&"home"!==n?(0,x.jsx)("div",{className:"bg-white rounded-2xl p-4 shadow-lg mb-6",children:(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,x.jsxs)("button",{onClick:i,className:"flex items-center text-blue-600 hover:text-blue-800 bg-blue-50 px-3 py-2 rounded-lg",children:[(0,x.jsx)(_,{className:"w-5 h-5 mr-2"}),"Home"]}),(0,x.jsxs)("button",{onClick:a,className:"flex items-center text-blue-600 hover:text-blue-800",disabled:!u,children:[(0,x.jsx)(S,{className:"w-5 h-5 mr-1"}),"Previous"]}),(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:null===t||void 0===t?void 0:t.title}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:null===t||void 0===t?void 0:t.subtitle})]}),(0,x.jsxs)("button",{onClick:l,className:"flex items-center text-blue-600 hover:text-blue-800",disabled:!c,children:["Next",(0,x.jsx)(C,{className:"w-5 h-5 ml-1"})]})]}),(0,x.jsxs)("div",{className:"flex space-x-4",children:[(0,x.jsxs)("button",{onClick:()=>s("theory"),className:"flex items-center px-4 py-2 rounded-lg transition-colors ".concat("theory"===n?"bg-blue-500 text-white":"text-blue-600 hover:bg-blue-50"),children:[(0,x.jsx)(E,{className:"w-4 h-4 mr-2"}),"Theory"]}),(0,x.jsxs)("button",{onClick:()=>s("reading"),className:"flex items-center px-4 py-2 rounded-lg transition-colors ".concat("reading"===n?"bg-blue-500 text-white":"text-blue-600 hover:bg-blue-50"),children:[(0,x.jsx)(T,{className:"w-4 h-4 mr-2"}),"Reading"]}),(0,x.jsxs)("button",{onClick:()=>s("exercises"),className:"flex items-center px-4 py-2 rounded-lg transition-colors ".concat("exercises"===n?"bg-blue-500 text-white":"text-blue-600 hover:bg-blue-50"),children:[(0,x.jsx)(k,{className:"w-4 h-4 mr-2"}),"Exercises"]}),(0,x.jsxs)("button",{onClick:()=>s("favorites"),className:"flex items-center px-4 py-2 rounded-lg transition-colors ".concat("favorites"===n?"bg-red-500 text-white":"text-red-500 hover:bg-red-50"),children:[(0,x.jsx)(N,{className:"w-4 h-4 mr-2"}),"Favorites (",o,")"]})]})]})}):null},O=y("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),I=y("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),P=e=>{let{lessonsCount:t,wordsCount:n,favoritesCount:r}=e;return(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,x.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg text-center",children:[(0,x.jsx)("div",{className:"bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,x.jsx)(E,{className:"w-8 h-8 text-blue-600"})}),(0,x.jsx)("h3",{className:"text-2xl font-bold text-blue-600",children:t}),(0,x.jsx)("p",{className:"text-gray-600",children:"Lessons"})]}),(0,x.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg text-center",children:[(0,x.jsx)("div",{className:"bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,x.jsx)(O,{className:"w-8 h-8 text-green-600"})}),(0,x.jsx)("h3",{className:"text-2xl font-bold text-green-600",children:n}),(0,x.jsx)("p",{className:"text-gray-600",children:"Words"})]}),(0,x.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg text-center",children:[(0,x.jsx)("div",{className:"bg-purple-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,x.jsx)(I,{className:"w-8 h-8 text-purple-600"})}),(0,x.jsx)("h3",{className:"text-2xl font-bold text-purple-600",children:r}),(0,x.jsx)("p",{className:"text-gray-600",children:"Favorites"})]})]})},R=y("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),j=y("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),D=e=>{let{dataUrls:t,onUrlChange:n,onLoadFromUrl:o,onFileUpload:i,dataLoading:a}=e;const l=(0,r.useRef)(null),s=(0,r.useRef)(null);return(0,x.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg mb-6",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Load Data from URLs or Upload Files"}),(0,x.jsxs)("div",{className:"mb-8",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Load from URLs"}),(0,x.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lessons URL"}),(0,x.jsxs)("div",{className:"flex",children:[(0,x.jsx)("input",{type:"url",value:t.lessons,onChange:e=>n("lessons",e.target.value),className:"flex-1 border rounded-l-lg px-3 py-2 text-sm",placeholder:"Enter lessons URL..."}),(0,x.jsx)("button",{onClick:()=>o(t.lessons,"lessons"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-r-lg text-sm",disabled:a,children:"Load"})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Translations URL"}),(0,x.jsxs)("div",{className:"flex",children:[(0,x.jsx)("input",{type:"url",value:t.translations,onChange:e=>n("translations",e.target.value),className:"flex-1 border rounded-l-lg px-3 py-2 text-sm",placeholder:"Enter translations URL..."}),(0,x.jsx)("button",{onClick:()=>o(t.translations,"translations"),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-r-lg text-sm",disabled:a,children:"Load"})]})]})]})]}),(0,x.jsxs)("div",{className:"border-t pt-6",children:[(0,x.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Or Upload JSON Files"}),(0,x.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,x.jsxs)("div",{className:"border-2 border-dashed border-blue-300 rounded-xl p-6 text-center hover:border-blue-500 transition-colors",children:[(0,x.jsx)(R,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),(0,x.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Lessons File"}),(0,x.jsx)("p",{className:"text-gray-600 mb-4",children:"JSON file with lessons and exercises"}),(0,x.jsx)("input",{ref:l,type:"file",accept:".json",onChange:e=>i(e,"lessons"),className:"hidden"}),(0,x.jsx)("button",{onClick:()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.click()},className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Choose File"})]}),(0,x.jsxs)("div",{className:"border-2 border-dashed border-green-300 rounded-xl p-6 text-center hover:border-green-500 transition-colors",children:[(0,x.jsx)(j,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),(0,x.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Translations File"}),(0,x.jsx)("p",{className:"text-gray-600 mb-4",children:"JSON file with word translations"}),(0,x.jsx)("input",{ref:s,type:"file",accept:".json",onChange:e=>i(e,"translations"),className:"hidden"}),(0,x.jsx)("button",{onClick:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.click()},className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Choose File"})]})]})]})]})},M=e=>{let{lessons:t,onLessonSelect:n}=e;return(0,x.jsxs)("div",{className:"bg-white rounded-3xl p-6 shadow-lg",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Available Lessons"}),(0,x.jsx)("div",{className:"grid gap-4",children:t.map((e,t)=>(0,x.jsx)("div",{className:"border rounded-xl p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>n(t),children:(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"text-lg font-semibold text-blue-600",children:e.title}),(0,x.jsx)("p",{className:"text-gray-600",children:e.subtitle}),e.estimatedTime&&(0,x.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["\u23f1\ufe0f ",e.estimatedTime]})]}),(0,x.jsx)(C,{className:"w-6 h-6 text-gray-400"})]})},e.id||t))})]})},L=y("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),U=y("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),F=y("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),q=e=>{let{currentTopic:t,audioPlaying:n,isListening:r,onPlayAudio:o,onStartSpeechRecognition:i,onAddToFavorites:a,isFavorited:l,renderClickableText:s}=e;return null!==t&&void 0!==t&&t.theory?(0,x.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"text-3xl font-bold text-blue-600 mb-2",children:t.title}),(0,x.jsx)("p",{className:"text-xl text-gray-600",children:t.subtitle})]}),(0,x.jsxs)("div",{className:"flex space-x-2",children:[(0,x.jsx)("button",{onClick:()=>o(t.title,"default"),className:"bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-full",disabled:n===t.title,title:"Browser Voice",children:n===t.title?(0,x.jsx)(L,{className:"w-6 h-6"}):(0,x.jsx)(T,{className:"w-6 h-6"})}),(0,x.jsx)("button",{onClick:()=>i(t.title),className:"p-3 rounded-full transition-colors ".concat(r?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"," text-white"),disabled:r,title:"Practice pronunciation",children:(0,x.jsx)(U,{className:"w-6 h-6"})})]})]}),t.theory.sections.map((e,t)=>(0,x.jsxs)("div",{className:"mb-8",children:[(0,x.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 mb-2",children:e.title}),(0,x.jsx)("p",{className:"text-lg text-gray-600 mb-4",children:e.subtitle}),e.content&&(0,x.jsx)("div",{className:"bg-blue-50 rounded-xl p-6 mb-6",children:(0,x.jsx)("p",{className:"text-gray-700 leading-relaxed",children:s(e.content)})}),e.vocabulary&&(0,x.jsxs)("div",{className:"mb-6",children:[(0,x.jsx)("h4",{className:"text-xl font-semibold mb-4",children:"Vocabulary"}),(0,x.jsx)("div",{className:"grid gap-4",children:e.vocabulary.map((e,t)=>(0,x.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,x.jsx)("span",{className:"text-lg font-semibold text-blue-600",children:e.finnish}),(0,x.jsx)("button",{onClick:()=>o(e.finnish,"default"),className:"text-blue-500 hover:text-blue-700 p-1 rounded",disabled:n===e.finnish,title:"Browser Voice",children:(0,x.jsx)(F,{className:"w-4 h-4"})}),(0,x.jsx)("button",{onClick:()=>i(e.finnish),className:"text-green-500 hover:text-green-700 p-1 rounded ".concat(r?"animate-pulse":""),disabled:r,title:"Practice pronunciation",children:(0,x.jsx)(U,{className:"w-4 h-4"})})]}),(0,x.jsx)("button",{onClick:()=>a(e.finnish,e.russian),className:"".concat(l(e.finnish)?"text-red-600":"text-red-500 hover:text-red-700"," p-1 rounded"),title:"Add to favorites",children:(0,x.jsx)(N,{className:"w-5 h-5 ".concat(l(e.finnish)?"fill-current":"")})})]}),(0,x.jsx)("p",{className:"text-gray-700 mb-2",children:e.russian}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:e.usage}),e.formality&&(0,x.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs mt-2 ".concat("formal"===e.formality?"bg-blue-100 text-blue-800":"informal"===e.formality?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"),children:"formal"===e.formality?"FORMAL":"informal"===e.formality?"CASUAL":"VERY CASUAL"})]},t))})]}),e.grammar&&(0,x.jsxs)("div",{className:"mb-6",children:[(0,x.jsx)("h4",{className:"text-xl font-semibold mb-4",children:"Grammar"}),(0,x.jsx)("div",{className:"grid gap-4",children:e.grammar.map((e,t)=>(0,x.jsxs)("div",{className:"bg-yellow-50 rounded-xl p-4",children:[(0,x.jsx)("h5",{className:"text-lg font-semibold text-yellow-800 mb-2",children:e.rule}),(0,x.jsx)("p",{className:"text-gray-700 mb-3",children:e.explanation}),e.examples&&e.examples.length>0&&(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Examples:"}),(0,x.jsx)("ul",{className:"list-disc list-inside text-sm text-gray-600",children:e.examples.map((e,t)=>(0,x.jsx)("li",{children:e},t))})]})]},t))})]})]},t))]}):(0,x.jsx)("div",{className:"bg-white rounded-3xl p-8 shadow-lg",children:(0,x.jsx)("p",{className:"text-center text-gray-500",children:"No theory content available for this lesson."})})},z=y("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),V=e=>{let{currentTopic:t,audioPlaying:n,isListening:r,exerciseSubmitted:o,onPlayAudio:i,onStartSpeechRecognition:a,onSubmitReading:l,onResetReading:s,onGoToExercises:u,renderClickableText:c,ttsAvailable:d=!0}=e;return null!==t&&void 0!==t&&t.reading?(0,x.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg",children:[(0,x.jsx)("h2",{className:"text-3xl font-bold text-blue-600 mb-2",children:t.reading.title}),(0,x.jsx)("p",{className:"text-xl text-gray-600 mb-4",children:t.reading.subtitle}),t.reading.description&&(0,x.jsx)("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:(0,x.jsx)("p",{className:"text-gray-700",children:t.reading.description})}),(0,x.jsx)("div",{className:"space-y-4 mb-8",children:t.reading.dialogue.map((e,t)=>{const o=e.text.trim().split(/\s+/).length>6&&d;return(0,x.jsx)("div",{className:"bg-gray-50 rounded-xl p-4",children:(0,x.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,x.jsx)("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:e.speaker[0]}),(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,x.jsxs)("p",{className:"font-semibold text-gray-800",children:[e.speaker,":"]}),o?(0,x.jsx)("button",{onClick:()=>i(e.text,"gemini"),className:"text-purple-500 hover:text-purple-700 p-1 rounded",disabled:n===e.text,title:"Enhanced AI Voice (6+ words)",children:(0,x.jsx)(I,{className:"w-4 h-4"})}):(0,x.jsx)("button",{onClick:()=>i(e.text,"default"),className:"text-blue-500 hover:text-blue-700 p-1 rounded",disabled:n===e.text,title:"Browser Voice",children:(0,x.jsx)(F,{className:"w-4 h-4"})}),(0,x.jsx)("button",{onClick:()=>a(e.text),className:"text-green-500 hover:text-green-700 p-1 rounded ".concat(r?"animate-pulse":""),disabled:r,title:"Practice pronunciation",children:(0,x.jsx)(U,{className:"w-4 h-4"})})]}),(0,x.jsx)("p",{className:"text-lg mb-2",children:c(e.text)}),(0,x.jsx)("p",{className:"text-sm text-gray-600 italic",children:e.translation})]})]})},t)})}),t.reading.questions&&(0,x.jsxs)("div",{className:"bg-green-50 rounded-xl p-6 mb-8",children:[(0,x.jsx)("h4",{className:"text-xl font-semibold mb-4",children:"Test your knowledge"}),t.reading.questions.map((e,t)=>(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("p",{className:"font-semibold text-gray-800 mb-1",children:e.question}),(0,x.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.translation}),o&&(0,x.jsx)("div",{className:"bg-green-100 rounded-lg p-3",children:(0,x.jsxs)("p",{className:"text-green-800 font-semibold",children:["\u2713 ",e.answer]})})]},t))]}),(0,x.jsx)("div",{className:"flex justify-center",children:o?(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("div",{className:"bg-green-500 text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,x.jsx)(z,{className:"w-8 h-8"})}),(0,x.jsx)("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"Reading completed!"}),(0,x.jsx)("p",{className:"text-green-700 mb-4",children:"Great work! You can repeat or move to exercises."}),(0,x.jsx)("button",{onClick:s,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg mr-4",children:"Repeat Reading"}),(0,x.jsx)("button",{onClick:u,className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Go to Exercises"})]}):(0,x.jsx)("button",{onClick:l,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Complete Reading"})})]}):(0,x.jsx)("div",{className:"bg-white rounded-3xl p-8 shadow-lg",children:(0,x.jsx)("p",{className:"text-center text-gray-500",children:"No reading content available for this lesson."})})},B=e=>{let{exercise:t,exerciseIndex:n,exerciseAnswers:r,exerciseSubmitted:o,audioPlaying:i,isListening:a,onAnswerChange:l,onBlankAnswerChange:s,onPlayAudio:u,onStartSpeechRecognition:c}=e;return t&&t.items&&Array.isArray(t.items)?"pronunciation"===t.type?(0,x.jsx)("div",{className:"space-y-4",children:t.items.map((e,t)=>e&&e.text?(0,x.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,x.jsx)("p",{className:"text-xl font-bold text-blue-600 mb-2",children:e.text}),(0,x.jsx)("p",{className:"text-gray-600 mb-2",children:e.translation||"No translation available"}),e.phonetic&&(0,x.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["[",e.phonetic,"]"]}),(0,x.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,x.jsxs)("button",{onClick:()=>u(e.text,"gemini"),className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center",disabled:i===e.text,title:"Enhanced AI Voice for pronunciation",children:[(0,x.jsx)(I,{className:"w-4 h-4 mr-2"}),"AI Voice"]}),(0,x.jsxs)("button",{onClick:()=>c(e.text),className:"px-4 py-2 rounded-lg flex items-center text-white ".concat(a?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"),disabled:a,title:"Practice pronunciation",children:[(0,x.jsx)(U,{className:"w-4 h-4 mr-2"}),a?"Listening...":"Practice"]})]})]},t):(0,x.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,x.jsx)("p",{className:"text-red-800",children:"\u26a0\ufe0f Pronunciation exercise data is incomplete"})},t))}):"fill-blank"===t.type?(0,x.jsx)("div",{className:"space-y-4",children:t.items.map((e,t)=>e&&e.blanks&&Array.isArray(e.blanks)?(0,x.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,x.jsx)("p",{className:"text-lg flex-1",children:e.text||"No question text available"}),(0,x.jsx)("button",{onClick:()=>u(e.text,"default"),className:"text-blue-500 hover:text-blue-700 p-1 rounded",disabled:i===e.text,title:"Browser Voice",children:(0,x.jsx)(F,{className:"w-4 h-4"})})]}),(0,x.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:e.blanks.map((e,r)=>(0,x.jsx)("input",{type:"text",className:"border rounded px-3 py-1 text-center w-24",placeholder:"".concat(r+1),onChange:e=>s(n,t,r,e.target.value)},r))}),o&&(0,x.jsxs)("div",{className:"mt-3 p-3 bg-green-100 rounded",children:[(0,x.jsxs)("p",{className:"text-green-800",children:["\u2713 Correct answers: ",e.blanks.join(", ")]}),e.explanation&&(0,x.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:e.explanation})]})]},t):(0,x.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,x.jsx)("p",{className:"text-red-800",children:"\u26a0\ufe0f Fill-blank exercise data is incomplete"})},t))}):"multiple-choice"===t.type?(0,x.jsx)("div",{className:"space-y-4",children:t.items.map((e,t)=>e&&e.options&&Array.isArray(e.options)?(0,x.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,x.jsx)("p",{className:"font-semibold flex-1",children:e.question||"No question available"}),(0,x.jsx)("button",{onClick:()=>u(e.question,"default"),className:"text-blue-500 hover:text-blue-700 p-1 rounded",disabled:i===e.question,title:"Browser Voice",children:(0,x.jsx)(F,{className:"w-4 h-4"})})]}),(0,x.jsx)("div",{className:"space-y-2",children:e.options.map((e,r)=>(0,x.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,x.jsx)("input",{type:"radio",name:"exercise-".concat(n,"-").concat(t),value:r,onChange:e=>l(n,t,parseInt(e.target.value))}),(0,x.jsx)("span",{children:e||"Option not available"})]},r))}),o&&(0,x.jsxs)("div",{className:"mt-3 p-3 bg-green-100 rounded",children:[(0,x.jsxs)("p",{className:"text-green-800",children:["\u2713 Correct answer: ",e.options[e.correct]||"Answer not available"]}),e.explanation&&(0,x.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:e.explanation})]})]},t):(0,x.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,x.jsx)("p",{className:"text-red-800",children:"\u26a0\ufe0f Multiple-choice exercise data is incomplete"})},t))}):(0,x.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,x.jsxs)("p",{className:"text-yellow-800",children:["\u26a0\ufe0f Unknown exercise type: ",t.type||"undefined"]})}):(0,x.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,x.jsx)("p",{className:"text-yellow-800",children:"\u26a0\ufe0f Exercise data is not available or malformed"})})},G=e=>{let{currentTopic:t,exerciseAnswers:n,exerciseSubmitted:r,audioPlaying:o,isListening:i,onAnswerChange:a,onBlankAnswerChange:l,onPlayAudio:s,onStartSpeechRecognition:u,onSubmitExercises:c,onResetExercises:d}=e;return null!==t&&void 0!==t&&t.exercises?(0,x.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg",children:[(0,x.jsx)("h2",{className:"text-3xl font-bold text-blue-600 mb-8",children:"Exercises"}),(0,x.jsx)("div",{className:"space-y-8",children:t.exercises.map((e,t)=>(0,x.jsxs)("div",{className:"border rounded-xl p-6",children:[(0,x.jsx)("h3",{className:"text-xl font-semibold mb-4",children:e.instruction}),B({exercise:e,exerciseIndex:t,exerciseAnswers:n,exerciseSubmitted:r,audioPlaying:o,isListening:i,onAnswerChange:a,onBlankAnswerChange:l,onPlayAudio:s,onStartSpeechRecognition:u})]},t))}),(0,x.jsx)("div",{className:"flex justify-center space-x-4 mt-8",children:r?(0,x.jsx)("button",{onClick:d,className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Try Again"}):(0,x.jsx)("button",{onClick:c,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-semibold",children:"Check Answers"})})]}):(0,x.jsx)("div",{className:"bg-white rounded-3xl p-8 shadow-lg",children:(0,x.jsx)("p",{className:"text-center text-gray-500",children:"No exercises available for this lesson."})})},H=y("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var J,W;!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter(e=>"number"!==typeof t[t[e]]),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map(e=>"string"===typeof e?"'".concat(e,"'"):e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(J||(J={})),function(e){e.mergeShapes=(e,t)=>u(u({},e),t)}(W||(W={}));const K=J.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Z=e=>{switch(typeof e){case"undefined":return K.undefined;case"string":return K.string;case"number":return Number.isNaN(e)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(e)?K.array:null===e?K.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?K.promise:"undefined"!==typeof Map&&e instanceof Map?K.map:"undefined"!==typeof Set&&e instanceof Set?K.set:"undefined"!==typeof Date&&e instanceof Date?K.date:K.object;default:return K.unknown}},Y=J.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class $ extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(r);else if("invalid_return_type"===o.code)r(o.returnTypeError);else if("invalid_arguments"===o.code)r(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else{let e=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof $))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,J.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}$.create=e=>new $(e);const Q=(e,t)=>{let n;switch(e.code){case Y.invalid_type:n=e.received===K.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case Y.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,J.jsonStringifyReplacer));break;case Y.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(J.joinValues(e.keys,", "));break;case Y.invalid_union:n="Invalid input";break;case Y.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(J.joinValues(e.options));break;case Y.invalid_enum_value:n="Invalid enum value. Expected ".concat(J.joinValues(e.options),", received '").concat(e.received,"'");break;case Y.invalid_arguments:n="Invalid function arguments";break;case Y.invalid_return_type:n="Invalid function return type";break;case Y.invalid_date:n="Invalid date";break;case Y.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):J.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case Y.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case Y.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case Y.custom:n="Invalid input";break;case Y.invalid_intersection_types:n="Intersection results could not be merged";break;case Y.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case Y.not_finite:n="Number must be finite";break;default:n=t.defaultError,J.assertNever(e)}return{message:n}};let X=Q;function ee(){return X}const te=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,i=[...n,...o.path||[]],a=u(u({},o),{},{path:i});if(void 0!==o.message)return u(u({},o),{},{path:i,message:o.message});let l="";const s=r.filter(e=>!!e).slice().reverse();for(const u of s)l=u(a,{data:t,defaultError:l}).message;return u(u({},o),{},{path:i,message:l})};function ne(e,t){const n=ee(),r=te({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Q?void 0:Q].filter(e=>!!e)});e.common.issues.push(r)}class re{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return oe;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return re.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:o}=r;if("aborted"===t.status)return oe;if("aborted"===o.status)return oe;"dirty"===t.status&&e.dirty(),"dirty"===o.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof o.value&&!r.alwaysSet||(n[t.value]=o.value)}return{status:e.value,value:n}}}const oe=Object.freeze({status:"aborted"}),ie=e=>({status:"dirty",value:e}),ae=e=>({status:"valid",value:e}),le=e=>"aborted"===e.status,se=e=>"dirty"===e.status,ue=e=>"valid"===e.status,ce=e=>"undefined"!==typeof Promise&&e instanceof Promise;var de;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(de||(de={}));class fe{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pe=(e,t)=>{if(ue(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new $(e.common.issues);return this._error=t,this._error}}};function he(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:o};return{errorMap:(t,o)=>{var i;const{message:a}=e;return"invalid_enum_value"===t.code?{message:null!==a&&void 0!==a?a:o.defaultError}:"undefined"===typeof o.data?{message:null!==(l=null!==a&&void 0!==a?a:r)&&void 0!==l?l:o.defaultError}:"invalid_type"!==t.code?{message:o.defaultError}:{message:null!==(i=null!==a&&void 0!==a?a:n)&&void 0!==i?i:o.defaultError};var l},description:o}}class me{get description(){return this._def.description}_getType(e){return Z(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Z(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new re,ctx:{common:e.parent.common,data:e.data,parsedType:Z(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ce(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Z(e)},o=this._parseSync({data:e,path:r.path,parent:r});return pe(r,o)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Z(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return ue(n)?{value:n.value}:{issues:t.common.issues}}catch(r){var n;null!==r&&void 0!==r&&null!==(n=r.message)&&void 0!==n&&null!==(n=n.toLowerCase())&&void 0!==n&&n.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>ue(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Z(e)},r=this._parse({data:e,path:n.path,parent:n}),o=await(ce(r)?r:Promise.resolve(r));return pe(n,o)}refine(e,t){return this._refinement((n,r)=>{const o=e(n),i=()=>r.addIssue(u({code:Y.custom},(e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t)(n)));return"undefined"!==typeof Promise&&o instanceof Promise?o.then(e=>!!e||(i(),!1)):!!o||(i(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1))}_refinement(e){return new ht({schema:this,typeName:St.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return mt.create(this,this._def)}nullable(){return gt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qe.create(this)}promise(){return pt.create(this,this._def)}or(e){return tt.create([this,e],this._def)}and(e){return rt.create(this,e,this._def)}transform(e){return new ht(u(u({},he(this._def)),{},{schema:this,typeName:St.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"===typeof e?e:()=>e;return new yt(u(u({},he(this._def)),{},{innerType:this,defaultValue:t,typeName:St.ZodDefault}))}brand(){return new xt(u({typeName:St.ZodBranded,type:this},he(this._def)))}catch(e){const t="function"===typeof e?e:()=>e;return new vt(u(u({},he(this._def)),{},{innerType:this,catchValue:t,typeName:St.ZodCatch}))}describe(e){return new(0,this.constructor)(u(u({},this._def),{},{description:e}))}pipe(e){return wt.create(this,e)}readonly(){return _t.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ge=/^c[^\s-]{8,}$/i,ye=/^[0-9a-z]+$/,ve=/^[0-9A-HJKMNP-TV-Z]{26}$/i,be=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xe=/^[a-z0-9_-]{21}$/i,we=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Se=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Ce;const Ee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Te=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ke=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ne=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Oe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ie="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Pe=new RegExp("^".concat(Ie,"$"));function Re(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));const n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}function je(e){return new RegExp("^".concat(Re(e),"$"))}function De(e){let t="".concat(Ie,"T").concat(Re(e));const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function Me(e,t){return!("v4"!==t&&t||!Ee.test(e))||!("v6"!==t&&t||!ke.test(e))}function Le(e,t){if(!we.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return"object"===typeof o&&null!==o&&((!("typ"in o)||"JWT"===(null===o||void 0===o?void 0:o.typ))&&(!!o.alg&&(!t||o.alg===t)))}catch(n){return!1}}function Ue(e,t){return!("v4"!==t&&t||!Te.test(e))||!("v6"!==t&&t||!Ne.test(e))}class Fe extends me{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==K.string){const t=this._getOrReturnCtx(e);return ne(t,{code:Y.invalid_type,expected:K.string,received:t.parsedType}),oe}const t=new re;let n;for(const o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Y.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("max"===o.kind)e.data.length>o.value&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Y.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("length"===o.kind){const r=e.data.length>o.value,i=e.data.length<o.value;(r||i)&&(n=this._getOrReturnCtx(e,n),r?ne(n,{code:Y.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):i&&ne(n,{code:Y.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),t.dirty())}else if("email"===o.kind)Se.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"email",code:Y.invalid_string,message:o.message}),t.dirty());else if("emoji"===o.kind)Ce||(Ce=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ce.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"emoji",code:Y.invalid_string,message:o.message}),t.dirty());else if("uuid"===o.kind)be.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"uuid",code:Y.invalid_string,message:o.message}),t.dirty());else if("nanoid"===o.kind)xe.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"nanoid",code:Y.invalid_string,message:o.message}),t.dirty());else if("cuid"===o.kind)ge.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"cuid",code:Y.invalid_string,message:o.message}),t.dirty());else if("cuid2"===o.kind)ye.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"cuid2",code:Y.invalid_string,message:o.message}),t.dirty());else if("ulid"===o.kind)ve.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"ulid",code:Y.invalid_string,message:o.message}),t.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),ne(n,{validation:"url",code:Y.invalid_string,message:o.message}),t.dirty()}else if("regex"===o.kind){o.regex.lastIndex=0;o.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"regex",code:Y.invalid_string,message:o.message}),t.dirty())}else if("trim"===o.kind)e.data=e.data.trim();else if("includes"===o.kind)e.data.includes(o.value,o.position)||(n=this._getOrReturnCtx(e,n),ne(n,{code:Y.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),t.dirty());else if("toLowerCase"===o.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===o.kind)e.data=e.data.toUpperCase();else if("startsWith"===o.kind)e.data.startsWith(o.value)||(n=this._getOrReturnCtx(e,n),ne(n,{code:Y.invalid_string,validation:{startsWith:o.value},message:o.message}),t.dirty());else if("endsWith"===o.kind)e.data.endsWith(o.value)||(n=this._getOrReturnCtx(e,n),ne(n,{code:Y.invalid_string,validation:{endsWith:o.value},message:o.message}),t.dirty());else if("datetime"===o.kind){De(o).test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{code:Y.invalid_string,validation:"datetime",message:o.message}),t.dirty())}else if("date"===o.kind){Pe.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{code:Y.invalid_string,validation:"date",message:o.message}),t.dirty())}else if("time"===o.kind){je(o).test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{code:Y.invalid_string,validation:"time",message:o.message}),t.dirty())}else"duration"===o.kind?_e.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"duration",code:Y.invalid_string,message:o.message}),t.dirty()):"ip"===o.kind?Me(e.data,o.version)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"ip",code:Y.invalid_string,message:o.message}),t.dirty()):"jwt"===o.kind?Le(e.data,o.alg)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"jwt",code:Y.invalid_string,message:o.message}),t.dirty()):"cidr"===o.kind?Ue(e.data,o.version)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"cidr",code:Y.invalid_string,message:o.message}),t.dirty()):"base64"===o.kind?Ae.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"base64",code:Y.invalid_string,message:o.message}),t.dirty()):"base64url"===o.kind?Oe.test(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{validation:"base64url",code:Y.invalid_string,message:o.message}),t.dirty()):J.assertNever(o);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),u({validation:t,code:Y.invalid_string},de.errToObj(n)))}_addCheck(e){return new Fe(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(u({kind:"email"},de.errToObj(e)))}url(e){return this._addCheck(u({kind:"url"},de.errToObj(e)))}emoji(e){return this._addCheck(u({kind:"emoji"},de.errToObj(e)))}uuid(e){return this._addCheck(u({kind:"uuid"},de.errToObj(e)))}nanoid(e){return this._addCheck(u({kind:"nanoid"},de.errToObj(e)))}cuid(e){return this._addCheck(u({kind:"cuid"},de.errToObj(e)))}cuid2(e){return this._addCheck(u({kind:"cuid2"},de.errToObj(e)))}ulid(e){return this._addCheck(u({kind:"ulid"},de.errToObj(e)))}base64(e){return this._addCheck(u({kind:"base64"},de.errToObj(e)))}base64url(e){return this._addCheck(u({kind:"base64url"},de.errToObj(e)))}jwt(e){return this._addCheck(u({kind:"jwt"},de.errToObj(e)))}ip(e){return this._addCheck(u({kind:"ip"},de.errToObj(e)))}cidr(e){return this._addCheck(u({kind:"cidr"},de.errToObj(e)))}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(u({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n},de.errToObj(null===e||void 0===e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(u({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision},de.errToObj(null===e||void 0===e?void 0:e.message)))}duration(e){return this._addCheck(u({kind:"duration"},de.errToObj(e)))}regex(e,t){return this._addCheck(u({kind:"regex",regex:e},de.errToObj(t)))}includes(e,t){return this._addCheck(u({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position},de.errToObj(null===t||void 0===t?void 0:t.message)))}startsWith(e,t){return this._addCheck(u({kind:"startsWith",value:e},de.errToObj(t)))}endsWith(e,t){return this._addCheck(u({kind:"endsWith",value:e},de.errToObj(t)))}min(e,t){return this._addCheck(u({kind:"min",value:e},de.errToObj(t)))}max(e,t){return this._addCheck(u({kind:"max",value:e},de.errToObj(t)))}length(e,t){return this._addCheck(u({kind:"length",value:e},de.errToObj(t)))}nonempty(e){return this.min(1,de.errToObj(e))}trim(){return new Fe(u(u({},this._def),{},{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new Fe(u(u({},this._def),{},{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new Fe(u(u({},this._def),{},{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function qe(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}Fe.create=e=>{var t;return new Fe(u({checks:[],typeName:St.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},he(e)))};class ze extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==K.number){const t=this._getOrReturnCtx(e);return ne(t,{code:Y.invalid_type,expected:K.number,received:t.parsedType}),oe}let t;const n=new re;for(const r of this._def.checks)if("int"===r.kind)J.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),ne(t,{code:Y.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),ne(t,{code:Y.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),ne(t,{code:Y.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==qe(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),ne(t,{code:Y.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),ne(t,{code:Y.not_finite,message:r.message}),n.dirty()):J.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,de.toString(t))}gt(e,t){return this.setLimit("min",e,!1,de.toString(t))}lte(e,t){return this.setLimit("max",e,!0,de.toString(t))}lt(e,t){return this.setLimit("max",e,!1,de.toString(t))}setLimit(e,t,n,r){return new ze(u(u({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:de.toString(r)}]}))}_addCheck(e){return new ze(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:de.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:de.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&J.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ze.create=e=>new ze(u({checks:[],typeName:St.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},he(e)));class Ve extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(r){return this._getInvalidInput(e)}if(this._getType(e)!==K.bigint)return this._getInvalidInput(e);let t;const n=new re;for(const o of this._def.checks)if("min"===o.kind){(o.inclusive?e.data<o.value:e.data<=o.value)&&(t=this._getOrReturnCtx(e,t),ne(t,{code:Y.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty())}else if("max"===o.kind){(o.inclusive?e.data>o.value:e.data>=o.value)&&(t=this._getOrReturnCtx(e,t),ne(t,{code:Y.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty())}else"multipleOf"===o.kind?e.data%o.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),ne(t,{code:Y.not_multiple_of,multipleOf:o.value,message:o.message}),n.dirty()):J.assertNever(o);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return ne(t,{code:Y.invalid_type,expected:K.bigint,received:t.parsedType}),oe}gte(e,t){return this.setLimit("min",e,!0,de.toString(t))}gt(e,t){return this.setLimit("min",e,!1,de.toString(t))}lte(e,t){return this.setLimit("max",e,!0,de.toString(t))}lt(e,t){return this.setLimit("max",e,!1,de.toString(t))}setLimit(e,t,n,r){return new Ve(u(u({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:de.toString(r)}]}))}_addCheck(e){return new Ve(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Ve.create=e=>{var t;return new Ve(u({checks:[],typeName:St.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},he(e)))};class Be extends me{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==K.boolean){const t=this._getOrReturnCtx(e);return ne(t,{code:Y.invalid_type,expected:K.boolean,received:t.parsedType}),oe}return ae(e.data)}}Be.create=e=>new Be(u({typeName:St.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},he(e)));class Ge extends me{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==K.date){const t=this._getOrReturnCtx(e);return ne(t,{code:Y.invalid_type,expected:K.date,received:t.parsedType}),oe}if(Number.isNaN(e.data.getTime())){return ne(this._getOrReturnCtx(e),{code:Y.invalid_date}),oe}const t=new re;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Y.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Y.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):J.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ge(u(u({},this._def),{},{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:de.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:de.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Ge.create=e=>new Ge(u({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:St.ZodDate},he(e)));class He extends me{_parse(e){if(this._getType(e)!==K.symbol){const t=this._getOrReturnCtx(e);return ne(t,{code:Y.invalid_type,expected:K.symbol,received:t.parsedType}),oe}return ae(e.data)}}He.create=e=>new He(u({typeName:St.ZodSymbol},he(e)));class Je extends me{_parse(e){if(this._getType(e)!==K.undefined){const t=this._getOrReturnCtx(e);return ne(t,{code:Y.invalid_type,expected:K.undefined,received:t.parsedType}),oe}return ae(e.data)}}Je.create=e=>new Je(u({typeName:St.ZodUndefined},he(e)));class We extends me{_parse(e){if(this._getType(e)!==K.null){const t=this._getOrReturnCtx(e);return ne(t,{code:Y.invalid_type,expected:K.null,received:t.parsedType}),oe}return ae(e.data)}}We.create=e=>new We(u({typeName:St.ZodNull},he(e)));class Ke extends me{constructor(){super(...arguments),this._any=!0}_parse(e){return ae(e.data)}}Ke.create=e=>new Ke(u({typeName:St.ZodAny},he(e)));class Ze extends me{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ae(e.data)}}Ze.create=e=>new Ze(u({typeName:St.ZodUnknown},he(e)));class Ye extends me{_parse(e){const t=this._getOrReturnCtx(e);return ne(t,{code:Y.invalid_type,expected:K.never,received:t.parsedType}),oe}}Ye.create=e=>new Ye(u({typeName:St.ZodNever},he(e)));class $e extends me{_parse(e){if(this._getType(e)!==K.undefined){const t=this._getOrReturnCtx(e);return ne(t,{code:Y.invalid_type,expected:K.void,received:t.parsedType}),oe}return ae(e.data)}}$e.create=e=>new $e(u({typeName:St.ZodVoid},he(e)));class Qe extends me{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==K.array)return ne(t,{code:Y.invalid_type,expected:K.array,received:t.parsedType}),oe;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(e||o)&&(ne(t,{code:e?Y.too_big:Y.too_small,minimum:o?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(ne(t,{code:Y.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(ne(t,{code:Y.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new fe(t,e,t.path,n)))).then(e=>re.mergeArray(n,e));const o=[...t.data].map((e,n)=>r.type._parseSync(new fe(t,e,t.path,n)));return re.mergeArray(n,o)}get element(){return this._def.type}min(e,t){return new Qe(u(u({},this._def),{},{minLength:{value:e,message:de.toString(t)}}))}max(e,t){return new Qe(u(u({},this._def),{},{maxLength:{value:e,message:de.toString(t)}}))}length(e,t){return new Qe(u(u({},this._def),{},{exactLength:{value:e,message:de.toString(t)}}))}nonempty(e){return this.min(1,e)}}function Xe(e){if(e instanceof et){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=mt.create(Xe(r))}return new et(u(u({},e._def),{},{shape:()=>t}))}return e instanceof Qe?new Qe(u(u({},e._def),{},{type:Xe(e.element)})):e instanceof mt?mt.create(Xe(e.unwrap())):e instanceof gt?gt.create(Xe(e.unwrap())):e instanceof ot?ot.create(e.items.map(e=>Xe(e))):e}Qe.create=(e,t)=>new Qe(u({type:e,minLength:null,maxLength:null,exactLength:null,typeName:St.ZodArray},he(t)));class et extends me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=J.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==K.object){const t=this._getOrReturnCtx(e);return ne(t,{code:Y.invalid_type,expected:K.object,received:t.parsedType}),oe}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof Ye&&"strip"===this._def.unknownKeys))for(const l in n.data)o.includes(l)||i.push(l);const a=[];for(const l of o){const e=r[l],t=n.data[l];a.push({key:{status:"valid",value:l},value:e._parse(new fe(n,t,n.path,l)),alwaysSet:l in n.data})}if(this._def.catchall instanceof Ye){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of i)a.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)i.length>0&&(ne(n,{code:Y.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new fe(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of a){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>re.mergeObjectSync(t,e)):re.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return de.errToObj,new et(u(u({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:(t,n)=>{var r,o,i,a;const l=null!==(r=null===(o=(i=this._def).errorMap)||void 0===o?void 0:o.call(i,t,n).message)&&void 0!==r?r:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=de.errToObj(e).message)&&void 0!==a?a:l}:{message:l}}}:{}))}strip(){return new et(u(u({},this._def),{},{unknownKeys:"strip"}))}passthrough(){return new et(u(u({},this._def),{},{unknownKeys:"passthrough"}))}extend(e){return new et(u(u({},this._def),{},{shape:()=>u(u({},this._def.shape()),e)}))}merge(e){return new et({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>u(u({},this._def.shape()),e._def.shape()),typeName:St.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new et(u(u({},this._def),{},{catchall:e}))}pick(e){const t={};for(const n of J.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new et(u(u({},this._def),{},{shape:()=>t}))}omit(e){const t={};for(const n of J.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new et(u(u({},this._def),{},{shape:()=>t}))}deepPartial(){return Xe(this)}partial(e){const t={};for(const n of J.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new et(u(u({},this._def),{},{shape:()=>t}))}required(e){const t={};for(const n of J.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof mt;)e=e._def.innerType;t[n]=e}return new et(u(u({},this._def),{},{shape:()=>t}))}keyof(){return ct(J.objectKeys(this.shape))}}et.create=(e,t)=>new et(u({shape:()=>e,unknownKeys:"strip",catchall:Ye.create(),typeName:St.ZodObject},he(t))),et.strictCreate=(e,t)=>new et(u({shape:()=>e,unknownKeys:"strict",catchall:Ye.create(),typeName:St.ZodObject},he(t))),et.lazycreate=(e,t)=>new et(u({shape:e,unknownKeys:"strip",catchall:Ye.create(),typeName:St.ZodObject},he(t)));class tt extends me{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n=u(u({},t),{},{common:u(u({},t.common),{},{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map(e=>new $(e.ctx.common.issues));return ne(t,{code:Y.invalid_union,unionErrors:n}),oe});{let e;const r=[];for(const i of n){const n=u(u({},t),{},{common:u(u({},t.common),{},{issues:[]}),parent:null}),o=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const o=r.map(e=>new $(e));return ne(t,{code:Y.invalid_union,unionErrors:o}),oe}}get options(){return this._def.options}}tt.create=(e,t)=>new tt(u({options:e,typeName:St.ZodUnion},he(t)));function nt(e,t){const n=Z(e),r=Z(t);if(e===t)return{valid:!0,data:e};if(n===K.object&&r===K.object){const n=J.objectKeys(t),r=J.objectKeys(e).filter(e=>-1!==n.indexOf(e)),o=u(u({},e),t);for(const i of r){const n=nt(e[i],t[i]);if(!n.valid)return{valid:!1};o[i]=n.data}return{valid:!0,data:o}}if(n===K.array&&r===K.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const o=nt(e[r],t[r]);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}return n===K.date&&r===K.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class rt extends me{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(le(e)||le(r))return oe;const o=nt(e.value,r.value);return o.valid?((se(e)||se(r))&&t.dirty(),{status:t.value,value:o.data}):(ne(n,{code:Y.invalid_intersection_types}),oe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(e=>{let[t,n]=e;return r(t,n)}):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}rt.create=(e,t,n)=>new rt(u({left:e,right:t,typeName:St.ZodIntersection},he(n)));class ot extends me{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==K.array)return ne(n,{code:Y.invalid_type,expected:K.array,received:n.parsedType}),oe;if(n.data.length<this._def.items.length)return ne(n,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),oe;!this._def.rest&&n.data.length>this._def.items.length&&(ne(n,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new fe(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>re.mergeArray(t,e)):re.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new ot(u(u({},this._def),{},{rest:e}))}}ot.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ot(u({items:e,typeName:St.ZodTuple,rest:null},he(t)))};class it extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==K.object)return ne(n,{code:Y.invalid_type,expected:K.object,received:n.parsedType}),oe;const r=[],o=this._def.keyType,i=this._def.valueType;for(const a in n.data)r.push({key:o._parse(new fe(n,a,n.path,a)),value:i._parse(new fe(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?re.mergeObjectAsync(t,r):re.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new it(t instanceof me?u({keyType:e,valueType:t,typeName:St.ZodRecord},he(n)):u({keyType:Fe.create(),valueType:e,typeName:St.ZodRecord},he(t)))}}class at extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==K.map)return ne(n,{code:Y.invalid_type,expected:K.map,received:n.parsedType}),oe;const r=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map((e,t)=>{let[i,a]=e;return{key:r._parse(new fe(n,i,n.path,[t,"key"])),value:o._parse(new fe(n,a,n.path,[t,"value"]))}});if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of i){const r=await n.key,o=await n.value;if("aborted"===r.status||"aborted"===o.status)return oe;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of i){const r=n.key,o=n.value;if("aborted"===r.status||"aborted"===o.status)return oe;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}}}at.create=(e,t,n)=>new at(u({valueType:t,keyType:e,typeName:St.ZodMap},he(n)));class lt extends me{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==K.set)return ne(n,{code:Y.invalid_type,expected:K.set,received:n.parsedType}),oe;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(ne(n,{code:Y.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(ne(n,{code:Y.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const o=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return oe;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const a=[...n.data.values()].map((e,t)=>o._parse(new fe(n,e,n.path,t)));return n.common.async?Promise.all(a).then(e=>i(e)):i(a)}min(e,t){return new lt(u(u({},this._def),{},{minSize:{value:e,message:de.toString(t)}}))}max(e,t){return new lt(u(u({},this._def),{},{maxSize:{value:e,message:de.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}lt.create=(e,t)=>new lt(u({valueType:e,minSize:null,maxSize:null,typeName:St.ZodSet},he(t)));class st extends me{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}st.create=(e,t)=>new st(u({getter:e,typeName:St.ZodLazy},he(t)));class ut extends me{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ne(t,{received:t.data,code:Y.invalid_literal,expected:this._def.value}),oe}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ct(e,t){return new dt(u({values:e,typeName:St.ZodEnum},he(t)))}ut.create=(e,t)=>new ut(u({value:e,typeName:St.ZodLiteral},he(t)));class dt extends me{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return ne(t,{expected:J.joinValues(n),received:t.parsedType,code:Y.invalid_type}),oe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return ne(t,{received:t.data,code:Y.invalid_enum_value,options:n}),oe}return ae(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return dt.create(e,u(u({},this._def),t))}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return dt.create(this.options.filter(t=>!e.includes(t)),u(u({},this._def),t))}}dt.create=ct;class ft extends me{_parse(e){const t=J.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==K.string&&n.parsedType!==K.number){const e=J.objectValues(t);return ne(n,{expected:J.joinValues(e),received:n.parsedType,code:Y.invalid_type}),oe}if(this._cache||(this._cache=new Set(J.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=J.objectValues(t);return ne(n,{received:n.data,code:Y.invalid_enum_value,options:e}),oe}return ae(e.data)}get enum(){return this._def.values}}ft.create=(e,t)=>new ft(u({values:e,typeName:St.ZodNativeEnum},he(t)));class pt extends me{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==K.promise&&!1===t.common.async)return ne(t,{code:Y.invalid_type,expected:K.promise,received:t.parsedType}),oe;const n=t.parsedType===K.promise?t.data:Promise.resolve(t.data);return ae(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}pt.create=(e,t)=>new pt(u({type:e,typeName:St.ZodPromise},he(t)));class ht extends me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===St.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,o={addIssue:e=>{ne(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===r.type){const e=r.transform(n.data,o);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return oe;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?oe:"dirty"===r.status||"dirty"===t.value?ie(r.value):r});{if("aborted"===t.value)return oe;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?oe:"dirty"===r.status||"dirty"===t.value?ie(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,o);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?oe:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?oe:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ue(e))return oe;const i=r.transform(e.value,o);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>ue(e)?Promise.resolve(r.transform(e.value,o)).then(e=>({status:t.value,value:e})):oe)}J.assertNever(r)}}ht.create=(e,t,n)=>new ht(u({schema:e,typeName:St.ZodEffects,effect:t},he(n))),ht.createWithPreprocess=(e,t,n)=>new ht(u({schema:t,effect:{type:"preprocess",transform:e},typeName:St.ZodEffects},he(n)));class mt extends me{_parse(e){return this._getType(e)===K.undefined?ae(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}mt.create=(e,t)=>new mt(u({innerType:e,typeName:St.ZodOptional},he(t)));class gt extends me{_parse(e){return this._getType(e)===K.null?ae(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gt.create=(e,t)=>new gt(u({innerType:e,typeName:St.ZodNullable},he(t)));class yt extends me{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===K.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}yt.create=(e,t)=>new yt(u({innerType:e,typeName:St.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default},he(t)));class vt extends me{_parse(e){const{ctx:t}=this._processInputParams(e),n=u(u({},t),{},{common:u(u({},t.common),{},{issues:[]})}),r=this._def.innerType._parse({data:n.data,path:n.path,parent:u({},n)});return ce(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new $(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new $(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}vt.create=(e,t)=>new vt(u({innerType:e,typeName:St.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch},he(t)));class bt extends me{_parse(e){if(this._getType(e)!==K.nan){const t=this._getOrReturnCtx(e);return ne(t,{code:Y.invalid_type,expected:K.nan,received:t.parsedType}),oe}return{status:"valid",value:e.data}}}bt.create=e=>new bt(u({typeName:St.ZodNaN},he(e)));Symbol("zod_brand");class xt extends me{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class wt extends me{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?oe:"dirty"===e.status?(t.dirty(),ie(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?oe:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new wt({in:e,out:t,typeName:St.ZodPipeline})}}class _t extends me{_parse(e){const t=this._def.innerType._parse(e),n=e=>(ue(e)&&(e.value=Object.freeze(e.value)),e);return ce(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}_t.create=(e,t)=>new _t(u({innerType:e,typeName:St.ZodReadonly},he(t)));et.lazycreate;var St;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(St||(St={}));const Ct=Fe.create,Et=ze.create,Tt=(bt.create,Ve.create,Be.create),kt=(Ge.create,He.create,Je.create,We.create,Ke.create,Ze.create),Nt=(Ye.create,$e.create,Qe.create),At=et.create,Ot=(et.strictCreate,tt.create),It=(rt.create,ot.create,it.create),Pt=(at.create,lt.create,st.create),Rt=(ut.create,dt.create),jt=(ft.create,pt.create,ht.create,mt.create,gt.create,ht.createWithPreprocess,wt.create,e=>Fe.create(u(u({},e),{},{coerce:!0})));let Dt,Mt;function Lt(e,t,n){var r,o,i;if(!(null===(r=e.httpOptions)||void 0===r?void 0:r.baseUrl)){const r={geminiUrl:Dt,vertexUrl:Mt};return e.vertexai?null!==(o=r.vertexUrl)&&void 0!==o?o:t:null!==(i=r.geminiUrl)&&void 0!==i?i:n}return e.httpOptions.baseUrl}class Ut{}function Ft(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return void 0!==e&&null!==e?String(e):""}throw new Error("Key '".concat(n,"' not found in valueMap."))})}function qt(e,t,n){for(let i=0;i<t.length-1;i++){const r=t[i];if(r.endsWith("[]")){const o=r.slice(0,-2);if(!(o in e)){if(!Array.isArray(n))throw new Error("Value must be a list given an array path ".concat(r));e[o]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[o])){const r=e[o];if(Array.isArray(n))for(let e=0;e<r.length;e++){qt(r[e],t.slice(i+1),n[e])}else for(const e of r)qt(e,t.slice(i+1),n)}return}if(r.endsWith("[0]")){const o=r.slice(0,-3);o in e||(e[o]=[{}]);return void qt(e[o][0],t.slice(i+1),n)}e[r]&&"object"===typeof e[r]||(e[r]={}),e=e[r]}const r=t[t.length-1],o=e[r];if(void 0!==o){if(!n||"object"===typeof n&&0===Object.keys(n).length)return;if(n===o)return;if("object"!==typeof o||"object"!==typeof n||null===o||null===n)throw new Error("Cannot set value for an existing key. Key: ".concat(r));Object.assign(o,n)}else e[r]=n}function zt(e,t){try{if(1===t.length&&"_self"===t[0])return e;for(let n=0;n<t.length;n++){if("object"!==typeof e||null===e)return;const r=t[n];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in e){const r=e[o];if(!Array.isArray(r))return;return r.map(e=>zt(e,t.slice(n+1)))}return}e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}var Vt,Bt,Gt,Ht,Jt,Wt,Kt,Zt,Yt,$t,Qt,Xt,en,tn,nn,rn,on,an,ln,sn,un,cn,dn,fn,pn,hn,mn,gn,yn,vn,bn,xn,wn,_n,Sn,Cn,En,Tn,kn,Nn;!function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"}(Vt||(Vt={})),function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"}(Bt||(Bt={})),function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"}(Gt||(Gt={})),function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(Ht||(Ht={})),function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"}(Jt||(Jt={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"}(Wt||(Wt={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(Kt||(Kt={})),function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"}(Zt||(Zt={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"}(Yt||(Yt={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}($t||($t={})),function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"}(Qt||(Qt={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"}(Xt||(Xt={})),function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"}(en||(en={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"}(tn||(tn={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"}(nn||(nn={})),function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"}(rn||(rn={})),function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"}(on||(on={})),function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"}(an||(an={})),function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"}(ln||(ln={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(sn||(sn={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"}(un||(un={})),function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"}(cn||(cn={})),function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(dn||(dn={})),function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"}(fn||(fn={})),function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"}(pn||(pn={})),function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"}(hn||(hn={})),function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"}(mn||(mn={})),function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"}(gn||(gn={})),function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"}(yn||(yn={})),function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"}(vn||(vn={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"}(bn||(bn={})),function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"}(xn||(xn={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"}(wn||(wn={})),function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"}(_n||(_n={})),function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"}(Sn||(Sn={})),function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"}(Cn||(Cn={})),function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"}(En||(En={})),function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"}(Tn||(Tn={})),function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"}(kn||(kn={})),function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"}(Nn||(Nn={}));class An{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class On{get text(){var e,t,n,r,o,i,a,l;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let s="",u=!1;const c=[];for(const d of null!==(l=null===(a=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===a?void 0:a.parts)&&void 0!==l?l:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||null===t&&void 0===t||c.push(e);if("string"===typeof d.text){if("boolean"===typeof d.thought&&d.thought)continue;u=!0,s+=d.text}}return c.length>0&&console.warn("there are non-text parts ".concat(c," in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.")),u?s:void 0}get data(){var e,t,n,r,o,i,a,l;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let s="";const u=[];for(const c of null!==(l=null===(a=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===a?void 0:a.parts)&&void 0!==l?l:[]){for(const[e,t]of Object.entries(c))"inlineData"===e||null===t&&void 0===t||u.push(e);c.inlineData&&"string"===typeof c.inlineData.data&&(s+=atob(c.inlineData.data))}return u.length>0&&console.warn("there are non-data parts ".concat(u," in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.")),s.length>0?btoa(s):void 0}get functionCalls(){var e,t,n,r,o,i,a,l;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const s=null===(l=null===(a=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===a?void 0:a.parts)||void 0===l?void 0:l.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null===s||void 0===s?void 0:s.length)?s:void 0}get executableCode(){var e,t,n,r,o,i,a,l,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=null===(l=null===(a=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===a?void 0:a.parts)||void 0===l?void 0:l.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null===u||void 0===u?void 0:u.length)?null===(s=null===u||void 0===u?void 0:u[0])||void 0===s?void 0:s.code:void 0}get codeExecutionResult(){var e,t,n,r,o,i,a,l,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=null===(l=null===(a=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===a?void 0:a.parts)||void 0===l?void 0:l.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null===u||void 0===u?void 0:u.length)?null===(s=null===u||void 0===u?void 0:u[0])||void 0===s?void 0:s.output:void 0}}class In{}class Pn{}class Rn{}class jn{}class Dn{}class Mn{}class Ln{}class Un{}class Fn{}class qn{}class zn{}class Vn{}class Bn{}class Gn{}class Hn{}class Jn{get text(){var e,t,n;let r="",o=!1;const i=[];for(const a of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(a))"text"!==e&&"thought"!==e&&null!==t&&i.push(e);if("string"===typeof a.text){if("boolean"===typeof a.thought&&a.thought)continue;o=!0,r+=a.text}}return i.length>0&&console.warn("there are non-text parts ".concat(i," in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.")),o?r:void 0}get data(){var e,t,n;let r="";const o=[];for(const i of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(i))"inlineData"!==e&&null!==t&&o.push(e);i.inlineData&&"string"===typeof i.inlineData.data&&(r+=atob(i.inlineData.data))}return o.length>0&&console.warn("there are non-data parts ".concat(o," in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.")),r.length>0?btoa(r):void 0}}class Wn{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}function Kn(e,t){if(!t||"string"!==typeof t)throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return"publishers/".concat(e[0],"/models/").concat(e[1])}return"publishers/google/models/".concat(t)}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:"models/".concat(t)}function Zn(e,t){const n=Kn(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(n):n.startsWith("models/")&&e.isVertexAI()?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/publishers/google/").concat(n):n:""}function Yn(e){return Array.isArray(e)?e.map(e=>$n(e)):[$n(e)]}function $n(e){if("object"===typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: ".concat(typeof e))}function Qn(e){if(null===e||void 0===e)throw new Error("PartUnion is required");if("object"===typeof e)return e;if("string"===typeof e)return{text:e};throw new Error("Unsupported part type: ".concat(typeof e))}function Xn(e){if(null===e||void 0===e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>Qn(e)):[Qn(e)]}function er(e){return null!==e&&void 0!==e&&"object"===typeof e&&"parts"in e&&Array.isArray(e.parts)}function tr(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionCall"in e}function nr(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionResponse"in e}function rr(e){if(null===e||void 0===e)throw new Error("ContentUnion is required");return er(e)?e:{role:"user",parts:Xn(e)}}function or(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=rr(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=rr(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>rr(e)):[rr(t)]}function ir(e){if(null===e||void 0===e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(tr(e)||nr(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rr(e)]}const t=[],n=[],r=er(e[0]);for(const o of e){const e=er(o);if(e!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(o);else{if(tr(o)||nr(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||t.push({role:"user",parts:Xn(n)}),t}const ar=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),lr=Rt(["string","number","integer","object","array","boolean","null"]),sr=Ot([lr,Nt(lr)]);function ur(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;null!=i&&2==i.length&&("null"===i[0].type?(t.nullable=!0,e=i[1]):"null"===i[1].type&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(Gt).includes(n[0].toUpperCase())?n[0].toUpperCase():Gt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(Gt).includes(e.toUpperCase())?e.toUpperCase():Gt.TYPE_UNSPECIFIED})}}(e.type,t);for(const[a,l]of Object.entries(e))if(null!=l)if("type"==a){if("null"===l)throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;t.type=Object.values(Gt).includes(l.toUpperCase())?l.toUpperCase():Gt.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=ur(l);else if(r.includes(a)){const e=[];for(const n of l)"null"!=n.type?e.push(ur(n)):t.nullable=!0;t[a]=e}else if(o.includes(a)){const e={};for(const[t,n]of Object.entries(l))e[t]=ur(n);t[a]=e}else{if("additionalProperties"===a)continue;t[a]=l}return t}function cr(e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=Pt(()=>{const n=At({type:sr.optional(),format:Ct().optional(),title:Ct().optional(),description:Ct().optional(),default:kt().optional(),items:t.optional(),minItems:jt().optional(),maxItems:jt().optional(),enum:Nt(kt()).optional(),properties:It(Ct(),t).optional(),required:Nt(Ct()).optional(),minProperties:jt().optional(),maxProperties:jt().optional(),propertyOrdering:Nt(Ct()).optional(),minimum:Et().optional(),maximum:Et().optional(),minLength:jt().optional(),maxLength:jt().optional(),pattern:Ct().optional(),anyOf:Nt(t).optional(),additionalProperties:Tt().optional()});return e?n.strict():n});return t}().parse(e);return ur(t)}return ur(e)}function dr(e){if("object"===typeof e)return e;if("string"===typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: ".concat(typeof e))}function fr(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function pr(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=cr(t.parameters)),t.response&&(t.response=cr(t.response));return e}function hr(e){if(void 0===e||null===e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function mr(e,t){if("string"!==typeof t)throw new Error("name must be a string");return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=!t.startsWith("".concat(n,"/"))&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?"projects/".concat(e.getProject(),"/").concat(t):t.startsWith("".concat(n,"/"))?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(t):o?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(n,"/").concat(t):t:o?"".concat(n,"/").concat(t):t}(e,t,"cachedContents")}function gr(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function yr(e){if("string"!==typeof e)throw new Error("fromImageBytes must be a string");return e}function vr(e){var t;let n;var r;if(null!==(r=e)&&void 0!==r&&"object"===typeof r&&"name"in r&&(n=e.name),(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"uri"in e}(e)||(n=e.uri,void 0!==n))&&(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"video"in e}(e)||(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0!==n))){if("string"===typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error("Could not extract file name from URI ".concat(n));n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function br(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function xr(e){for(const t of["models","tunedModels","publisherModels"])if(wr(e,t))return e[t];return[]}function wr(e,t){return null!==e&&"object"===typeof e&&t in e}function _r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e,r={name:n.name,description:n.description,parameters:ur(Er(n.inputSchema))};t.behavior&&(r.behavior=t.behavior);return{functionDeclarations:[r]}}function Sr(e){const t=[];for(const n of e)t.push(Er(n));return t}function Cr(e){const t={};for(const[n,r]of Object.entries(e)){const e=r;t[n]=Er(e)}return t}function Er(e){const t=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),o={};for(const[i,a]of Object.entries(e))if(t.has(i))o[i]=Er(a);else if(n.has(i))o[i]=Sr(a);else if(r.has(i))o[i]=Cr(a);else if("type"===i){const e=a.toUpperCase();o[i]=Object.values(Gt).includes(e)?e:Gt.TYPE_UNSPECIFIED}else ar.has(i)&&(o[i]=a);return o}function Tr(e,t){if("string"!==typeof t&&!Array.isArray(t)){if(e&&e.isVertexAI()){if(t.gcsUri&&t.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!t.gcsUri&&!t.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(t.inlinedRequests&&t.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!t.inlinedRequests&&!t.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return t}if(Array.isArray(t))return{inlinedRequests:t};if("string"===typeof t){if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:[t]};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};if(t.startsWith("files/"))return{fileName:t}}throw new Error("Unsupported source: ".concat(t))}function kr(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error("Invalid batch job name: ".concat(n,"."))}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error("Invalid batch job name: ".concat(n,"."))}function Nr(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":e}function Ar(e){const t={},n=zt(e,["videoMetadata"]);null!=n&&qt(t,["videoMetadata"],function(e){const t={},n=zt(e,["fps"]);null!=n&&qt(t,["fps"],n);const r=zt(e,["endOffset"]);null!=r&&qt(t,["endOffset"],r);const o=zt(e,["startOffset"]);return null!=o&&qt(t,["startOffset"],o),t}(n));const r=zt(e,["thought"]);null!=r&&qt(t,["thought"],r);const o=zt(e,["inlineData"]);null!=o&&qt(t,["inlineData"],function(e){const t={};if(void 0!==zt(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=zt(e,["data"]);null!=n&&qt(t,["data"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(o));const i=zt(e,["fileData"]);null!=i&&qt(t,["fileData"],function(e){const t={};if(void 0!==zt(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=zt(e,["fileUri"]);null!=n&&qt(t,["fileUri"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(i));const a=zt(e,["thoughtSignature"]);null!=a&&qt(t,["thoughtSignature"],a);const l=zt(e,["codeExecutionResult"]);null!=l&&qt(t,["codeExecutionResult"],l);const s=zt(e,["executableCode"]);null!=s&&qt(t,["executableCode"],s);const u=zt(e,["functionCall"]);null!=u&&qt(t,["functionCall"],u);const c=zt(e,["functionResponse"]);null!=c&&qt(t,["functionResponse"],c);const d=zt(e,["text"]);return null!=d&&qt(t,["text"],d),t}function Or(e){const t={},n=zt(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Ar(e))),qt(t,["parts"],e)}const r=zt(e,["role"]);return null!=r&&qt(t,["role"],r),t}function Ir(e){const t={},n=zt(e,["timeRangeFilter"]);return null!=n&&qt(t,["timeRangeFilter"],function(e){const t={},n=zt(e,["startTime"]);null!=n&&qt(t,["startTime"],n);const r=zt(e,["endTime"]);return null!=r&&qt(t,["endTime"],r),t}(n)),t}function Pr(e){const t={},n=zt(e,["dynamicRetrievalConfig"]);return null!=n&&qt(t,["dynamicRetrievalConfig"],function(e){const t={},n=zt(e,["mode"]);null!=n&&qt(t,["mode"],n);const r=zt(e,["dynamicThreshold"]);return null!=r&&qt(t,["dynamicThreshold"],r),t}(n)),t}function Rr(e){const t={},n=zt(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["behavior"]);null!=n&&qt(t,["behavior"],n);const r=zt(e,["description"]);null!=r&&qt(t,["description"],r);const o=zt(e,["name"]);null!=o&&qt(t,["name"],o);const i=zt(e,["parameters"]);null!=i&&qt(t,["parameters"],i);const a=zt(e,["parametersJsonSchema"]);null!=a&&qt(t,["parametersJsonSchema"],a);const l=zt(e,["response"]);null!=l&&qt(t,["response"],l);const s=zt(e,["responseJsonSchema"]);return null!=s&&qt(t,["responseJsonSchema"],s),t}(e))),qt(t,["functionDeclarations"],e)}if(void 0!==zt(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=zt(e,["googleSearch"]);null!=r&&qt(t,["googleSearch"],Ir(r));const o=zt(e,["googleSearchRetrieval"]);if(null!=o&&qt(t,["googleSearchRetrieval"],Pr(o)),void 0!==zt(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==zt(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=zt(e,["urlContext"])&&qt(t,["urlContext"],{});const i=zt(e,["codeExecution"]);return null!=i&&qt(t,["codeExecution"],i),t}function jr(e){const t={},n=zt(e,["latLng"]);null!=n&&qt(t,["latLng"],function(e){const t={},n=zt(e,["latitude"]);null!=n&&qt(t,["latitude"],n);const r=zt(e,["longitude"]);return null!=r&&qt(t,["longitude"],r),t}(n));const r=zt(e,["languageCode"]);return null!=r&&qt(t,["languageCode"],r),t}function Dr(e){const t={},n=zt(e,["functionCallingConfig"]);null!=n&&qt(t,["functionCallingConfig"],function(e){const t={},n=zt(e,["mode"]);null!=n&&qt(t,["mode"],n);const r=zt(e,["allowedFunctionNames"]);return null!=r&&qt(t,["allowedFunctionNames"],r),t}(n));const r=zt(e,["retrievalConfig"]);return null!=r&&qt(t,["retrievalConfig"],jr(r)),t}function Mr(e){const t={},n=zt(e,["prebuiltVoiceConfig"]);return null!=n&&qt(t,["prebuiltVoiceConfig"],function(e){const t={},n=zt(e,["voiceName"]);return null!=n&&qt(t,["voiceName"],n),t}(n)),t}function Lr(e){const t={},n=zt(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["speaker"]);null!=n&&qt(t,["speaker"],n);const r=zt(e,["voiceConfig"]);return null!=r&&qt(t,["voiceConfig"],Mr(r)),t}(e))),qt(t,["speakerVoiceConfigs"],e)}return t}function Ur(e,t,n){const r={},o=zt(t,["systemInstruction"]);void 0!==n&&null!=o&&qt(n,["systemInstruction"],Or(rr(o)));const i=zt(t,["temperature"]);null!=i&&qt(r,["temperature"],i);const a=zt(t,["topP"]);null!=a&&qt(r,["topP"],a);const l=zt(t,["topK"]);null!=l&&qt(r,["topK"],l);const s=zt(t,["candidateCount"]);null!=s&&qt(r,["candidateCount"],s);const u=zt(t,["maxOutputTokens"]);null!=u&&qt(r,["maxOutputTokens"],u);const c=zt(t,["stopSequences"]);null!=c&&qt(r,["stopSequences"],c);const d=zt(t,["responseLogprobs"]);null!=d&&qt(r,["responseLogprobs"],d);const f=zt(t,["logprobs"]);null!=f&&qt(r,["logprobs"],f);const p=zt(t,["presencePenalty"]);null!=p&&qt(r,["presencePenalty"],p);const h=zt(t,["frequencyPenalty"]);null!=h&&qt(r,["frequencyPenalty"],h);const m=zt(t,["seed"]);null!=m&&qt(r,["seed"],m);const g=zt(t,["responseMimeType"]);null!=g&&qt(r,["responseMimeType"],g);const y=zt(t,["responseSchema"]);null!=y&&qt(r,["responseSchema"],function(e){const t={},n=zt(e,["anyOf"]);null!=n&&qt(t,["anyOf"],n);const r=zt(e,["default"]);null!=r&&qt(t,["default"],r);const o=zt(e,["description"]);null!=o&&qt(t,["description"],o);const i=zt(e,["enum"]);null!=i&&qt(t,["enum"],i);const a=zt(e,["example"]);null!=a&&qt(t,["example"],a);const l=zt(e,["format"]);null!=l&&qt(t,["format"],l);const s=zt(e,["items"]);null!=s&&qt(t,["items"],s);const u=zt(e,["maxItems"]);null!=u&&qt(t,["maxItems"],u);const c=zt(e,["maxLength"]);null!=c&&qt(t,["maxLength"],c);const d=zt(e,["maxProperties"]);null!=d&&qt(t,["maxProperties"],d);const f=zt(e,["maximum"]);null!=f&&qt(t,["maximum"],f);const p=zt(e,["minItems"]);null!=p&&qt(t,["minItems"],p);const h=zt(e,["minLength"]);null!=h&&qt(t,["minLength"],h);const m=zt(e,["minProperties"]);null!=m&&qt(t,["minProperties"],m);const g=zt(e,["minimum"]);null!=g&&qt(t,["minimum"],g);const y=zt(e,["nullable"]);null!=y&&qt(t,["nullable"],y);const v=zt(e,["pattern"]);null!=v&&qt(t,["pattern"],v);const b=zt(e,["properties"]);null!=b&&qt(t,["properties"],b);const x=zt(e,["propertyOrdering"]);null!=x&&qt(t,["propertyOrdering"],x);const w=zt(e,["required"]);null!=w&&qt(t,["required"],w);const _=zt(e,["title"]);null!=_&&qt(t,["title"],_);const S=zt(e,["type"]);return null!=S&&qt(t,["type"],S),t}(cr(y)));const v=zt(t,["responseJsonSchema"]);if(null!=v&&qt(r,["responseJsonSchema"],v),void 0!==zt(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==zt(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=zt(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==zt(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const n=zt(e,["category"]);null!=n&&qt(t,["category"],n);const r=zt(e,["threshold"]);return null!=r&&qt(t,["threshold"],r),t}(e))),qt(n,["safetySettings"],e)}const x=zt(t,["tools"]);if(void 0!==n&&null!=x){let e=hr(x);Array.isArray(e)&&(e=e.map(e=>Rr(pr(e)))),qt(n,["tools"],e)}const w=zt(t,["toolConfig"]);if(void 0!==n&&null!=w&&qt(n,["toolConfig"],Dr(w)),void 0!==zt(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const _=zt(t,["cachedContent"]);void 0!==n&&null!=_&&qt(n,["cachedContent"],mr(e,_));const S=zt(t,["responseModalities"]);null!=S&&qt(r,["responseModalities"],S);const C=zt(t,["mediaResolution"]);null!=C&&qt(r,["mediaResolution"],C);const E=zt(t,["speechConfig"]);if(null!=E&&qt(r,["speechConfig"],function(e){const t={},n=zt(e,["voiceConfig"]);null!=n&&qt(t,["voiceConfig"],Mr(n));const r=zt(e,["multiSpeakerVoiceConfig"]);null!=r&&qt(t,["multiSpeakerVoiceConfig"],Lr(r));const o=zt(e,["languageCode"]);return null!=o&&qt(t,["languageCode"],o),t}(dr(E))),void 0!==zt(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const T=zt(t,["thinkingConfig"]);return null!=T&&qt(r,["thinkingConfig"],function(e){const t={},n=zt(e,["includeThoughts"]);null!=n&&qt(t,["includeThoughts"],n);const r=zt(e,["thinkingBudget"]);return null!=r&&qt(t,["thinkingBudget"],r),t}(T)),r}function Fr(e,t){const n={};if(void 0!==zt(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==zt(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==zt(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=zt(t,["fileName"]);null!=r&&qt(n,["fileName"],r);const o=zt(t,["inlinedRequests"]);if(null!=o){let t=o;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["request","model"],Kn(e,r));const o=zt(t,["contents"]);if(null!=o){let e=ir(o);Array.isArray(e)&&(e=e.map(e=>Or(e))),qt(n,["request","contents"],e)}const i=zt(t,["config"]);return null!=i&&qt(n,["request","generationConfig"],Ur(e,i,n)),n}(e,t))),qt(n,["requests","requests"],t)}return n}function qr(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","model"],Kn(e,r));const o=zt(t,["src"]);null!=o&&qt(n,["batch","inputConfig"],Fr(e,Tr(e,o)));const i=zt(t,["config"]);return null!=i&&qt(n,["config"],function(e,t){const n=zt(e,["displayName"]);if(void 0!==t&&null!=n&&qt(t,["batch","displayName"],n),void 0!==zt(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.");return{}}(i,n)),n}function zr(e){const t={},n=zt(e,["config"]);return null!=n&&qt(t,["config"],function(e,t){const n=zt(e,["pageSize"]);void 0!==t&&null!=n&&qt(t,["_query","pageSize"],n);const r=zt(e,["pageToken"]);if(void 0!==t&&null!=r&&qt(t,["_query","pageToken"],r),void 0!==zt(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.");return{}}(n,t)),t}function Vr(e,t){const n=zt(e,["displayName"]);void 0!==t&&null!=n&&qt(t,["displayName"],n);const r=zt(e,["dest"]);return void 0!==t&&null!=r&&qt(t,["outputConfig"],function(e){const t={},n=zt(e,["format"]);null!=n&&qt(t,["predictionsFormat"],n);const r=zt(e,["gcsUri"]);null!=r&&qt(t,["gcsDestination","outputUriPrefix"],r);const o=zt(e,["bigqueryUri"]);if(null!=o&&qt(t,["bigqueryDestination","outputUri"],o),void 0!==zt(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==zt(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return t}(function(e){const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error("Unsupported destination: ".concat(t))}(r))),{}}function Br(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["model"],Kn(e,r));const o=zt(t,["src"]);null!=o&&qt(n,["inputConfig"],function(e){const t={},n=zt(e,["format"]);null!=n&&qt(t,["instancesFormat"],n);const r=zt(e,["gcsUri"]);null!=r&&qt(t,["gcsSource","uris"],r);const o=zt(e,["bigqueryUri"]);if(null!=o&&qt(t,["bigquerySource","inputUri"],o),void 0!==zt(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==zt(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(Tr(e,o)));const i=zt(t,["config"]);return null!=i&&qt(n,["config"],Vr(i,n)),n}function Gr(e){const t={},n=zt(e,["config"]);return null!=n&&qt(t,["config"],function(e,t){const n=zt(e,["pageSize"]);void 0!==t&&null!=n&&qt(t,["_query","pageSize"],n);const r=zt(e,["pageToken"]);void 0!==t&&null!=r&&qt(t,["_query","pageToken"],r);const o=zt(e,["filter"]);return void 0!==t&&null!=o&&qt(t,["_query","filter"],o),{}}(n,t)),t}function Hr(e){const t={},n=zt(e,["videoMetadata"]);null!=n&&qt(t,["videoMetadata"],function(e){const t={},n=zt(e,["fps"]);null!=n&&qt(t,["fps"],n);const r=zt(e,["endOffset"]);null!=r&&qt(t,["endOffset"],r);const o=zt(e,["startOffset"]);return null!=o&&qt(t,["startOffset"],o),t}(n));const r=zt(e,["thought"]);null!=r&&qt(t,["thought"],r);const o=zt(e,["inlineData"]);null!=o&&qt(t,["inlineData"],function(e){const t={},n=zt(e,["data"]);null!=n&&qt(t,["data"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(o));const i=zt(e,["fileData"]);null!=i&&qt(t,["fileData"],function(e){const t={},n=zt(e,["fileUri"]);null!=n&&qt(t,["fileUri"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(i));const a=zt(e,["thoughtSignature"]);null!=a&&qt(t,["thoughtSignature"],a);const l=zt(e,["codeExecutionResult"]);null!=l&&qt(t,["codeExecutionResult"],l);const s=zt(e,["executableCode"]);null!=s&&qt(t,["executableCode"],s);const u=zt(e,["functionCall"]);null!=u&&qt(t,["functionCall"],u);const c=zt(e,["functionResponse"]);null!=c&&qt(t,["functionResponse"],c);const d=zt(e,["text"]);return null!=d&&qt(t,["text"],d),t}function Jr(e){const t={},n=zt(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["retrievedUrl"]);null!=n&&qt(t,["retrievedUrl"],n);const r=zt(e,["urlRetrievalStatus"]);return null!=r&&qt(t,["urlRetrievalStatus"],r),t}(e))),qt(t,["urlMetadata"],e)}return t}function Wr(e){const t={},n=zt(e,["content"]);null!=n&&qt(t,["content"],function(e){const t={},n=zt(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Hr(e))),qt(t,["parts"],e)}const r=zt(e,["role"]);return null!=r&&qt(t,["role"],r),t}(n));const r=zt(e,["citationMetadata"]);null!=r&&qt(t,["citationMetadata"],function(e){const t={},n=zt(e,["citationSources"]);return null!=n&&qt(t,["citations"],n),t}(r));const o=zt(e,["tokenCount"]);null!=o&&qt(t,["tokenCount"],o);const i=zt(e,["finishReason"]);null!=i&&qt(t,["finishReason"],i);const a=zt(e,["urlContextMetadata"]);null!=a&&qt(t,["urlContextMetadata"],Jr(a));const l=zt(e,["avgLogprobs"]);null!=l&&qt(t,["avgLogprobs"],l);const s=zt(e,["groundingMetadata"]);null!=s&&qt(t,["groundingMetadata"],s);const u=zt(e,["index"]);null!=u&&qt(t,["index"],u);const c=zt(e,["logprobsResult"]);null!=c&&qt(t,["logprobsResult"],c);const d=zt(e,["safetyRatings"]);return null!=d&&qt(t,["safetyRatings"],d),t}function Kr(e){const t={},n=zt(e,["response"]);null!=n&&qt(t,["response"],function(e){const t={},n=zt(e,["candidates"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Wr(e))),qt(t,["candidates"],e)}const r=zt(e,["modelVersion"]);null!=r&&qt(t,["modelVersion"],r);const o=zt(e,["promptFeedback"]);null!=o&&qt(t,["promptFeedback"],o);const i=zt(e,["usageMetadata"]);return null!=i&&qt(t,["usageMetadata"],i),t}(n));return null!=zt(e,["error"])&&qt(t,["error"],{}),t}function Zr(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["name"],n);const r=zt(e,["metadata","displayName"]);null!=r&&qt(t,["displayName"],r);const o=zt(e,["metadata","state"]);null!=o&&qt(t,["state"],Nr(o));const i=zt(e,["metadata","createTime"]);null!=i&&qt(t,["createTime"],i);const a=zt(e,["metadata","endTime"]);null!=a&&qt(t,["endTime"],a);const l=zt(e,["metadata","updateTime"]);null!=l&&qt(t,["updateTime"],l);const s=zt(e,["metadata","model"]);null!=s&&qt(t,["model"],s);const u=zt(e,["metadata","output"]);return null!=u&&qt(t,["dest"],function(e){const t={},n=zt(e,["responsesFile"]);null!=n&&qt(t,["fileName"],n);const r=zt(e,["inlinedResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Kr(e))),qt(t,["inlinedResponses"],e)}return t}(u)),t}function Yr(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["name"],n);const r=zt(e,["displayName"]);null!=r&&qt(t,["displayName"],r);const o=zt(e,["state"]);null!=o&&qt(t,["state"],Nr(o));const i=zt(e,["error"]);null!=i&&qt(t,["error"],function(e){const t={},n=zt(e,["details"]);null!=n&&qt(t,["details"],n);const r=zt(e,["code"]);null!=r&&qt(t,["code"],r);const o=zt(e,["message"]);return null!=o&&qt(t,["message"],o),t}(i));const a=zt(e,["createTime"]);null!=a&&qt(t,["createTime"],a);const l=zt(e,["startTime"]);null!=l&&qt(t,["startTime"],l);const s=zt(e,["endTime"]);null!=s&&qt(t,["endTime"],s);const u=zt(e,["updateTime"]);null!=u&&qt(t,["updateTime"],u);const c=zt(e,["model"]);null!=c&&qt(t,["model"],c);const d=zt(e,["inputConfig"]);null!=d&&qt(t,["src"],function(e){const t={},n=zt(e,["instancesFormat"]);null!=n&&qt(t,["format"],n);const r=zt(e,["gcsSource","uris"]);null!=r&&qt(t,["gcsUri"],r);const o=zt(e,["bigquerySource","inputUri"]);return null!=o&&qt(t,["bigqueryUri"],o),t}(d));const f=zt(e,["outputConfig"]);return null!=f&&qt(t,["dest"],function(e){const t={},n=zt(e,["predictionsFormat"]);null!=n&&qt(t,["format"],n);const r=zt(e,["gcsDestination","outputUriPrefix"]);null!=r&&qt(t,["gcsUri"],r);const o=zt(e,["bigqueryDestination","outputUri"]);return null!=o&&qt(t,["bigqueryUri"],o),t}(f)),t}var $r;!function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"}($r||($r={}));class Qr{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let i={config:{}};i=n?"object"===typeof n?Object.assign({},n):n:{config:{}},i.config&&(i.config.pageToken=t.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!==(o=null===(r=i.config)||void 0===r?void 0:r.pageSize)&&void 0!==o?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}class Xr extends Ut{constructor(e){var t;super(),t=this,this.apiClient=e,this.create=async e=>{if(this.apiClient.isVertexAI()){if(Array.isArray(e.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(e.config=e.config||{},void 0===e.config.displayName&&(e.config.displayName="genaiBatchJob_"),void 0===e.config.dest&&"string"===typeof e.src)if(e.src.startsWith("gs://")&&e.src.endsWith(".jsonl"))e.config.dest="".concat(e.src.slice(0,-6),"/dest");else{if(!e.src.startsWith("bq://"))throw new Error("Unsupported source:"+e.src);e.config.dest="".concat(e.src,"_dest_")}}return await this.createInternal(e)},this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Qr($r.PAGED_ITEM_BATCH_JOBS,e=>t.listInternal(e),await t.listInternal(e),e)}}async createInternal(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=Br(this.apiClient,e);return a=Ft("batchPredictionJobs",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Yr(e))}{const t=qr(this.apiClient,e);return a=Ft("{model}:batchGenerateContent",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>Zr(e))}}async get(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=zt(t,["name"]);null!=r&&qt(n,["_url","name"],kr(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],o),n}(this.apiClient,e);return a=Ft("batchPredictionJobs/{name}",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Yr(e))}{const t=function(e,t){const n={},r=zt(t,["name"]);null!=r&&qt(n,["_url","name"],kr(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],o),n}(this.apiClient,e);return a=Ft("batches/{name}",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>Zr(e))}}async cancel(e){var t,n,r,o;let i="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=zt(t,["name"]);null!=r&&qt(n,["_url","name"],kr(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],o),n}(this.apiClient,e);i=Ft("batchPredictionJobs/{name}:cancel",r._url),a=r._query,delete r.config,delete r._url,delete r._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},r=zt(t,["name"]);null!=r&&qt(n,["_url","name"],kr(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],o),n}(this.apiClient,e);i=Ft("batches/{name}:cancel",t._url),a=t._query,delete t.config,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal})}}async listInternal(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=Gr(e);return a=Ft("batchPredictionJobs",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=zt(e,["nextPageToken"]);null!=n&&qt(t,["nextPageToken"],n);const r=zt(e,["batchPredictionJobs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Yr(e))),qt(t,["batchJobs"],e)}return t}(e),n=new Hn;return Object.assign(n,t),n})}{const t=zr(e);return a=Ft("batches",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=zt(e,["nextPageToken"]);null!=n&&qt(t,["nextPageToken"],n);const r=zt(e,["operations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Zr(e))),qt(t,["batchJobs"],e)}return t}(e),n=new Hn;return Object.assign(n,t),n})}}}function eo(e){const t={},n=zt(e,["videoMetadata"]);null!=n&&qt(t,["videoMetadata"],function(e){const t={},n=zt(e,["fps"]);null!=n&&qt(t,["fps"],n);const r=zt(e,["endOffset"]);null!=r&&qt(t,["endOffset"],r);const o=zt(e,["startOffset"]);return null!=o&&qt(t,["startOffset"],o),t}(n));const r=zt(e,["thought"]);null!=r&&qt(t,["thought"],r);const o=zt(e,["inlineData"]);null!=o&&qt(t,["inlineData"],function(e){const t={};if(void 0!==zt(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=zt(e,["data"]);null!=n&&qt(t,["data"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(o));const i=zt(e,["fileData"]);null!=i&&qt(t,["fileData"],function(e){const t={};if(void 0!==zt(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=zt(e,["fileUri"]);null!=n&&qt(t,["fileUri"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(i));const a=zt(e,["thoughtSignature"]);null!=a&&qt(t,["thoughtSignature"],a);const l=zt(e,["codeExecutionResult"]);null!=l&&qt(t,["codeExecutionResult"],l);const s=zt(e,["executableCode"]);null!=s&&qt(t,["executableCode"],s);const u=zt(e,["functionCall"]);null!=u&&qt(t,["functionCall"],u);const c=zt(e,["functionResponse"]);null!=c&&qt(t,["functionResponse"],c);const d=zt(e,["text"]);return null!=d&&qt(t,["text"],d),t}function to(e){const t={},n=zt(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>eo(e))),qt(t,["parts"],e)}const r=zt(e,["role"]);return null!=r&&qt(t,["role"],r),t}function no(e){const t={},n=zt(e,["timeRangeFilter"]);return null!=n&&qt(t,["timeRangeFilter"],function(e){const t={},n=zt(e,["startTime"]);null!=n&&qt(t,["startTime"],n);const r=zt(e,["endTime"]);return null!=r&&qt(t,["endTime"],r),t}(n)),t}function ro(e){const t={},n=zt(e,["dynamicRetrievalConfig"]);return null!=n&&qt(t,["dynamicRetrievalConfig"],function(e){const t={},n=zt(e,["mode"]);null!=n&&qt(t,["mode"],n);const r=zt(e,["dynamicThreshold"]);return null!=r&&qt(t,["dynamicThreshold"],r),t}(n)),t}function oo(e){const t={},n=zt(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["behavior"]);null!=n&&qt(t,["behavior"],n);const r=zt(e,["description"]);null!=r&&qt(t,["description"],r);const o=zt(e,["name"]);null!=o&&qt(t,["name"],o);const i=zt(e,["parameters"]);null!=i&&qt(t,["parameters"],i);const a=zt(e,["parametersJsonSchema"]);null!=a&&qt(t,["parametersJsonSchema"],a);const l=zt(e,["response"]);null!=l&&qt(t,["response"],l);const s=zt(e,["responseJsonSchema"]);return null!=s&&qt(t,["responseJsonSchema"],s),t}(e))),qt(t,["functionDeclarations"],e)}if(void 0!==zt(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=zt(e,["googleSearch"]);null!=r&&qt(t,["googleSearch"],no(r));const o=zt(e,["googleSearchRetrieval"]);if(null!=o&&qt(t,["googleSearchRetrieval"],ro(o)),void 0!==zt(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==zt(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=zt(e,["urlContext"])&&qt(t,["urlContext"],{});const i=zt(e,["codeExecution"]);return null!=i&&qt(t,["codeExecution"],i),t}function io(e){const t={},n=zt(e,["latLng"]);null!=n&&qt(t,["latLng"],function(e){const t={},n=zt(e,["latitude"]);null!=n&&qt(t,["latitude"],n);const r=zt(e,["longitude"]);return null!=r&&qt(t,["longitude"],r),t}(n));const r=zt(e,["languageCode"]);return null!=r&&qt(t,["languageCode"],r),t}function ao(e){const t={},n=zt(e,["functionCallingConfig"]);null!=n&&qt(t,["functionCallingConfig"],function(e){const t={},n=zt(e,["mode"]);null!=n&&qt(t,["mode"],n);const r=zt(e,["allowedFunctionNames"]);return null!=r&&qt(t,["allowedFunctionNames"],r),t}(n));const r=zt(e,["retrievalConfig"]);return null!=r&&qt(t,["retrievalConfig"],io(r)),t}function lo(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["model"],Zn(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],function(e,t){const n=zt(e,["ttl"]);void 0!==t&&null!=n&&qt(t,["ttl"],n);const r=zt(e,["expireTime"]);void 0!==t&&null!=r&&qt(t,["expireTime"],r);const o=zt(e,["displayName"]);void 0!==t&&null!=o&&qt(t,["displayName"],o);const i=zt(e,["contents"]);if(void 0!==t&&null!=i){let e=ir(i);Array.isArray(e)&&(e=e.map(e=>to(e))),qt(t,["contents"],e)}const a=zt(e,["systemInstruction"]);void 0!==t&&null!=a&&qt(t,["systemInstruction"],to(rr(a)));const l=zt(e,["tools"]);if(void 0!==t&&null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>oo(e))),qt(t,["tools"],e)}const s=zt(e,["toolConfig"]);if(void 0!==t&&null!=s&&qt(t,["toolConfig"],ao(s)),void 0!==zt(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}(o,n)),n}function so(e,t){const n={},r=zt(t,["name"]);null!=r&&qt(n,["_url","name"],mr(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],function(e,t){const n=zt(e,["ttl"]);void 0!==t&&null!=n&&qt(t,["ttl"],n);const r=zt(e,["expireTime"]);return void 0!==t&&null!=r&&qt(t,["expireTime"],r),{}}(o,n)),n}function uo(e){const t={},n=zt(e,["config"]);return null!=n&&qt(t,["config"],function(e,t){const n=zt(e,["pageSize"]);void 0!==t&&null!=n&&qt(t,["_query","pageSize"],n);const r=zt(e,["pageToken"]);return void 0!==t&&null!=r&&qt(t,["_query","pageToken"],r),{}}(n,t)),t}function co(e){const t={},n=zt(e,["videoMetadata"]);null!=n&&qt(t,["videoMetadata"],function(e){const t={},n=zt(e,["fps"]);null!=n&&qt(t,["fps"],n);const r=zt(e,["endOffset"]);null!=r&&qt(t,["endOffset"],r);const o=zt(e,["startOffset"]);return null!=o&&qt(t,["startOffset"],o),t}(n));const r=zt(e,["thought"]);null!=r&&qt(t,["thought"],r);const o=zt(e,["inlineData"]);null!=o&&qt(t,["inlineData"],function(e){const t={},n=zt(e,["displayName"]);null!=n&&qt(t,["displayName"],n);const r=zt(e,["data"]);null!=r&&qt(t,["data"],r);const o=zt(e,["mimeType"]);return null!=o&&qt(t,["mimeType"],o),t}(o));const i=zt(e,["fileData"]);null!=i&&qt(t,["fileData"],function(e){const t={},n=zt(e,["displayName"]);null!=n&&qt(t,["displayName"],n);const r=zt(e,["fileUri"]);null!=r&&qt(t,["fileUri"],r);const o=zt(e,["mimeType"]);return null!=o&&qt(t,["mimeType"],o),t}(i));const a=zt(e,["thoughtSignature"]);null!=a&&qt(t,["thoughtSignature"],a);const l=zt(e,["codeExecutionResult"]);null!=l&&qt(t,["codeExecutionResult"],l);const s=zt(e,["executableCode"]);null!=s&&qt(t,["executableCode"],s);const u=zt(e,["functionCall"]);null!=u&&qt(t,["functionCall"],u);const c=zt(e,["functionResponse"]);null!=c&&qt(t,["functionResponse"],c);const d=zt(e,["text"]);return null!=d&&qt(t,["text"],d),t}function fo(e){const t={},n=zt(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>co(e))),qt(t,["parts"],e)}const r=zt(e,["role"]);return null!=r&&qt(t,["role"],r),t}function po(e){const t={},n=zt(e,["timeRangeFilter"]);return null!=n&&qt(t,["timeRangeFilter"],function(e){const t={},n=zt(e,["startTime"]);null!=n&&qt(t,["startTime"],n);const r=zt(e,["endTime"]);return null!=r&&qt(t,["endTime"],r),t}(n)),t}function ho(e){const t={},n=zt(e,["dynamicRetrievalConfig"]);return null!=n&&qt(t,["dynamicRetrievalConfig"],function(e){const t={},n=zt(e,["mode"]);null!=n&&qt(t,["mode"],n);const r=zt(e,["dynamicThreshold"]);return null!=r&&qt(t,["dynamicThreshold"],r),t}(n)),t}function mo(e){const t={},n=zt(e,["apiKeyConfig"]);null!=n&&qt(t,["apiKeyConfig"],function(e){const t={},n=zt(e,["apiKeyString"]);return null!=n&&qt(t,["apiKeyString"],n),t}(n));const r=zt(e,["authType"]);null!=r&&qt(t,["authType"],r);const o=zt(e,["googleServiceAccountConfig"]);null!=o&&qt(t,["googleServiceAccountConfig"],o);const i=zt(e,["httpBasicAuthConfig"]);null!=i&&qt(t,["httpBasicAuthConfig"],i);const a=zt(e,["oauthConfig"]);null!=a&&qt(t,["oauthConfig"],a);const l=zt(e,["oidcConfig"]);return null!=l&&qt(t,["oidcConfig"],l),t}function go(e){const t={},n=zt(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==zt(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=zt(e,["description"]);null!=n&&qt(t,["description"],n);const r=zt(e,["name"]);null!=r&&qt(t,["name"],r);const o=zt(e,["parameters"]);null!=o&&qt(t,["parameters"],o);const i=zt(e,["parametersJsonSchema"]);null!=i&&qt(t,["parametersJsonSchema"],i);const a=zt(e,["response"]);null!=a&&qt(t,["response"],a);const l=zt(e,["responseJsonSchema"]);return null!=l&&qt(t,["responseJsonSchema"],l),t}(e))),qt(t,["functionDeclarations"],e)}const r=zt(e,["retrieval"]);null!=r&&qt(t,["retrieval"],r);const o=zt(e,["googleSearch"]);null!=o&&qt(t,["googleSearch"],po(o));const i=zt(e,["googleSearchRetrieval"]);null!=i&&qt(t,["googleSearchRetrieval"],ho(i));null!=zt(e,["enterpriseWebSearch"])&&qt(t,["enterpriseWebSearch"],{});const a=zt(e,["googleMaps"]);null!=a&&qt(t,["googleMaps"],function(e){const t={},n=zt(e,["authConfig"]);return null!=n&&qt(t,["authConfig"],mo(n)),t}(a));null!=zt(e,["urlContext"])&&qt(t,["urlContext"],{});const l=zt(e,["codeExecution"]);return null!=l&&qt(t,["codeExecution"],l),t}function yo(e){const t={},n=zt(e,["latLng"]);null!=n&&qt(t,["latLng"],function(e){const t={},n=zt(e,["latitude"]);null!=n&&qt(t,["latitude"],n);const r=zt(e,["longitude"]);return null!=r&&qt(t,["longitude"],r),t}(n));const r=zt(e,["languageCode"]);return null!=r&&qt(t,["languageCode"],r),t}function vo(e){const t={},n=zt(e,["functionCallingConfig"]);null!=n&&qt(t,["functionCallingConfig"],function(e){const t={},n=zt(e,["mode"]);null!=n&&qt(t,["mode"],n);const r=zt(e,["allowedFunctionNames"]);return null!=r&&qt(t,["allowedFunctionNames"],r),t}(n));const r=zt(e,["retrievalConfig"]);return null!=r&&qt(t,["retrievalConfig"],yo(r)),t}function bo(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["model"],Zn(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],function(e,t){const n=zt(e,["ttl"]);void 0!==t&&null!=n&&qt(t,["ttl"],n);const r=zt(e,["expireTime"]);void 0!==t&&null!=r&&qt(t,["expireTime"],r);const o=zt(e,["displayName"]);void 0!==t&&null!=o&&qt(t,["displayName"],o);const i=zt(e,["contents"]);if(void 0!==t&&null!=i){let e=ir(i);Array.isArray(e)&&(e=e.map(e=>fo(e))),qt(t,["contents"],e)}const a=zt(e,["systemInstruction"]);void 0!==t&&null!=a&&qt(t,["systemInstruction"],fo(rr(a)));const l=zt(e,["tools"]);if(void 0!==t&&null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>go(e))),qt(t,["tools"],e)}const s=zt(e,["toolConfig"]);void 0!==t&&null!=s&&qt(t,["toolConfig"],vo(s));const u=zt(e,["kmsKeyName"]);return void 0!==t&&null!=u&&qt(t,["encryption_spec","kmsKeyName"],u),{}}(o,n)),n}function xo(e,t){const n={},r=zt(t,["name"]);null!=r&&qt(n,["_url","name"],mr(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],function(e,t){const n=zt(e,["ttl"]);void 0!==t&&null!=n&&qt(t,["ttl"],n);const r=zt(e,["expireTime"]);return void 0!==t&&null!=r&&qt(t,["expireTime"],r),{}}(o,n)),n}function wo(e){const t={},n=zt(e,["config"]);return null!=n&&qt(t,["config"],function(e,t){const n=zt(e,["pageSize"]);void 0!==t&&null!=n&&qt(t,["_query","pageSize"],n);const r=zt(e,["pageToken"]);return void 0!==t&&null!=r&&qt(t,["_query","pageToken"],r),{}}(n,t)),t}function _o(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["name"],n);const r=zt(e,["displayName"]);null!=r&&qt(t,["displayName"],r);const o=zt(e,["model"]);null!=o&&qt(t,["model"],o);const i=zt(e,["createTime"]);null!=i&&qt(t,["createTime"],i);const a=zt(e,["updateTime"]);null!=a&&qt(t,["updateTime"],a);const l=zt(e,["expireTime"]);null!=l&&qt(t,["expireTime"],l);const s=zt(e,["usageMetadata"]);return null!=s&&qt(t,["usageMetadata"],s),t}function So(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["name"],n);const r=zt(e,["displayName"]);null!=r&&qt(t,["displayName"],r);const o=zt(e,["model"]);null!=o&&qt(t,["model"],o);const i=zt(e,["createTime"]);null!=i&&qt(t,["createTime"],i);const a=zt(e,["updateTime"]);null!=a&&qt(t,["updateTime"],a);const l=zt(e,["expireTime"]);null!=l&&qt(t,["expireTime"],l);const s=zt(e,["usageMetadata"]);return null!=s&&qt(t,["usageMetadata"],s),t}class Co extends Ut{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Qr($r.PAGED_ITEM_CACHED_CONTENTS,e=>t.listInternal(e),await t.listInternal(e),e)}}async create(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=bo(this.apiClient,e);return a=Ft("cachedContents",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>So(e))}{const t=lo(this.apiClient,e);return a=Ft("cachedContents",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>_o(e))}}async get(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=zt(t,["name"]);null!=r&&qt(n,["_url","name"],mr(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],o),n}(this.apiClient,e);return a=Ft("{name}",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>So(e))}{const t=function(e,t){const n={},r=zt(t,["name"]);null!=r&&qt(n,["_url","name"],mr(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],o),n}(this.apiClient,e);return a=Ft("{name}",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>_o(e))}}async delete(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=zt(t,["name"]);null!=r&&qt(n,["_url","name"],mr(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],o),n}(this.apiClient,e);return a=Ft("{name}",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(()=>{const e={},t=new qn;return Object.assign(t,e),t})}{const t=function(e,t){const n={},r=zt(t,["name"]);null!=r&&qt(n,["_url","name"],mr(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],o),n}(this.apiClient,e);return a=Ft("{name}",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(()=>{const e={},t=new qn;return Object.assign(t,e),t})}}async update(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=xo(this.apiClient,e);return a=Ft("{name}",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>So(e))}{const t=so(this.apiClient,e);return a=Ft("{name}",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>_o(e))}}async listInternal(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=wo(e);return a=Ft("cachedContents",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=zt(e,["nextPageToken"]);null!=n&&qt(t,["nextPageToken"],n);const r=zt(e,["cachedContents"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>So(e))),qt(t,["cachedContents"],e)}return t}(e),n=new zn;return Object.assign(n,t),n})}{const t=uo(e);return a=Ft("cachedContents",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=zt(e,["nextPageToken"]);null!=n&&qt(t,["nextPageToken"],n);const r=zt(e,["cachedContents"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>_o(e))),qt(t,["cachedContents"],e)}return t}(e),n=new zn;return Object.assign(n,t),n})}}}function Eo(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function To(e){return this instanceof To?(this.v=e,this):new To(e)}function ko(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||l(e,t)})},t&&(r[e]=t(r[e])))}function l(e,t){try{(n=o[e](t)).value instanceof To?Promise.resolve(n.value.v).then(s,u):c(i[0][2],n)}catch(r){c(i[0][3],r)}var n}function s(e){l("next",e)}function u(e){l("throw",e)}function c(e,t){e(t),i.shift(),i.length&&l(i[0][0],i[0][1])}}function No(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Eo(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}}function Ao(e){var t;if(void 0==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&Oo(n)}function Oo(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts){if(void 0===t||0===Object.keys(t).length)return!1;if(!t.thought&&void 0!==t.text&&""===t.text)return!1}return!0}function Io(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let r=0;for(;r<n;)if("user"===e[r].role)t.push(e[r]),r++;else{const o=[];let i=!0;for(;r<n&&"model"===e[r].role;)o.push(e[r]),i&&!Oo(e[r])&&(i=!1),r++;i?t.push(...o):t.pop()}return t}"function"===typeof SuppressedError&&SuppressedError;class Po{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Ro(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Ro{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error("Role must be user or model, but got ".concat(t.role,"."))}(o)}async sendMessage(e){var t;await this.sendPromise;const n=rr(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,o;const i=await r,a=null===(t=null===(e=i.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,l=i.automaticFunctionCallingHistory,s=this.getHistory(!0).length;let u=[];null!=l&&(u=null!==(o=l.slice(s))&&void 0!==o?o:[]);const c=a?[a]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const n=rr(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,n)}getHistory(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Io(this.history):this.history;return structuredClone(e)}processStreamResponse(e,t){var n,r;return ko(this,arguments,function*(){var o,i,a,l;const s=[];try{for(var u,c=!0,d=No(e);!(o=(u=yield To(d.next())).done);c=!0){l=u.value,c=!1;const e=l;if(Ao(e)){const t=null===(r=null===(n=e.candidates)||void 0===n?void 0:n[0])||void 0===r?void 0:r.content;void 0!==t&&s.push(t)}yield yield To(e)}}catch(f){i={error:f}}finally{try{c||o||!(a=d.return)||(yield To(a.call(d)))}finally{if(i)throw i.error}}this.recordHistory(t,s)})}recordHistory(e,t,n){let r=[];t.length>0&&t.every(e=>void 0!==e.role)?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...Io(n)):this.history.push(e),this.history.push(...r)}}class jo extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,jo.prototype)}}function Do(e){const t={},n=zt(e,["config"]);return null!=n&&qt(t,["config"],function(e,t){const n=zt(e,["pageSize"]);void 0!==t&&null!=n&&qt(t,["_query","pageSize"],n);const r=zt(e,["pageToken"]);return void 0!==t&&null!=r&&qt(t,["_query","pageToken"],r),{}}(n,t)),t}function Mo(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["name"],n);const r=zt(e,["displayName"]);null!=r&&qt(t,["displayName"],r);const o=zt(e,["mimeType"]);null!=o&&qt(t,["mimeType"],o);const i=zt(e,["sizeBytes"]);null!=i&&qt(t,["sizeBytes"],i);const a=zt(e,["createTime"]);null!=a&&qt(t,["createTime"],a);const l=zt(e,["expirationTime"]);null!=l&&qt(t,["expirationTime"],l);const s=zt(e,["updateTime"]);null!=s&&qt(t,["updateTime"],s);const u=zt(e,["sha256Hash"]);null!=u&&qt(t,["sha256Hash"],u);const c=zt(e,["uri"]);null!=c&&qt(t,["uri"],c);const d=zt(e,["downloadUri"]);null!=d&&qt(t,["downloadUri"],d);const f=zt(e,["state"]);null!=f&&qt(t,["state"],f);const p=zt(e,["source"]);null!=p&&qt(t,["source"],p);const h=zt(e,["videoMetadata"]);null!=h&&qt(t,["videoMetadata"],h);const m=zt(e,["error"]);return null!=m&&qt(t,["error"],function(e){const t={},n=zt(e,["details"]);null!=n&&qt(t,["details"],n);const r=zt(e,["message"]);null!=r&&qt(t,["message"],r);const o=zt(e,["code"]);return null!=o&&qt(t,["code"],o),t}(m)),t}function Lo(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["name"],n);const r=zt(e,["displayName"]);null!=r&&qt(t,["displayName"],r);const o=zt(e,["mimeType"]);null!=o&&qt(t,["mimeType"],o);const i=zt(e,["sizeBytes"]);null!=i&&qt(t,["sizeBytes"],i);const a=zt(e,["createTime"]);null!=a&&qt(t,["createTime"],a);const l=zt(e,["expirationTime"]);null!=l&&qt(t,["expirationTime"],l);const s=zt(e,["updateTime"]);null!=s&&qt(t,["updateTime"],s);const u=zt(e,["sha256Hash"]);null!=u&&qt(t,["sha256Hash"],u);const c=zt(e,["uri"]);null!=c&&qt(t,["uri"],c);const d=zt(e,["downloadUri"]);null!=d&&qt(t,["downloadUri"],d);const f=zt(e,["state"]);null!=f&&qt(t,["state"],f);const p=zt(e,["source"]);null!=p&&qt(t,["source"],p);const h=zt(e,["videoMetadata"]);null!=h&&qt(t,["videoMetadata"],h);const m=zt(e,["error"]);return null!=m&&qt(t,["error"],function(e){const t={},n=zt(e,["details"]);null!=n&&qt(t,["details"],n);const r=zt(e,["message"]);null!=r&&qt(t,["message"],r);const o=zt(e,["code"]);return null!=o&&qt(t,["code"],o),t}(m)),t}class Uo extends Ut{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Qr($r.PAGED_ITEM_FILES,e=>t.listInternal(e),await t.listInternal(e),e)}}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>Lo(e))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Do(e);return o=Ft("files",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=zt(e,["nextPageToken"]);null!=n&&qt(t,["nextPageToken"],n);const r=zt(e,["files"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Lo(e))),qt(t,["files"],e)}return t}(e),n=new Vn;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=zt(e,["file"]);null!=n&&qt(t,["file"],Mo(n));const r=zt(e,["config"]);return null!=r&&qt(t,["config"],r),t}(e);return o=Ft("upload/v1beta/files",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(()=>{const e={},t=new Bn;return Object.assign(t,e),t})}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["_url","file"],vr(n));const r=zt(e,["config"]);return null!=r&&qt(t,["config"],r),t}(e);return o=Ft("files/{file}",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>Lo(e))}}async delete(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["_url","file"],vr(n));const r=zt(e,["config"]);return null!=r&&qt(t,["config"],r),t}(e);return o=Ft("files/{file}",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(()=>{const e={},t=new Gn;return Object.assign(t,e),t})}}}function Fo(e){const t={},n=zt(e,["prebuiltVoiceConfig"]);return null!=n&&qt(t,["prebuiltVoiceConfig"],function(e){const t={},n=zt(e,["voiceName"]);return null!=n&&qt(t,["voiceName"],n),t}(n)),t}function qo(e){const t={},n=zt(e,["prebuiltVoiceConfig"]);return null!=n&&qt(t,["prebuiltVoiceConfig"],function(e){const t={},n=zt(e,["voiceName"]);return null!=n&&qt(t,["voiceName"],n),t}(n)),t}function zo(e){const t={},n=zt(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["speaker"]);null!=n&&qt(t,["speaker"],n);const r=zt(e,["voiceConfig"]);return null!=r&&qt(t,["voiceConfig"],Fo(r)),t}(e))),qt(t,["speakerVoiceConfigs"],e)}return t}function Vo(e){const t={},n=zt(e,["videoMetadata"]);null!=n&&qt(t,["videoMetadata"],function(e){const t={},n=zt(e,["fps"]);null!=n&&qt(t,["fps"],n);const r=zt(e,["endOffset"]);null!=r&&qt(t,["endOffset"],r);const o=zt(e,["startOffset"]);return null!=o&&qt(t,["startOffset"],o),t}(n));const r=zt(e,["thought"]);null!=r&&qt(t,["thought"],r);const o=zt(e,["inlineData"]);null!=o&&qt(t,["inlineData"],function(e){const t={};if(void 0!==zt(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=zt(e,["data"]);null!=n&&qt(t,["data"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(o));const i=zt(e,["fileData"]);null!=i&&qt(t,["fileData"],function(e){const t={};if(void 0!==zt(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=zt(e,["fileUri"]);null!=n&&qt(t,["fileUri"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(i));const a=zt(e,["thoughtSignature"]);null!=a&&qt(t,["thoughtSignature"],a);const l=zt(e,["codeExecutionResult"]);null!=l&&qt(t,["codeExecutionResult"],l);const s=zt(e,["executableCode"]);null!=s&&qt(t,["executableCode"],s);const u=zt(e,["functionCall"]);null!=u&&qt(t,["functionCall"],u);const c=zt(e,["functionResponse"]);null!=c&&qt(t,["functionResponse"],c);const d=zt(e,["text"]);return null!=d&&qt(t,["text"],d),t}function Bo(e){const t={},n=zt(e,["videoMetadata"]);null!=n&&qt(t,["videoMetadata"],function(e){const t={},n=zt(e,["fps"]);null!=n&&qt(t,["fps"],n);const r=zt(e,["endOffset"]);null!=r&&qt(t,["endOffset"],r);const o=zt(e,["startOffset"]);return null!=o&&qt(t,["startOffset"],o),t}(n));const r=zt(e,["thought"]);null!=r&&qt(t,["thought"],r);const o=zt(e,["inlineData"]);null!=o&&qt(t,["inlineData"],function(e){const t={},n=zt(e,["displayName"]);null!=n&&qt(t,["displayName"],n);const r=zt(e,["data"]);null!=r&&qt(t,["data"],r);const o=zt(e,["mimeType"]);return null!=o&&qt(t,["mimeType"],o),t}(o));const i=zt(e,["fileData"]);null!=i&&qt(t,["fileData"],function(e){const t={},n=zt(e,["displayName"]);null!=n&&qt(t,["displayName"],n);const r=zt(e,["fileUri"]);null!=r&&qt(t,["fileUri"],r);const o=zt(e,["mimeType"]);return null!=o&&qt(t,["mimeType"],o),t}(i));const a=zt(e,["thoughtSignature"]);null!=a&&qt(t,["thoughtSignature"],a);const l=zt(e,["codeExecutionResult"]);null!=l&&qt(t,["codeExecutionResult"],l);const s=zt(e,["executableCode"]);null!=s&&qt(t,["executableCode"],s);const u=zt(e,["functionCall"]);null!=u&&qt(t,["functionCall"],u);const c=zt(e,["functionResponse"]);null!=c&&qt(t,["functionResponse"],c);const d=zt(e,["text"]);return null!=d&&qt(t,["text"],d),t}function Go(e){const t={},n=zt(e,["timeRangeFilter"]);return null!=n&&qt(t,["timeRangeFilter"],function(e){const t={},n=zt(e,["startTime"]);null!=n&&qt(t,["startTime"],n);const r=zt(e,["endTime"]);return null!=r&&qt(t,["endTime"],r),t}(n)),t}function Ho(e){const t={},n=zt(e,["timeRangeFilter"]);return null!=n&&qt(t,["timeRangeFilter"],function(e){const t={},n=zt(e,["startTime"]);null!=n&&qt(t,["startTime"],n);const r=zt(e,["endTime"]);return null!=r&&qt(t,["endTime"],r),t}(n)),t}function Jo(e){const t={},n=zt(e,["dynamicRetrievalConfig"]);return null!=n&&qt(t,["dynamicRetrievalConfig"],function(e){const t={},n=zt(e,["mode"]);null!=n&&qt(t,["mode"],n);const r=zt(e,["dynamicThreshold"]);return null!=r&&qt(t,["dynamicThreshold"],r),t}(n)),t}function Wo(e){const t={},n=zt(e,["dynamicRetrievalConfig"]);return null!=n&&qt(t,["dynamicRetrievalConfig"],function(e){const t={},n=zt(e,["mode"]);null!=n&&qt(t,["mode"],n);const r=zt(e,["dynamicThreshold"]);return null!=r&&qt(t,["dynamicThreshold"],r),t}(n)),t}function Ko(e){const t={},n=zt(e,["apiKeyConfig"]);null!=n&&qt(t,["apiKeyConfig"],function(e){const t={},n=zt(e,["apiKeyString"]);return null!=n&&qt(t,["apiKeyString"],n),t}(n));const r=zt(e,["authType"]);null!=r&&qt(t,["authType"],r);const o=zt(e,["googleServiceAccountConfig"]);null!=o&&qt(t,["googleServiceAccountConfig"],o);const i=zt(e,["httpBasicAuthConfig"]);null!=i&&qt(t,["httpBasicAuthConfig"],i);const a=zt(e,["oauthConfig"]);null!=a&&qt(t,["oauthConfig"],a);const l=zt(e,["oidcConfig"]);return null!=l&&qt(t,["oidcConfig"],l),t}function Zo(e){const t={},n=zt(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["behavior"]);null!=n&&qt(t,["behavior"],n);const r=zt(e,["description"]);null!=r&&qt(t,["description"],r);const o=zt(e,["name"]);null!=o&&qt(t,["name"],o);const i=zt(e,["parameters"]);null!=i&&qt(t,["parameters"],i);const a=zt(e,["parametersJsonSchema"]);null!=a&&qt(t,["parametersJsonSchema"],a);const l=zt(e,["response"]);null!=l&&qt(t,["response"],l);const s=zt(e,["responseJsonSchema"]);return null!=s&&qt(t,["responseJsonSchema"],s),t}(e))),qt(t,["functionDeclarations"],e)}if(void 0!==zt(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=zt(e,["googleSearch"]);null!=r&&qt(t,["googleSearch"],Go(r));const o=zt(e,["googleSearchRetrieval"]);if(null!=o&&qt(t,["googleSearchRetrieval"],Jo(o)),void 0!==zt(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==zt(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=zt(e,["urlContext"])&&qt(t,["urlContext"],{});const i=zt(e,["codeExecution"]);return null!=i&&qt(t,["codeExecution"],i),t}function Yo(e){const t={},n=zt(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==zt(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=zt(e,["description"]);null!=n&&qt(t,["description"],n);const r=zt(e,["name"]);null!=r&&qt(t,["name"],r);const o=zt(e,["parameters"]);null!=o&&qt(t,["parameters"],o);const i=zt(e,["parametersJsonSchema"]);null!=i&&qt(t,["parametersJsonSchema"],i);const a=zt(e,["response"]);null!=a&&qt(t,["response"],a);const l=zt(e,["responseJsonSchema"]);return null!=l&&qt(t,["responseJsonSchema"],l),t}(e))),qt(t,["functionDeclarations"],e)}const r=zt(e,["retrieval"]);null!=r&&qt(t,["retrieval"],r);const o=zt(e,["googleSearch"]);null!=o&&qt(t,["googleSearch"],Ho(o));const i=zt(e,["googleSearchRetrieval"]);null!=i&&qt(t,["googleSearchRetrieval"],Wo(i));null!=zt(e,["enterpriseWebSearch"])&&qt(t,["enterpriseWebSearch"],{});const a=zt(e,["googleMaps"]);null!=a&&qt(t,["googleMaps"],function(e){const t={},n=zt(e,["authConfig"]);return null!=n&&qt(t,["authConfig"],Ko(n)),t}(a));null!=zt(e,["urlContext"])&&qt(t,["urlContext"],{});const l=zt(e,["codeExecution"]);return null!=l&&qt(t,["codeExecution"],l),t}function $o(e){const t={},n=zt(e,["automaticActivityDetection"]);null!=n&&qt(t,["automaticActivityDetection"],function(e){const t={},n=zt(e,["disabled"]);null!=n&&qt(t,["disabled"],n);const r=zt(e,["startOfSpeechSensitivity"]);null!=r&&qt(t,["startOfSpeechSensitivity"],r);const o=zt(e,["endOfSpeechSensitivity"]);null!=o&&qt(t,["endOfSpeechSensitivity"],o);const i=zt(e,["prefixPaddingMs"]);null!=i&&qt(t,["prefixPaddingMs"],i);const a=zt(e,["silenceDurationMs"]);return null!=a&&qt(t,["silenceDurationMs"],a),t}(n));const r=zt(e,["activityHandling"]);null!=r&&qt(t,["activityHandling"],r);const o=zt(e,["turnCoverage"]);return null!=o&&qt(t,["turnCoverage"],o),t}function Qo(e){const t={},n=zt(e,["automaticActivityDetection"]);null!=n&&qt(t,["automaticActivityDetection"],function(e){const t={},n=zt(e,["disabled"]);null!=n&&qt(t,["disabled"],n);const r=zt(e,["startOfSpeechSensitivity"]);null!=r&&qt(t,["startOfSpeechSensitivity"],r);const o=zt(e,["endOfSpeechSensitivity"]);null!=o&&qt(t,["endOfSpeechSensitivity"],o);const i=zt(e,["prefixPaddingMs"]);null!=i&&qt(t,["prefixPaddingMs"],i);const a=zt(e,["silenceDurationMs"]);return null!=a&&qt(t,["silenceDurationMs"],a),t}(n));const r=zt(e,["activityHandling"]);null!=r&&qt(t,["activityHandling"],r);const o=zt(e,["turnCoverage"]);return null!=o&&qt(t,["turnCoverage"],o),t}function Xo(e){const t={},n=zt(e,["triggerTokens"]);null!=n&&qt(t,["triggerTokens"],n);const r=zt(e,["slidingWindow"]);return null!=r&&qt(t,["slidingWindow"],function(e){const t={},n=zt(e,["targetTokens"]);return null!=n&&qt(t,["targetTokens"],n),t}(r)),t}function ei(e){const t={},n=zt(e,["triggerTokens"]);null!=n&&qt(t,["triggerTokens"],n);const r=zt(e,["slidingWindow"]);return null!=r&&qt(t,["slidingWindow"],function(e){const t={},n=zt(e,["targetTokens"]);return null!=n&&qt(t,["targetTokens"],n),t}(r)),t}function ti(e,t){const n=zt(e,["generationConfig"]);void 0!==t&&null!=n&&qt(t,["setup","generationConfig"],n);const r=zt(e,["responseModalities"]);void 0!==t&&null!=r&&qt(t,["setup","generationConfig","responseModalities"],r);const o=zt(e,["temperature"]);void 0!==t&&null!=o&&qt(t,["setup","generationConfig","temperature"],o);const i=zt(e,["topP"]);void 0!==t&&null!=i&&qt(t,["setup","generationConfig","topP"],i);const a=zt(e,["topK"]);void 0!==t&&null!=a&&qt(t,["setup","generationConfig","topK"],a);const l=zt(e,["maxOutputTokens"]);void 0!==t&&null!=l&&qt(t,["setup","generationConfig","maxOutputTokens"],l);const s=zt(e,["mediaResolution"]);void 0!==t&&null!=s&&qt(t,["setup","generationConfig","mediaResolution"],s);const u=zt(e,["seed"]);void 0!==t&&null!=u&&qt(t,["setup","generationConfig","seed"],u);const c=zt(e,["speechConfig"]);void 0!==t&&null!=c&&qt(t,["setup","generationConfig","speechConfig"],function(e){const t={},n=zt(e,["voiceConfig"]);null!=n&&qt(t,["voiceConfig"],Fo(n));const r=zt(e,["multiSpeakerVoiceConfig"]);null!=r&&qt(t,["multiSpeakerVoiceConfig"],zo(r));const o=zt(e,["languageCode"]);return null!=o&&qt(t,["languageCode"],o),t}(fr(c)));const d=zt(e,["enableAffectiveDialog"]);void 0!==t&&null!=d&&qt(t,["setup","generationConfig","enableAffectiveDialog"],d);const f=zt(e,["systemInstruction"]);void 0!==t&&null!=f&&qt(t,["setup","systemInstruction"],function(e){const t={},n=zt(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Vo(e))),qt(t,["parts"],e)}const r=zt(e,["role"]);return null!=r&&qt(t,["role"],r),t}(rr(f)));const p=zt(e,["tools"]);if(void 0!==t&&null!=p){let e=hr(p);Array.isArray(e)&&(e=e.map(e=>Zo(pr(e)))),qt(t,["setup","tools"],e)}const h=zt(e,["sessionResumption"]);void 0!==t&&null!=h&&qt(t,["setup","sessionResumption"],function(e){const t={},n=zt(e,["handle"]);if(null!=n&&qt(t,["handle"],n),void 0!==zt(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(h));const m=zt(e,["inputAudioTranscription"]);void 0!==t&&null!=m&&qt(t,["setup","inputAudioTranscription"],{});const g=zt(e,["outputAudioTranscription"]);void 0!==t&&null!=g&&qt(t,["setup","outputAudioTranscription"],{});const y=zt(e,["realtimeInputConfig"]);void 0!==t&&null!=y&&qt(t,["setup","realtimeInputConfig"],$o(y));const v=zt(e,["contextWindowCompression"]);void 0!==t&&null!=v&&qt(t,["setup","contextWindowCompression"],Xo(v));const b=zt(e,["proactivity"]);return void 0!==t&&null!=b&&qt(t,["setup","proactivity"],function(e){const t={},n=zt(e,["proactiveAudio"]);return null!=n&&qt(t,["proactiveAudio"],n),t}(b)),{}}function ni(e,t){const n=zt(e,["generationConfig"]);void 0!==t&&null!=n&&qt(t,["setup","generationConfig"],n);const r=zt(e,["responseModalities"]);void 0!==t&&null!=r&&qt(t,["setup","generationConfig","responseModalities"],r);const o=zt(e,["temperature"]);void 0!==t&&null!=o&&qt(t,["setup","generationConfig","temperature"],o);const i=zt(e,["topP"]);void 0!==t&&null!=i&&qt(t,["setup","generationConfig","topP"],i);const a=zt(e,["topK"]);void 0!==t&&null!=a&&qt(t,["setup","generationConfig","topK"],a);const l=zt(e,["maxOutputTokens"]);void 0!==t&&null!=l&&qt(t,["setup","generationConfig","maxOutputTokens"],l);const s=zt(e,["mediaResolution"]);void 0!==t&&null!=s&&qt(t,["setup","generationConfig","mediaResolution"],s);const u=zt(e,["seed"]);void 0!==t&&null!=u&&qt(t,["setup","generationConfig","seed"],u);const c=zt(e,["speechConfig"]);void 0!==t&&null!=c&&qt(t,["setup","generationConfig","speechConfig"],function(e){const t={},n=zt(e,["voiceConfig"]);if(null!=n&&qt(t,["voiceConfig"],qo(n)),void 0!==zt(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=zt(e,["languageCode"]);return null!=r&&qt(t,["languageCode"],r),t}(fr(c)));const d=zt(e,["enableAffectiveDialog"]);void 0!==t&&null!=d&&qt(t,["setup","generationConfig","enableAffectiveDialog"],d);const f=zt(e,["systemInstruction"]);void 0!==t&&null!=f&&qt(t,["setup","systemInstruction"],function(e){const t={},n=zt(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Bo(e))),qt(t,["parts"],e)}const r=zt(e,["role"]);return null!=r&&qt(t,["role"],r),t}(rr(f)));const p=zt(e,["tools"]);if(void 0!==t&&null!=p){let e=hr(p);Array.isArray(e)&&(e=e.map(e=>Yo(pr(e)))),qt(t,["setup","tools"],e)}const h=zt(e,["sessionResumption"]);void 0!==t&&null!=h&&qt(t,["setup","sessionResumption"],function(e){const t={},n=zt(e,["handle"]);null!=n&&qt(t,["handle"],n);const r=zt(e,["transparent"]);return null!=r&&qt(t,["transparent"],r),t}(h));const m=zt(e,["inputAudioTranscription"]);void 0!==t&&null!=m&&qt(t,["setup","inputAudioTranscription"],{});const g=zt(e,["outputAudioTranscription"]);void 0!==t&&null!=g&&qt(t,["setup","outputAudioTranscription"],{});const y=zt(e,["realtimeInputConfig"]);void 0!==t&&null!=y&&qt(t,["setup","realtimeInputConfig"],Qo(y));const v=zt(e,["contextWindowCompression"]);void 0!==t&&null!=v&&qt(t,["setup","contextWindowCompression"],ei(v));const b=zt(e,["proactivity"]);return void 0!==t&&null!=b&&qt(t,["setup","proactivity"],function(e){const t={},n=zt(e,["proactiveAudio"]);return null!=n&&qt(t,["proactiveAudio"],n),t}(b)),{}}function ri(e){const t={},n=zt(e,["media"]);null!=n&&qt(t,["mediaChunks"],Yn(n));const r=zt(e,["audio"]);null!=r&&qt(t,["audio"],function(e){const t=$n(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error("Unsupported mime type: ".concat(t.mimeType))}(r));const o=zt(e,["audioStreamEnd"]);null!=o&&qt(t,["audioStreamEnd"],o);const i=zt(e,["video"]);null!=i&&qt(t,["video"],function(e){const t=$n(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error("Unsupported mime type: ".concat(t.mimeType))}(i));const a=zt(e,["text"]);null!=a&&qt(t,["text"],a);null!=zt(e,["activityStart"])&&qt(t,["activityStart"],{});return null!=zt(e,["activityEnd"])&&qt(t,["activityEnd"],{}),t}function oi(e){const t={},n=zt(e,["media"]);if(null!=n&&qt(t,["mediaChunks"],Yn(n)),void 0!==zt(e,["audio"]))throw new Error("audio parameter is not supported in Vertex AI.");const r=zt(e,["audioStreamEnd"]);if(null!=r&&qt(t,["audioStreamEnd"],r),void 0!==zt(e,["video"]))throw new Error("video parameter is not supported in Vertex AI.");if(void 0!==zt(e,["text"]))throw new Error("text parameter is not supported in Vertex AI.");null!=zt(e,["activityStart"])&&qt(t,["activityStart"],{});return null!=zt(e,["activityEnd"])&&qt(t,["activityEnd"],{}),t}function ii(e){const t={},n=zt(e,["text"]);null!=n&&qt(t,["text"],n);const r=zt(e,["weight"]);return null!=r&&qt(t,["weight"],r),t}function ai(e){const t={},n=zt(e,["temperature"]);null!=n&&qt(t,["temperature"],n);const r=zt(e,["topK"]);null!=r&&qt(t,["topK"],r);const o=zt(e,["seed"]);null!=o&&qt(t,["seed"],o);const i=zt(e,["guidance"]);null!=i&&qt(t,["guidance"],i);const a=zt(e,["bpm"]);null!=a&&qt(t,["bpm"],a);const l=zt(e,["density"]);null!=l&&qt(t,["density"],l);const s=zt(e,["brightness"]);null!=s&&qt(t,["brightness"],s);const u=zt(e,["scale"]);null!=u&&qt(t,["scale"],u);const c=zt(e,["muteBass"]);null!=c&&qt(t,["muteBass"],c);const d=zt(e,["muteDrums"]);null!=d&&qt(t,["muteDrums"],d);const f=zt(e,["onlyBassAndDrums"]);return null!=f&&qt(t,["onlyBassAndDrums"],f),t}function li(e){const t={},n=zt(e,["model"]);return null!=n&&qt(t,["model"],n),t}function si(e){const t={},n=zt(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ii(e))),qt(t,["weightedPrompts"],e)}return t}function ui(e){const t={},n=zt(e,["setup"]);null!=n&&qt(t,["setup"],li(n));const r=zt(e,["clientContent"]);null!=r&&qt(t,["clientContent"],si(r));const o=zt(e,["musicGenerationConfig"]);null!=o&&qt(t,["musicGenerationConfig"],ai(o));const i=zt(e,["playbackControl"]);return null!=i&&qt(t,["playbackControl"],i),t}function ci(e){const t={},n=zt(e,["videoMetadata"]);null!=n&&qt(t,["videoMetadata"],function(e){const t={},n=zt(e,["fps"]);null!=n&&qt(t,["fps"],n);const r=zt(e,["endOffset"]);null!=r&&qt(t,["endOffset"],r);const o=zt(e,["startOffset"]);return null!=o&&qt(t,["startOffset"],o),t}(n));const r=zt(e,["thought"]);null!=r&&qt(t,["thought"],r);const o=zt(e,["inlineData"]);null!=o&&qt(t,["inlineData"],function(e){const t={},n=zt(e,["data"]);null!=n&&qt(t,["data"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(o));const i=zt(e,["fileData"]);null!=i&&qt(t,["fileData"],function(e){const t={},n=zt(e,["fileUri"]);null!=n&&qt(t,["fileUri"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(i));const a=zt(e,["thoughtSignature"]);null!=a&&qt(t,["thoughtSignature"],a);const l=zt(e,["codeExecutionResult"]);null!=l&&qt(t,["codeExecutionResult"],l);const s=zt(e,["executableCode"]);null!=s&&qt(t,["executableCode"],s);const u=zt(e,["functionCall"]);null!=u&&qt(t,["functionCall"],u);const c=zt(e,["functionResponse"]);null!=c&&qt(t,["functionResponse"],c);const d=zt(e,["text"]);return null!=d&&qt(t,["text"],d),t}function di(e){const t={},n=zt(e,["videoMetadata"]);null!=n&&qt(t,["videoMetadata"],function(e){const t={},n=zt(e,["fps"]);null!=n&&qt(t,["fps"],n);const r=zt(e,["endOffset"]);null!=r&&qt(t,["endOffset"],r);const o=zt(e,["startOffset"]);return null!=o&&qt(t,["startOffset"],o),t}(n));const r=zt(e,["thought"]);null!=r&&qt(t,["thought"],r);const o=zt(e,["inlineData"]);null!=o&&qt(t,["inlineData"],function(e){const t={},n=zt(e,["displayName"]);null!=n&&qt(t,["displayName"],n);const r=zt(e,["data"]);null!=r&&qt(t,["data"],r);const o=zt(e,["mimeType"]);return null!=o&&qt(t,["mimeType"],o),t}(o));const i=zt(e,["fileData"]);null!=i&&qt(t,["fileData"],function(e){const t={},n=zt(e,["displayName"]);null!=n&&qt(t,["displayName"],n);const r=zt(e,["fileUri"]);null!=r&&qt(t,["fileUri"],r);const o=zt(e,["mimeType"]);return null!=o&&qt(t,["mimeType"],o),t}(i));const a=zt(e,["thoughtSignature"]);null!=a&&qt(t,["thoughtSignature"],a);const l=zt(e,["codeExecutionResult"]);null!=l&&qt(t,["codeExecutionResult"],l);const s=zt(e,["executableCode"]);null!=s&&qt(t,["executableCode"],s);const u=zt(e,["functionCall"]);null!=u&&qt(t,["functionCall"],u);const c=zt(e,["functionResponse"]);null!=c&&qt(t,["functionResponse"],c);const d=zt(e,["text"]);return null!=d&&qt(t,["text"],d),t}function fi(e){const t={},n=zt(e,["text"]);null!=n&&qt(t,["text"],n);const r=zt(e,["finished"]);return null!=r&&qt(t,["finished"],r),t}function pi(e){const t={},n=zt(e,["text"]);null!=n&&qt(t,["text"],n);const r=zt(e,["finished"]);return null!=r&&qt(t,["finished"],r),t}function hi(e){const t={},n=zt(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["retrievedUrl"]);null!=n&&qt(t,["retrievedUrl"],n);const r=zt(e,["urlRetrievalStatus"]);return null!=r&&qt(t,["urlRetrievalStatus"],r),t}(e))),qt(t,["urlMetadata"],e)}return t}function mi(e){const t={},n=zt(e,["modelTurn"]);null!=n&&qt(t,["modelTurn"],function(e){const t={},n=zt(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ci(e))),qt(t,["parts"],e)}const r=zt(e,["role"]);return null!=r&&qt(t,["role"],r),t}(n));const r=zt(e,["turnComplete"]);null!=r&&qt(t,["turnComplete"],r);const o=zt(e,["interrupted"]);null!=o&&qt(t,["interrupted"],o);const i=zt(e,["groundingMetadata"]);null!=i&&qt(t,["groundingMetadata"],i);const a=zt(e,["generationComplete"]);null!=a&&qt(t,["generationComplete"],a);const l=zt(e,["inputTranscription"]);null!=l&&qt(t,["inputTranscription"],fi(l));const s=zt(e,["outputTranscription"]);null!=s&&qt(t,["outputTranscription"],fi(s));const u=zt(e,["urlContextMetadata"]);return null!=u&&qt(t,["urlContextMetadata"],hi(u)),t}function gi(e){const t={},n=zt(e,["modelTurn"]);null!=n&&qt(t,["modelTurn"],function(e){const t={},n=zt(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>di(e))),qt(t,["parts"],e)}const r=zt(e,["role"]);return null!=r&&qt(t,["role"],r),t}(n));const r=zt(e,["turnComplete"]);null!=r&&qt(t,["turnComplete"],r);const o=zt(e,["interrupted"]);null!=o&&qt(t,["interrupted"],o);const i=zt(e,["groundingMetadata"]);null!=i&&qt(t,["groundingMetadata"],i);const a=zt(e,["generationComplete"]);null!=a&&qt(t,["generationComplete"],a);const l=zt(e,["inputTranscription"]);null!=l&&qt(t,["inputTranscription"],pi(l));const s=zt(e,["outputTranscription"]);return null!=s&&qt(t,["outputTranscription"],pi(s)),t}function yi(e){const t={},n=zt(e,["functionCalls"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["id"]);null!=n&&qt(t,["id"],n);const r=zt(e,["args"]);null!=r&&qt(t,["args"],r);const o=zt(e,["name"]);return null!=o&&qt(t,["name"],o),t}(e))),qt(t,["functionCalls"],e)}return t}function vi(e){const t={},n=zt(e,["functionCalls"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["args"]);null!=n&&qt(t,["args"],n);const r=zt(e,["name"]);return null!=r&&qt(t,["name"],r),t}(e))),qt(t,["functionCalls"],e)}return t}function bi(e){const t={},n=zt(e,["modality"]);null!=n&&qt(t,["modality"],n);const r=zt(e,["tokenCount"]);return null!=r&&qt(t,["tokenCount"],r),t}function xi(e){const t={},n=zt(e,["modality"]);null!=n&&qt(t,["modality"],n);const r=zt(e,["tokenCount"]);return null!=r&&qt(t,["tokenCount"],r),t}function wi(e){const t={};null!=zt(e,["setupComplete"])&&qt(t,["setupComplete"],{});const n=zt(e,["serverContent"]);null!=n&&qt(t,["serverContent"],mi(n));const r=zt(e,["toolCall"]);null!=r&&qt(t,["toolCall"],yi(r));const o=zt(e,["toolCallCancellation"]);null!=o&&qt(t,["toolCallCancellation"],function(e){const t={},n=zt(e,["ids"]);return null!=n&&qt(t,["ids"],n),t}(o));const i=zt(e,["usageMetadata"]);null!=i&&qt(t,["usageMetadata"],function(e){const t={},n=zt(e,["promptTokenCount"]);null!=n&&qt(t,["promptTokenCount"],n);const r=zt(e,["cachedContentTokenCount"]);null!=r&&qt(t,["cachedContentTokenCount"],r);const o=zt(e,["responseTokenCount"]);null!=o&&qt(t,["responseTokenCount"],o);const i=zt(e,["toolUsePromptTokenCount"]);null!=i&&qt(t,["toolUsePromptTokenCount"],i);const a=zt(e,["thoughtsTokenCount"]);null!=a&&qt(t,["thoughtsTokenCount"],a);const l=zt(e,["totalTokenCount"]);null!=l&&qt(t,["totalTokenCount"],l);const s=zt(e,["promptTokensDetails"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>bi(e))),qt(t,["promptTokensDetails"],e)}const u=zt(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>bi(e))),qt(t,["cacheTokensDetails"],e)}const c=zt(e,["responseTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>bi(e))),qt(t,["responseTokensDetails"],e)}const d=zt(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>bi(e))),qt(t,["toolUsePromptTokensDetails"],e)}return t}(i));const a=zt(e,["goAway"]);null!=a&&qt(t,["goAway"],function(e){const t={},n=zt(e,["timeLeft"]);return null!=n&&qt(t,["timeLeft"],n),t}(a));const l=zt(e,["sessionResumptionUpdate"]);return null!=l&&qt(t,["sessionResumptionUpdate"],function(e){const t={},n=zt(e,["newHandle"]);null!=n&&qt(t,["newHandle"],n);const r=zt(e,["resumable"]);null!=r&&qt(t,["resumable"],r);const o=zt(e,["lastConsumedClientMessageIndex"]);return null!=o&&qt(t,["lastConsumedClientMessageIndex"],o),t}(l)),t}function _i(e){const t={};null!=zt(e,["setupComplete"])&&qt(t,["setupComplete"],{});const n=zt(e,["serverContent"]);null!=n&&qt(t,["serverContent"],gi(n));const r=zt(e,["toolCall"]);null!=r&&qt(t,["toolCall"],vi(r));const o=zt(e,["toolCallCancellation"]);null!=o&&qt(t,["toolCallCancellation"],function(e){const t={},n=zt(e,["ids"]);return null!=n&&qt(t,["ids"],n),t}(o));const i=zt(e,["usageMetadata"]);null!=i&&qt(t,["usageMetadata"],function(e){const t={},n=zt(e,["promptTokenCount"]);null!=n&&qt(t,["promptTokenCount"],n);const r=zt(e,["cachedContentTokenCount"]);null!=r&&qt(t,["cachedContentTokenCount"],r);const o=zt(e,["candidatesTokenCount"]);null!=o&&qt(t,["responseTokenCount"],o);const i=zt(e,["toolUsePromptTokenCount"]);null!=i&&qt(t,["toolUsePromptTokenCount"],i);const a=zt(e,["thoughtsTokenCount"]);null!=a&&qt(t,["thoughtsTokenCount"],a);const l=zt(e,["totalTokenCount"]);null!=l&&qt(t,["totalTokenCount"],l);const s=zt(e,["promptTokensDetails"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>xi(e))),qt(t,["promptTokensDetails"],e)}const u=zt(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>xi(e))),qt(t,["cacheTokensDetails"],e)}const c=zt(e,["candidatesTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>xi(e))),qt(t,["responseTokensDetails"],e)}const d=zt(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>xi(e))),qt(t,["toolUsePromptTokensDetails"],e)}const f=zt(e,["trafficType"]);return null!=f&&qt(t,["trafficType"],f),t}(i));const a=zt(e,["goAway"]);null!=a&&qt(t,["goAway"],function(e){const t={},n=zt(e,["timeLeft"]);return null!=n&&qt(t,["timeLeft"],n),t}(a));const l=zt(e,["sessionResumptionUpdate"]);return null!=l&&qt(t,["sessionResumptionUpdate"],function(e){const t={},n=zt(e,["newHandle"]);null!=n&&qt(t,["newHandle"],n);const r=zt(e,["resumable"]);null!=r&&qt(t,["resumable"],r);const o=zt(e,["lastConsumedClientMessageIndex"]);return null!=o&&qt(t,["lastConsumedClientMessageIndex"],o),t}(l)),t}function Si(e){const t={},n=zt(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["text"]);null!=n&&qt(t,["text"],n);const r=zt(e,["weight"]);return null!=r&&qt(t,["weight"],r),t}(e))),qt(t,["weightedPrompts"],e)}return t}function Ci(e){const t={},n=zt(e,["clientContent"]);null!=n&&qt(t,["clientContent"],Si(n));const r=zt(e,["musicGenerationConfig"]);return null!=r&&qt(t,["musicGenerationConfig"],function(e){const t={},n=zt(e,["temperature"]);null!=n&&qt(t,["temperature"],n);const r=zt(e,["topK"]);null!=r&&qt(t,["topK"],r);const o=zt(e,["seed"]);null!=o&&qt(t,["seed"],o);const i=zt(e,["guidance"]);null!=i&&qt(t,["guidance"],i);const a=zt(e,["bpm"]);null!=a&&qt(t,["bpm"],a);const l=zt(e,["density"]);null!=l&&qt(t,["density"],l);const s=zt(e,["brightness"]);null!=s&&qt(t,["brightness"],s);const u=zt(e,["scale"]);null!=u&&qt(t,["scale"],u);const c=zt(e,["muteBass"]);null!=c&&qt(t,["muteBass"],c);const d=zt(e,["muteDrums"]);null!=d&&qt(t,["muteDrums"],d);const f=zt(e,["onlyBassAndDrums"]);return null!=f&&qt(t,["onlyBassAndDrums"],f),t}(r)),t}function Ei(e){const t={},n=zt(e,["audioChunks"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["data"]);null!=n&&qt(t,["data"],n);const r=zt(e,["mimeType"]);null!=r&&qt(t,["mimeType"],r);const o=zt(e,["sourceMetadata"]);return null!=o&&qt(t,["sourceMetadata"],Ci(o)),t}(e))),qt(t,["audioChunks"],e)}return t}function Ti(e){const t={};null!=zt(e,["setupComplete"])&&qt(t,["setupComplete"],{});const n=zt(e,["serverContent"]);null!=n&&qt(t,["serverContent"],Ei(n));const r=zt(e,["filteredPrompt"]);return null!=r&&qt(t,["filteredPrompt"],function(e){const t={},n=zt(e,["text"]);null!=n&&qt(t,["text"],n);const r=zt(e,["filteredReason"]);return null!=r&&qt(t,["filteredReason"],r),t}(r)),t}function ki(e){const t={},n=zt(e,["videoMetadata"]);null!=n&&qt(t,["videoMetadata"],function(e){const t={},n=zt(e,["fps"]);null!=n&&qt(t,["fps"],n);const r=zt(e,["endOffset"]);null!=r&&qt(t,["endOffset"],r);const o=zt(e,["startOffset"]);return null!=o&&qt(t,["startOffset"],o),t}(n));const r=zt(e,["thought"]);null!=r&&qt(t,["thought"],r);const o=zt(e,["inlineData"]);null!=o&&qt(t,["inlineData"],function(e){const t={};if(void 0!==zt(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=zt(e,["data"]);null!=n&&qt(t,["data"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(o));const i=zt(e,["fileData"]);null!=i&&qt(t,["fileData"],function(e){const t={};if(void 0!==zt(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=zt(e,["fileUri"]);null!=n&&qt(t,["fileUri"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(i));const a=zt(e,["thoughtSignature"]);null!=a&&qt(t,["thoughtSignature"],a);const l=zt(e,["codeExecutionResult"]);null!=l&&qt(t,["codeExecutionResult"],l);const s=zt(e,["executableCode"]);null!=s&&qt(t,["executableCode"],s);const u=zt(e,["functionCall"]);null!=u&&qt(t,["functionCall"],u);const c=zt(e,["functionResponse"]);null!=c&&qt(t,["functionResponse"],c);const d=zt(e,["text"]);return null!=d&&qt(t,["text"],d),t}function Ni(e){const t={},n=zt(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ki(e))),qt(t,["parts"],e)}const r=zt(e,["role"]);return null!=r&&qt(t,["role"],r),t}function Ai(e){const t={},n=zt(e,["timeRangeFilter"]);return null!=n&&qt(t,["timeRangeFilter"],function(e){const t={},n=zt(e,["startTime"]);null!=n&&qt(t,["startTime"],n);const r=zt(e,["endTime"]);return null!=r&&qt(t,["endTime"],r),t}(n)),t}function Oi(e){const t={},n=zt(e,["dynamicRetrievalConfig"]);return null!=n&&qt(t,["dynamicRetrievalConfig"],function(e){const t={},n=zt(e,["mode"]);null!=n&&qt(t,["mode"],n);const r=zt(e,["dynamicThreshold"]);return null!=r&&qt(t,["dynamicThreshold"],r),t}(n)),t}function Ii(e){const t={},n=zt(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["behavior"]);null!=n&&qt(t,["behavior"],n);const r=zt(e,["description"]);null!=r&&qt(t,["description"],r);const o=zt(e,["name"]);null!=o&&qt(t,["name"],o);const i=zt(e,["parameters"]);null!=i&&qt(t,["parameters"],i);const a=zt(e,["parametersJsonSchema"]);null!=a&&qt(t,["parametersJsonSchema"],a);const l=zt(e,["response"]);null!=l&&qt(t,["response"],l);const s=zt(e,["responseJsonSchema"]);return null!=s&&qt(t,["responseJsonSchema"],s),t}(e))),qt(t,["functionDeclarations"],e)}if(void 0!==zt(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=zt(e,["googleSearch"]);null!=r&&qt(t,["googleSearch"],Ai(r));const o=zt(e,["googleSearchRetrieval"]);if(null!=o&&qt(t,["googleSearchRetrieval"],Oi(o)),void 0!==zt(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==zt(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=zt(e,["urlContext"])&&qt(t,["urlContext"],{});const i=zt(e,["codeExecution"]);return null!=i&&qt(t,["codeExecution"],i),t}function Pi(e){const t={},n=zt(e,["latLng"]);null!=n&&qt(t,["latLng"],function(e){const t={},n=zt(e,["latitude"]);null!=n&&qt(t,["latitude"],n);const r=zt(e,["longitude"]);return null!=r&&qt(t,["longitude"],r),t}(n));const r=zt(e,["languageCode"]);return null!=r&&qt(t,["languageCode"],r),t}function Ri(e){const t={},n=zt(e,["functionCallingConfig"]);null!=n&&qt(t,["functionCallingConfig"],function(e){const t={},n=zt(e,["mode"]);null!=n&&qt(t,["mode"],n);const r=zt(e,["allowedFunctionNames"]);return null!=r&&qt(t,["allowedFunctionNames"],r),t}(n));const r=zt(e,["retrievalConfig"]);return null!=r&&qt(t,["retrievalConfig"],Pi(r)),t}function ji(e){const t={},n=zt(e,["prebuiltVoiceConfig"]);return null!=n&&qt(t,["prebuiltVoiceConfig"],function(e){const t={},n=zt(e,["voiceName"]);return null!=n&&qt(t,["voiceName"],n),t}(n)),t}function Di(e){const t={},n=zt(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["speaker"]);null!=n&&qt(t,["speaker"],n);const r=zt(e,["voiceConfig"]);return null!=r&&qt(t,["voiceConfig"],ji(r)),t}(e))),qt(t,["speakerVoiceConfigs"],e)}return t}function Mi(e,t,n){const r={},o=zt(t,["systemInstruction"]);void 0!==n&&null!=o&&qt(n,["systemInstruction"],Ni(rr(o)));const i=zt(t,["temperature"]);null!=i&&qt(r,["temperature"],i);const a=zt(t,["topP"]);null!=a&&qt(r,["topP"],a);const l=zt(t,["topK"]);null!=l&&qt(r,["topK"],l);const s=zt(t,["candidateCount"]);null!=s&&qt(r,["candidateCount"],s);const u=zt(t,["maxOutputTokens"]);null!=u&&qt(r,["maxOutputTokens"],u);const c=zt(t,["stopSequences"]);null!=c&&qt(r,["stopSequences"],c);const d=zt(t,["responseLogprobs"]);null!=d&&qt(r,["responseLogprobs"],d);const f=zt(t,["logprobs"]);null!=f&&qt(r,["logprobs"],f);const p=zt(t,["presencePenalty"]);null!=p&&qt(r,["presencePenalty"],p);const h=zt(t,["frequencyPenalty"]);null!=h&&qt(r,["frequencyPenalty"],h);const m=zt(t,["seed"]);null!=m&&qt(r,["seed"],m);const g=zt(t,["responseMimeType"]);null!=g&&qt(r,["responseMimeType"],g);const y=zt(t,["responseSchema"]);null!=y&&qt(r,["responseSchema"],function(e){const t={},n=zt(e,["anyOf"]);null!=n&&qt(t,["anyOf"],n);const r=zt(e,["default"]);null!=r&&qt(t,["default"],r);const o=zt(e,["description"]);null!=o&&qt(t,["description"],o);const i=zt(e,["enum"]);null!=i&&qt(t,["enum"],i);const a=zt(e,["example"]);null!=a&&qt(t,["example"],a);const l=zt(e,["format"]);null!=l&&qt(t,["format"],l);const s=zt(e,["items"]);null!=s&&qt(t,["items"],s);const u=zt(e,["maxItems"]);null!=u&&qt(t,["maxItems"],u);const c=zt(e,["maxLength"]);null!=c&&qt(t,["maxLength"],c);const d=zt(e,["maxProperties"]);null!=d&&qt(t,["maxProperties"],d);const f=zt(e,["maximum"]);null!=f&&qt(t,["maximum"],f);const p=zt(e,["minItems"]);null!=p&&qt(t,["minItems"],p);const h=zt(e,["minLength"]);null!=h&&qt(t,["minLength"],h);const m=zt(e,["minProperties"]);null!=m&&qt(t,["minProperties"],m);const g=zt(e,["minimum"]);null!=g&&qt(t,["minimum"],g);const y=zt(e,["nullable"]);null!=y&&qt(t,["nullable"],y);const v=zt(e,["pattern"]);null!=v&&qt(t,["pattern"],v);const b=zt(e,["properties"]);null!=b&&qt(t,["properties"],b);const x=zt(e,["propertyOrdering"]);null!=x&&qt(t,["propertyOrdering"],x);const w=zt(e,["required"]);null!=w&&qt(t,["required"],w);const _=zt(e,["title"]);null!=_&&qt(t,["title"],_);const S=zt(e,["type"]);return null!=S&&qt(t,["type"],S),t}(cr(y)));const v=zt(t,["responseJsonSchema"]);if(null!=v&&qt(r,["responseJsonSchema"],v),void 0!==zt(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==zt(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=zt(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==zt(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const n=zt(e,["category"]);null!=n&&qt(t,["category"],n);const r=zt(e,["threshold"]);return null!=r&&qt(t,["threshold"],r),t}(e))),qt(n,["safetySettings"],e)}const x=zt(t,["tools"]);if(void 0!==n&&null!=x){let e=hr(x);Array.isArray(e)&&(e=e.map(e=>Ii(pr(e)))),qt(n,["tools"],e)}const w=zt(t,["toolConfig"]);if(void 0!==n&&null!=w&&qt(n,["toolConfig"],Ri(w)),void 0!==zt(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const _=zt(t,["cachedContent"]);void 0!==n&&null!=_&&qt(n,["cachedContent"],mr(e,_));const S=zt(t,["responseModalities"]);null!=S&&qt(r,["responseModalities"],S);const C=zt(t,["mediaResolution"]);null!=C&&qt(r,["mediaResolution"],C);const E=zt(t,["speechConfig"]);if(null!=E&&qt(r,["speechConfig"],function(e){const t={},n=zt(e,["voiceConfig"]);null!=n&&qt(t,["voiceConfig"],ji(n));const r=zt(e,["multiSpeakerVoiceConfig"]);null!=r&&qt(t,["multiSpeakerVoiceConfig"],Di(r));const o=zt(e,["languageCode"]);return null!=o&&qt(t,["languageCode"],o),t}(dr(E))),void 0!==zt(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const T=zt(t,["thinkingConfig"]);return null!=T&&qt(r,["thinkingConfig"],function(e){const t={},n=zt(e,["includeThoughts"]);null!=n&&qt(t,["includeThoughts"],n);const r=zt(e,["thinkingBudget"]);return null!=r&&qt(t,["thinkingBudget"],r),t}(T)),r}function Li(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","model"],Kn(e,r));const o=zt(t,["contents"]);if(null!=o){let e=ir(o);Array.isArray(e)&&(e=e.map(e=>Ni(e))),qt(n,["contents"],e)}const i=zt(t,["config"]);return null!=i&&qt(n,["generationConfig"],Mi(e,i,n)),n}function Ui(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","model"],Kn(e,r));const o=zt(t,["contents"]);null!=o&&qt(n,["requests[]","content"],or(e,o));const i=zt(t,["config"]);null!=i&&qt(n,["config"],function(e,t){const n=zt(e,["taskType"]);void 0!==t&&null!=n&&qt(t,["requests[]","taskType"],n);const r=zt(e,["title"]);void 0!==t&&null!=r&&qt(t,["requests[]","title"],r);const o=zt(e,["outputDimensionality"]);if(void 0!==t&&null!=o&&qt(t,["requests[]","outputDimensionality"],o),void 0!==zt(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==zt(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return{}}(i,n));const a=zt(t,["model"]);return void 0!==a&&qt(n,["requests[]","model"],Kn(e,a)),n}function Fi(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","model"],Kn(e,r));const o=zt(t,["prompt"]);null!=o&&qt(n,["instances[0]","prompt"],o);const i=zt(t,["config"]);return null!=i&&qt(n,["config"],function(e,t){if(void 0!==zt(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==zt(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=zt(e,["numberOfImages"]);void 0!==t&&null!=n&&qt(t,["parameters","sampleCount"],n);const r=zt(e,["aspectRatio"]);void 0!==t&&null!=r&&qt(t,["parameters","aspectRatio"],r);const o=zt(e,["guidanceScale"]);if(void 0!==t&&null!=o&&qt(t,["parameters","guidanceScale"],o),void 0!==zt(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=zt(e,["safetyFilterLevel"]);void 0!==t&&null!=i&&qt(t,["parameters","safetySetting"],i);const a=zt(e,["personGeneration"]);void 0!==t&&null!=a&&qt(t,["parameters","personGeneration"],a);const l=zt(e,["includeSafetyAttributes"]);void 0!==t&&null!=l&&qt(t,["parameters","includeSafetyAttributes"],l);const s=zt(e,["includeRaiReason"]);void 0!==t&&null!=s&&qt(t,["parameters","includeRaiReason"],s);const u=zt(e,["language"]);void 0!==t&&null!=u&&qt(t,["parameters","language"],u);const c=zt(e,["outputMimeType"]);void 0!==t&&null!=c&&qt(t,["parameters","outputOptions","mimeType"],c);const d=zt(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&qt(t,["parameters","outputOptions","compressionQuality"],d),void 0!==zt(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==zt(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.");return{}}(i,n)),n}function qi(e,t){const n={},r=zt(t,["config"]);return null!=r&&qt(n,["config"],function(e,t,n){const r=zt(t,["pageSize"]);void 0!==n&&null!=r&&qt(n,["_query","pageSize"],r);const o=zt(t,["pageToken"]);void 0!==n&&null!=o&&qt(n,["_query","pageToken"],o);const i=zt(t,["filter"]);void 0!==n&&null!=i&&qt(n,["_query","filter"],i);const a=zt(t,["queryBase"]);return void 0!==n&&null!=a&&qt(n,["_url","models_url"],br(e,a)),{}}(e,r,n)),n}function zi(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","name"],Kn(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],function(e,t){const n=zt(e,["displayName"]);void 0!==t&&null!=n&&qt(t,["displayName"],n);const r=zt(e,["description"]);void 0!==t&&null!=r&&qt(t,["description"],r);const o=zt(e,["defaultCheckpointId"]);return void 0!==t&&null!=o&&qt(t,["defaultCheckpointId"],o),{}}(o,n)),n}function Vi(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","model"],Kn(e,r));const o=zt(t,["contents"]);if(null!=o){let e=ir(o);Array.isArray(e)&&(e=e.map(e=>Ni(e))),qt(n,["contents"],e)}const i=zt(t,["config"]);return null!=i&&qt(n,["config"],function(e){if(void 0!==zt(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==zt(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==zt(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.");return{}}(i)),n}function Bi(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","model"],Kn(e,r));const o=zt(t,["prompt"]);null!=o&&qt(n,["instances[0]","prompt"],o);const i=zt(t,["image"]);if(null!=i&&qt(n,["instances[0]","image"],function(e){const t={};if(void 0!==zt(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=zt(e,["imageBytes"]);null!=n&&qt(t,["bytesBase64Encoded"],yr(n));const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(i)),void 0!==zt(t,["video"]))throw new Error("video parameter is not supported in Gemini API.");const a=zt(t,["config"]);return null!=a&&qt(n,["config"],function(e,t){const n=zt(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&qt(t,["parameters","sampleCount"],n),void 0!==zt(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==zt(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const r=zt(e,["durationSeconds"]);if(void 0!==t&&null!=r&&qt(t,["parameters","durationSeconds"],r),void 0!==zt(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const o=zt(e,["aspectRatio"]);if(void 0!==t&&null!=o&&qt(t,["parameters","aspectRatio"],o),void 0!==zt(e,["resolution"]))throw new Error("resolution parameter is not supported in Gemini API.");const i=zt(e,["personGeneration"]);if(void 0!==t&&null!=i&&qt(t,["parameters","personGeneration"],i),void 0!==zt(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=zt(e,["negativePrompt"]);void 0!==t&&null!=a&&qt(t,["parameters","negativePrompt"],a);const l=zt(e,["enhancePrompt"]);if(void 0!==t&&null!=l&&qt(t,["parameters","enhancePrompt"],l),void 0!==zt(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");if(void 0!==zt(e,["lastFrame"]))throw new Error("lastFrame parameter is not supported in Gemini API.");if(void 0!==zt(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}(a,n)),n}function Gi(e){const t={},n=zt(e,["videoMetadata"]);null!=n&&qt(t,["videoMetadata"],function(e){const t={},n=zt(e,["fps"]);null!=n&&qt(t,["fps"],n);const r=zt(e,["endOffset"]);null!=r&&qt(t,["endOffset"],r);const o=zt(e,["startOffset"]);return null!=o&&qt(t,["startOffset"],o),t}(n));const r=zt(e,["thought"]);null!=r&&qt(t,["thought"],r);const o=zt(e,["inlineData"]);null!=o&&qt(t,["inlineData"],function(e){const t={},n=zt(e,["displayName"]);null!=n&&qt(t,["displayName"],n);const r=zt(e,["data"]);null!=r&&qt(t,["data"],r);const o=zt(e,["mimeType"]);return null!=o&&qt(t,["mimeType"],o),t}(o));const i=zt(e,["fileData"]);null!=i&&qt(t,["fileData"],function(e){const t={},n=zt(e,["displayName"]);null!=n&&qt(t,["displayName"],n);const r=zt(e,["fileUri"]);null!=r&&qt(t,["fileUri"],r);const o=zt(e,["mimeType"]);return null!=o&&qt(t,["mimeType"],o),t}(i));const a=zt(e,["thoughtSignature"]);null!=a&&qt(t,["thoughtSignature"],a);const l=zt(e,["codeExecutionResult"]);null!=l&&qt(t,["codeExecutionResult"],l);const s=zt(e,["executableCode"]);null!=s&&qt(t,["executableCode"],s);const u=zt(e,["functionCall"]);null!=u&&qt(t,["functionCall"],u);const c=zt(e,["functionResponse"]);null!=c&&qt(t,["functionResponse"],c);const d=zt(e,["text"]);return null!=d&&qt(t,["text"],d),t}function Hi(e){const t={},n=zt(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Gi(e))),qt(t,["parts"],e)}const r=zt(e,["role"]);return null!=r&&qt(t,["role"],r),t}function Ji(e){const t={},n=zt(e,["timeRangeFilter"]);return null!=n&&qt(t,["timeRangeFilter"],function(e){const t={},n=zt(e,["startTime"]);null!=n&&qt(t,["startTime"],n);const r=zt(e,["endTime"]);return null!=r&&qt(t,["endTime"],r),t}(n)),t}function Wi(e){const t={},n=zt(e,["dynamicRetrievalConfig"]);return null!=n&&qt(t,["dynamicRetrievalConfig"],function(e){const t={},n=zt(e,["mode"]);null!=n&&qt(t,["mode"],n);const r=zt(e,["dynamicThreshold"]);return null!=r&&qt(t,["dynamicThreshold"],r),t}(n)),t}function Ki(e){const t={},n=zt(e,["apiKeyConfig"]);null!=n&&qt(t,["apiKeyConfig"],function(e){const t={},n=zt(e,["apiKeyString"]);return null!=n&&qt(t,["apiKeyString"],n),t}(n));const r=zt(e,["authType"]);null!=r&&qt(t,["authType"],r);const o=zt(e,["googleServiceAccountConfig"]);null!=o&&qt(t,["googleServiceAccountConfig"],o);const i=zt(e,["httpBasicAuthConfig"]);null!=i&&qt(t,["httpBasicAuthConfig"],i);const a=zt(e,["oauthConfig"]);null!=a&&qt(t,["oauthConfig"],a);const l=zt(e,["oidcConfig"]);return null!=l&&qt(t,["oidcConfig"],l),t}function Zi(e){const t={},n=zt(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==zt(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=zt(e,["description"]);null!=n&&qt(t,["description"],n);const r=zt(e,["name"]);null!=r&&qt(t,["name"],r);const o=zt(e,["parameters"]);null!=o&&qt(t,["parameters"],o);const i=zt(e,["parametersJsonSchema"]);null!=i&&qt(t,["parametersJsonSchema"],i);const a=zt(e,["response"]);null!=a&&qt(t,["response"],a);const l=zt(e,["responseJsonSchema"]);return null!=l&&qt(t,["responseJsonSchema"],l),t}(e))),qt(t,["functionDeclarations"],e)}const r=zt(e,["retrieval"]);null!=r&&qt(t,["retrieval"],r);const o=zt(e,["googleSearch"]);null!=o&&qt(t,["googleSearch"],Ji(o));const i=zt(e,["googleSearchRetrieval"]);null!=i&&qt(t,["googleSearchRetrieval"],Wi(i));null!=zt(e,["enterpriseWebSearch"])&&qt(t,["enterpriseWebSearch"],{});const a=zt(e,["googleMaps"]);null!=a&&qt(t,["googleMaps"],function(e){const t={},n=zt(e,["authConfig"]);return null!=n&&qt(t,["authConfig"],Ki(n)),t}(a));null!=zt(e,["urlContext"])&&qt(t,["urlContext"],{});const l=zt(e,["codeExecution"]);return null!=l&&qt(t,["codeExecution"],l),t}function Yi(e){const t={},n=zt(e,["latLng"]);null!=n&&qt(t,["latLng"],function(e){const t={},n=zt(e,["latitude"]);null!=n&&qt(t,["latitude"],n);const r=zt(e,["longitude"]);return null!=r&&qt(t,["longitude"],r),t}(n));const r=zt(e,["languageCode"]);return null!=r&&qt(t,["languageCode"],r),t}function $i(e){const t={},n=zt(e,["functionCallingConfig"]);null!=n&&qt(t,["functionCallingConfig"],function(e){const t={},n=zt(e,["mode"]);null!=n&&qt(t,["mode"],n);const r=zt(e,["allowedFunctionNames"]);return null!=r&&qt(t,["allowedFunctionNames"],r),t}(n));const r=zt(e,["retrievalConfig"]);return null!=r&&qt(t,["retrievalConfig"],Yi(r)),t}function Qi(e){const t={},n=zt(e,["prebuiltVoiceConfig"]);return null!=n&&qt(t,["prebuiltVoiceConfig"],function(e){const t={},n=zt(e,["voiceName"]);return null!=n&&qt(t,["voiceName"],n),t}(n)),t}function Xi(e,t,n){const r={},o=zt(t,["systemInstruction"]);void 0!==n&&null!=o&&qt(n,["systemInstruction"],Hi(rr(o)));const i=zt(t,["temperature"]);null!=i&&qt(r,["temperature"],i);const a=zt(t,["topP"]);null!=a&&qt(r,["topP"],a);const l=zt(t,["topK"]);null!=l&&qt(r,["topK"],l);const s=zt(t,["candidateCount"]);null!=s&&qt(r,["candidateCount"],s);const u=zt(t,["maxOutputTokens"]);null!=u&&qt(r,["maxOutputTokens"],u);const c=zt(t,["stopSequences"]);null!=c&&qt(r,["stopSequences"],c);const d=zt(t,["responseLogprobs"]);null!=d&&qt(r,["responseLogprobs"],d);const f=zt(t,["logprobs"]);null!=f&&qt(r,["logprobs"],f);const p=zt(t,["presencePenalty"]);null!=p&&qt(r,["presencePenalty"],p);const h=zt(t,["frequencyPenalty"]);null!=h&&qt(r,["frequencyPenalty"],h);const m=zt(t,["seed"]);null!=m&&qt(r,["seed"],m);const g=zt(t,["responseMimeType"]);null!=g&&qt(r,["responseMimeType"],g);const y=zt(t,["responseSchema"]);null!=y&&qt(r,["responseSchema"],function(e){const t={},n=zt(e,["anyOf"]);null!=n&&qt(t,["anyOf"],n);const r=zt(e,["default"]);null!=r&&qt(t,["default"],r);const o=zt(e,["description"]);null!=o&&qt(t,["description"],o);const i=zt(e,["enum"]);null!=i&&qt(t,["enum"],i);const a=zt(e,["example"]);null!=a&&qt(t,["example"],a);const l=zt(e,["format"]);null!=l&&qt(t,["format"],l);const s=zt(e,["items"]);null!=s&&qt(t,["items"],s);const u=zt(e,["maxItems"]);null!=u&&qt(t,["maxItems"],u);const c=zt(e,["maxLength"]);null!=c&&qt(t,["maxLength"],c);const d=zt(e,["maxProperties"]);null!=d&&qt(t,["maxProperties"],d);const f=zt(e,["maximum"]);null!=f&&qt(t,["maximum"],f);const p=zt(e,["minItems"]);null!=p&&qt(t,["minItems"],p);const h=zt(e,["minLength"]);null!=h&&qt(t,["minLength"],h);const m=zt(e,["minProperties"]);null!=m&&qt(t,["minProperties"],m);const g=zt(e,["minimum"]);null!=g&&qt(t,["minimum"],g);const y=zt(e,["nullable"]);null!=y&&qt(t,["nullable"],y);const v=zt(e,["pattern"]);null!=v&&qt(t,["pattern"],v);const b=zt(e,["properties"]);null!=b&&qt(t,["properties"],b);const x=zt(e,["propertyOrdering"]);null!=x&&qt(t,["propertyOrdering"],x);const w=zt(e,["required"]);null!=w&&qt(t,["required"],w);const _=zt(e,["title"]);null!=_&&qt(t,["title"],_);const S=zt(e,["type"]);return null!=S&&qt(t,["type"],S),t}(cr(y)));const v=zt(t,["responseJsonSchema"]);null!=v&&qt(r,["responseJsonSchema"],v);const b=zt(t,["routingConfig"]);null!=b&&qt(r,["routingConfig"],b);const x=zt(t,["modelSelectionConfig"]);null!=x&&qt(r,["modelConfig"],function(e){const t={},n=zt(e,["featureSelectionPreference"]);return null!=n&&qt(t,["featureSelectionPreference"],n),t}(x));const w=zt(t,["safetySettings"]);if(void 0!==n&&null!=w){let e=w;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["method"]);null!=n&&qt(t,["method"],n);const r=zt(e,["category"]);null!=r&&qt(t,["category"],r);const o=zt(e,["threshold"]);return null!=o&&qt(t,["threshold"],o),t}(e))),qt(n,["safetySettings"],e)}const _=zt(t,["tools"]);if(void 0!==n&&null!=_){let e=hr(_);Array.isArray(e)&&(e=e.map(e=>Zi(pr(e)))),qt(n,["tools"],e)}const S=zt(t,["toolConfig"]);void 0!==n&&null!=S&&qt(n,["toolConfig"],$i(S));const C=zt(t,["labels"]);void 0!==n&&null!=C&&qt(n,["labels"],C);const E=zt(t,["cachedContent"]);void 0!==n&&null!=E&&qt(n,["cachedContent"],mr(e,E));const T=zt(t,["responseModalities"]);null!=T&&qt(r,["responseModalities"],T);const k=zt(t,["mediaResolution"]);null!=k&&qt(r,["mediaResolution"],k);const N=zt(t,["speechConfig"]);null!=N&&qt(r,["speechConfig"],function(e){const t={},n=zt(e,["voiceConfig"]);if(null!=n&&qt(t,["voiceConfig"],Qi(n)),void 0!==zt(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=zt(e,["languageCode"]);return null!=r&&qt(t,["languageCode"],r),t}(dr(N)));const A=zt(t,["audioTimestamp"]);null!=A&&qt(r,["audioTimestamp"],A);const O=zt(t,["thinkingConfig"]);return null!=O&&qt(r,["thinkingConfig"],function(e){const t={},n=zt(e,["includeThoughts"]);null!=n&&qt(t,["includeThoughts"],n);const r=zt(e,["thinkingBudget"]);return null!=r&&qt(t,["thinkingBudget"],r),t}(O)),r}function ea(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","model"],Kn(e,r));const o=zt(t,["contents"]);if(null!=o){let e=ir(o);Array.isArray(e)&&(e=e.map(e=>Hi(e))),qt(n,["contents"],e)}const i=zt(t,["config"]);return null!=i&&qt(n,["generationConfig"],Xi(e,i,n)),n}function ta(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","model"],Kn(e,r));const o=zt(t,["contents"]);null!=o&&qt(n,["instances[]","content"],or(e,o));const i=zt(t,["config"]);return null!=i&&qt(n,["config"],function(e,t){const n=zt(e,["taskType"]);void 0!==t&&null!=n&&qt(t,["instances[]","task_type"],n);const r=zt(e,["title"]);void 0!==t&&null!=r&&qt(t,["instances[]","title"],r);const o=zt(e,["outputDimensionality"]);void 0!==t&&null!=o&&qt(t,["parameters","outputDimensionality"],o);const i=zt(e,["mimeType"]);void 0!==t&&null!=i&&qt(t,["instances[]","mimeType"],i);const a=zt(e,["autoTruncate"]);return void 0!==t&&null!=a&&qt(t,["parameters","autoTruncate"],a),{}}(i,n)),n}function na(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","model"],Kn(e,r));const o=zt(t,["prompt"]);null!=o&&qt(n,["instances[0]","prompt"],o);const i=zt(t,["config"]);return null!=i&&qt(n,["config"],function(e,t){const n=zt(e,["outputGcsUri"]);void 0!==t&&null!=n&&qt(t,["parameters","storageUri"],n);const r=zt(e,["negativePrompt"]);void 0!==t&&null!=r&&qt(t,["parameters","negativePrompt"],r);const o=zt(e,["numberOfImages"]);void 0!==t&&null!=o&&qt(t,["parameters","sampleCount"],o);const i=zt(e,["aspectRatio"]);void 0!==t&&null!=i&&qt(t,["parameters","aspectRatio"],i);const a=zt(e,["guidanceScale"]);void 0!==t&&null!=a&&qt(t,["parameters","guidanceScale"],a);const l=zt(e,["seed"]);void 0!==t&&null!=l&&qt(t,["parameters","seed"],l);const s=zt(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&qt(t,["parameters","safetySetting"],s);const u=zt(e,["personGeneration"]);void 0!==t&&null!=u&&qt(t,["parameters","personGeneration"],u);const c=zt(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&qt(t,["parameters","includeSafetyAttributes"],c);const d=zt(e,["includeRaiReason"]);void 0!==t&&null!=d&&qt(t,["parameters","includeRaiReason"],d);const f=zt(e,["language"]);void 0!==t&&null!=f&&qt(t,["parameters","language"],f);const p=zt(e,["outputMimeType"]);void 0!==t&&null!=p&&qt(t,["parameters","outputOptions","mimeType"],p);const h=zt(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&qt(t,["parameters","outputOptions","compressionQuality"],h);const m=zt(e,["addWatermark"]);void 0!==t&&null!=m&&qt(t,["parameters","addWatermark"],m);const g=zt(e,["enhancePrompt"]);return void 0!==t&&null!=g&&qt(t,["parameters","enhancePrompt"],g),{}}(i,n)),n}function ra(e){const t={},n=zt(e,["gcsUri"]);null!=n&&qt(t,["gcsUri"],n);const r=zt(e,["imageBytes"]);null!=r&&qt(t,["bytesBase64Encoded"],yr(r));const o=zt(e,["mimeType"]);return null!=o&&qt(t,["mimeType"],o),t}function oa(e){const t={},n=zt(e,["referenceImage"]);null!=n&&qt(t,["referenceImage"],ra(n));const r=zt(e,["referenceId"]);null!=r&&qt(t,["referenceId"],r);const o=zt(e,["referenceType"]);null!=o&&qt(t,["referenceType"],o);const i=zt(e,["maskImageConfig"]);null!=i&&qt(t,["maskImageConfig"],function(e){const t={},n=zt(e,["maskMode"]);null!=n&&qt(t,["maskMode"],n);const r=zt(e,["segmentationClasses"]);null!=r&&qt(t,["maskClasses"],r);const o=zt(e,["maskDilation"]);return null!=o&&qt(t,["dilation"],o),t}(i));const a=zt(e,["controlImageConfig"]);null!=a&&qt(t,["controlImageConfig"],function(e){const t={},n=zt(e,["controlType"]);null!=n&&qt(t,["controlType"],n);const r=zt(e,["enableControlImageComputation"]);return null!=r&&qt(t,["computeControl"],r),t}(a));const l=zt(e,["styleImageConfig"]);null!=l&&qt(t,["styleImageConfig"],function(e){const t={},n=zt(e,["styleDescription"]);return null!=n&&qt(t,["styleDescription"],n),t}(l));const s=zt(e,["subjectImageConfig"]);return null!=s&&qt(t,["subjectImageConfig"],function(e){const t={},n=zt(e,["subjectType"]);null!=n&&qt(t,["subjectType"],n);const r=zt(e,["subjectDescription"]);return null!=r&&qt(t,["subjectDescription"],r),t}(s)),t}function ia(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","model"],Kn(e,r));const o=zt(t,["prompt"]);null!=o&&qt(n,["instances[0]","prompt"],o);const i=zt(t,["referenceImages"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>oa(e))),qt(n,["instances[0]","referenceImages"],e)}const a=zt(t,["config"]);return null!=a&&qt(n,["config"],function(e,t){const n=zt(e,["outputGcsUri"]);void 0!==t&&null!=n&&qt(t,["parameters","storageUri"],n);const r=zt(e,["negativePrompt"]);void 0!==t&&null!=r&&qt(t,["parameters","negativePrompt"],r);const o=zt(e,["numberOfImages"]);void 0!==t&&null!=o&&qt(t,["parameters","sampleCount"],o);const i=zt(e,["aspectRatio"]);void 0!==t&&null!=i&&qt(t,["parameters","aspectRatio"],i);const a=zt(e,["guidanceScale"]);void 0!==t&&null!=a&&qt(t,["parameters","guidanceScale"],a);const l=zt(e,["seed"]);void 0!==t&&null!=l&&qt(t,["parameters","seed"],l);const s=zt(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&qt(t,["parameters","safetySetting"],s);const u=zt(e,["personGeneration"]);void 0!==t&&null!=u&&qt(t,["parameters","personGeneration"],u);const c=zt(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&qt(t,["parameters","includeSafetyAttributes"],c);const d=zt(e,["includeRaiReason"]);void 0!==t&&null!=d&&qt(t,["parameters","includeRaiReason"],d);const f=zt(e,["language"]);void 0!==t&&null!=f&&qt(t,["parameters","language"],f);const p=zt(e,["outputMimeType"]);void 0!==t&&null!=p&&qt(t,["parameters","outputOptions","mimeType"],p);const h=zt(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&qt(t,["parameters","outputOptions","compressionQuality"],h);const m=zt(e,["editMode"]);void 0!==t&&null!=m&&qt(t,["parameters","editMode"],m);const g=zt(e,["baseSteps"]);return void 0!==t&&null!=g&&qt(t,["parameters","editConfig","baseSteps"],g),{}}(a,n)),n}function aa(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","model"],Kn(e,r));const o=zt(t,["image"]);null!=o&&qt(n,["instances[0]","image"],ra(o));const i=zt(t,["upscaleFactor"]);null!=i&&qt(n,["parameters","upscaleConfig","upscaleFactor"],i);const a=zt(t,["config"]);return null!=a&&qt(n,["config"],function(e,t){const n=zt(e,["includeRaiReason"]);void 0!==t&&null!=n&&qt(t,["parameters","includeRaiReason"],n);const r=zt(e,["outputMimeType"]);void 0!==t&&null!=r&&qt(t,["parameters","outputOptions","mimeType"],r);const o=zt(e,["outputCompressionQuality"]);void 0!==t&&null!=o&&qt(t,["parameters","outputOptions","compressionQuality"],o);const i=zt(e,["enhanceInputImage"]);void 0!==t&&null!=i&&qt(t,["parameters","upscaleConfig","enhanceInputImage"],i);const a=zt(e,["imagePreservationFactor"]);void 0!==t&&null!=a&&qt(t,["parameters","upscaleConfig","imagePreservationFactor"],a);const l=zt(e,["numberOfImages"]);void 0!==t&&null!=l&&qt(t,["parameters","sampleCount"],l);const s=zt(e,["mode"]);return void 0!==t&&null!=s&&qt(t,["parameters","mode"],s),{}}(a,n)),n}function la(e,t){const n={},r=zt(t,["config"]);return null!=r&&qt(n,["config"],function(e,t,n){const r=zt(t,["pageSize"]);void 0!==n&&null!=r&&qt(n,["_query","pageSize"],r);const o=zt(t,["pageToken"]);void 0!==n&&null!=o&&qt(n,["_query","pageToken"],o);const i=zt(t,["filter"]);void 0!==n&&null!=i&&qt(n,["_query","filter"],i);const a=zt(t,["queryBase"]);return void 0!==n&&null!=a&&qt(n,["_url","models_url"],br(e,a)),{}}(e,r,n)),n}function sa(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","model"],Kn(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],function(e,t){const n=zt(e,["displayName"]);void 0!==t&&null!=n&&qt(t,["displayName"],n);const r=zt(e,["description"]);void 0!==t&&null!=r&&qt(t,["description"],r);const o=zt(e,["defaultCheckpointId"]);return void 0!==t&&null!=o&&qt(t,["defaultCheckpointId"],o),{}}(o,n)),n}function ua(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","model"],Kn(e,r));const o=zt(t,["contents"]);if(null!=o){let e=ir(o);Array.isArray(e)&&(e=e.map(e=>Hi(e))),qt(n,["contents"],e)}const i=zt(t,["config"]);return null!=i&&qt(n,["config"],function(e,t){const n=zt(e,["systemInstruction"]);void 0!==t&&null!=n&&qt(t,["systemInstruction"],Hi(rr(n)));const r=zt(e,["tools"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Zi(e))),qt(t,["tools"],e)}const o=zt(e,["generationConfig"]);return void 0!==t&&null!=o&&qt(t,["generationConfig"],o),{}}(i,n)),n}function ca(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","model"],Kn(e,r));const o=zt(t,["prompt"]);null!=o&&qt(n,["instances[0]","prompt"],o);const i=zt(t,["image"]);null!=i&&qt(n,["instances[0]","image"],ra(i));const a=zt(t,["video"]);null!=a&&qt(n,["instances[0]","video"],function(e){const t={},n=zt(e,["uri"]);null!=n&&qt(t,["gcsUri"],n);const r=zt(e,["videoBytes"]);null!=r&&qt(t,["bytesBase64Encoded"],yr(r));const o=zt(e,["mimeType"]);return null!=o&&qt(t,["mimeType"],o),t}(a));const l=zt(t,["config"]);return null!=l&&qt(n,["config"],function(e,t){const n=zt(e,["numberOfVideos"]);void 0!==t&&null!=n&&qt(t,["parameters","sampleCount"],n);const r=zt(e,["outputGcsUri"]);void 0!==t&&null!=r&&qt(t,["parameters","storageUri"],r);const o=zt(e,["fps"]);void 0!==t&&null!=o&&qt(t,["parameters","fps"],o);const i=zt(e,["durationSeconds"]);void 0!==t&&null!=i&&qt(t,["parameters","durationSeconds"],i);const a=zt(e,["seed"]);void 0!==t&&null!=a&&qt(t,["parameters","seed"],a);const l=zt(e,["aspectRatio"]);void 0!==t&&null!=l&&qt(t,["parameters","aspectRatio"],l);const s=zt(e,["resolution"]);void 0!==t&&null!=s&&qt(t,["parameters","resolution"],s);const u=zt(e,["personGeneration"]);void 0!==t&&null!=u&&qt(t,["parameters","personGeneration"],u);const c=zt(e,["pubsubTopic"]);void 0!==t&&null!=c&&qt(t,["parameters","pubsubTopic"],c);const d=zt(e,["negativePrompt"]);void 0!==t&&null!=d&&qt(t,["parameters","negativePrompt"],d);const f=zt(e,["enhancePrompt"]);void 0!==t&&null!=f&&qt(t,["parameters","enhancePrompt"],f);const p=zt(e,["generateAudio"]);void 0!==t&&null!=p&&qt(t,["parameters","generateAudio"],p);const h=zt(e,["lastFrame"]);void 0!==t&&null!=h&&qt(t,["instances[0]","lastFrame"],ra(h));const m=zt(e,["compressionQuality"]);return void 0!==t&&null!=m&&qt(t,["parameters","compressionQuality"],m),{}}(l,n)),n}function da(e){const t={},n=zt(e,["videoMetadata"]);null!=n&&qt(t,["videoMetadata"],function(e){const t={},n=zt(e,["fps"]);null!=n&&qt(t,["fps"],n);const r=zt(e,["endOffset"]);null!=r&&qt(t,["endOffset"],r);const o=zt(e,["startOffset"]);return null!=o&&qt(t,["startOffset"],o),t}(n));const r=zt(e,["thought"]);null!=r&&qt(t,["thought"],r);const o=zt(e,["inlineData"]);null!=o&&qt(t,["inlineData"],function(e){const t={},n=zt(e,["data"]);null!=n&&qt(t,["data"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(o));const i=zt(e,["fileData"]);null!=i&&qt(t,["fileData"],function(e){const t={},n=zt(e,["fileUri"]);null!=n&&qt(t,["fileUri"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(i));const a=zt(e,["thoughtSignature"]);null!=a&&qt(t,["thoughtSignature"],a);const l=zt(e,["codeExecutionResult"]);null!=l&&qt(t,["codeExecutionResult"],l);const s=zt(e,["executableCode"]);null!=s&&qt(t,["executableCode"],s);const u=zt(e,["functionCall"]);null!=u&&qt(t,["functionCall"],u);const c=zt(e,["functionResponse"]);null!=c&&qt(t,["functionResponse"],c);const d=zt(e,["text"]);return null!=d&&qt(t,["text"],d),t}function fa(e){const t={},n=zt(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["retrievedUrl"]);null!=n&&qt(t,["retrievedUrl"],n);const r=zt(e,["urlRetrievalStatus"]);return null!=r&&qt(t,["urlRetrievalStatus"],r),t}(e))),qt(t,["urlMetadata"],e)}return t}function pa(e){const t={},n=zt(e,["content"]);null!=n&&qt(t,["content"],function(e){const t={},n=zt(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>da(e))),qt(t,["parts"],e)}const r=zt(e,["role"]);return null!=r&&qt(t,["role"],r),t}(n));const r=zt(e,["citationMetadata"]);null!=r&&qt(t,["citationMetadata"],function(e){const t={},n=zt(e,["citationSources"]);return null!=n&&qt(t,["citations"],n),t}(r));const o=zt(e,["tokenCount"]);null!=o&&qt(t,["tokenCount"],o);const i=zt(e,["finishReason"]);null!=i&&qt(t,["finishReason"],i);const a=zt(e,["urlContextMetadata"]);null!=a&&qt(t,["urlContextMetadata"],fa(a));const l=zt(e,["avgLogprobs"]);null!=l&&qt(t,["avgLogprobs"],l);const s=zt(e,["groundingMetadata"]);null!=s&&qt(t,["groundingMetadata"],s);const u=zt(e,["index"]);null!=u&&qt(t,["index"],u);const c=zt(e,["logprobsResult"]);null!=c&&qt(t,["logprobsResult"],c);const d=zt(e,["safetyRatings"]);return null!=d&&qt(t,["safetyRatings"],d),t}function ha(e){const t={},n=zt(e,["candidates"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>pa(e))),qt(t,["candidates"],e)}const r=zt(e,["modelVersion"]);null!=r&&qt(t,["modelVersion"],r);const o=zt(e,["promptFeedback"]);null!=o&&qt(t,["promptFeedback"],o);const i=zt(e,["usageMetadata"]);return null!=i&&qt(t,["usageMetadata"],i),t}function ma(e){const t={},n=zt(e,["embeddings"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["values"]);return null!=n&&qt(t,["values"],n),t}(e))),qt(t,["embeddings"],e)}return null!=zt(e,["metadata"])&&qt(t,["metadata"],{}),t}function ga(e){const t={},n=zt(e,["safetyAttributes","categories"]);null!=n&&qt(t,["categories"],n);const r=zt(e,["safetyAttributes","scores"]);null!=r&&qt(t,["scores"],r);const o=zt(e,["contentType"]);return null!=o&&qt(t,["contentType"],o),t}function ya(e){const t={},n=zt(e,["_self"]);null!=n&&qt(t,["image"],function(e){const t={},n=zt(e,["bytesBase64Encoded"]);null!=n&&qt(t,["imageBytes"],yr(n));const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(n));const r=zt(e,["raiFilteredReason"]);null!=r&&qt(t,["raiFilteredReason"],r);const o=zt(e,["_self"]);return null!=o&&qt(t,["safetyAttributes"],ga(o)),t}function va(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["name"],n);const r=zt(e,["displayName"]);null!=r&&qt(t,["displayName"],r);const o=zt(e,["description"]);null!=o&&qt(t,["description"],o);const i=zt(e,["version"]);null!=i&&qt(t,["version"],i);const a=zt(e,["_self"]);null!=a&&qt(t,["tunedModelInfo"],function(e){const t={},n=zt(e,["baseModel"]);null!=n&&qt(t,["baseModel"],n);const r=zt(e,["createTime"]);null!=r&&qt(t,["createTime"],r);const o=zt(e,["updateTime"]);return null!=o&&qt(t,["updateTime"],o),t}(a));const l=zt(e,["inputTokenLimit"]);null!=l&&qt(t,["inputTokenLimit"],l);const s=zt(e,["outputTokenLimit"]);null!=s&&qt(t,["outputTokenLimit"],s);const u=zt(e,["supportedGenerationMethods"]);return null!=u&&qt(t,["supportedActions"],u),t}function ba(e){const t={},n=zt(e,["_self"]);return null!=n&&qt(t,["video"],function(e){const t={},n=zt(e,["video","uri"]);null!=n&&qt(t,["uri"],n);const r=zt(e,["video","encodedVideo"]);null!=r&&qt(t,["videoBytes"],yr(r));const o=zt(e,["encoding"]);return null!=o&&qt(t,["mimeType"],o),t}(n)),t}function xa(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["name"],n);const r=zt(e,["metadata"]);null!=r&&qt(t,["metadata"],r);const o=zt(e,["done"]);null!=o&&qt(t,["done"],o);const i=zt(e,["error"]);null!=i&&qt(t,["error"],i);const a=zt(e,["response","generateVideoResponse"]);return null!=a&&qt(t,["response"],function(e){const t={},n=zt(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ba(e))),qt(t,["generatedVideos"],e)}const r=zt(e,["raiMediaFilteredCount"]);null!=r&&qt(t,["raiMediaFilteredCount"],r);const o=zt(e,["raiMediaFilteredReasons"]);return null!=o&&qt(t,["raiMediaFilteredReasons"],o),t}(a)),t}function wa(e){const t={},n=zt(e,["videoMetadata"]);null!=n&&qt(t,["videoMetadata"],function(e){const t={},n=zt(e,["fps"]);null!=n&&qt(t,["fps"],n);const r=zt(e,["endOffset"]);null!=r&&qt(t,["endOffset"],r);const o=zt(e,["startOffset"]);return null!=o&&qt(t,["startOffset"],o),t}(n));const r=zt(e,["thought"]);null!=r&&qt(t,["thought"],r);const o=zt(e,["inlineData"]);null!=o&&qt(t,["inlineData"],function(e){const t={},n=zt(e,["displayName"]);null!=n&&qt(t,["displayName"],n);const r=zt(e,["data"]);null!=r&&qt(t,["data"],r);const o=zt(e,["mimeType"]);return null!=o&&qt(t,["mimeType"],o),t}(o));const i=zt(e,["fileData"]);null!=i&&qt(t,["fileData"],function(e){const t={},n=zt(e,["displayName"]);null!=n&&qt(t,["displayName"],n);const r=zt(e,["fileUri"]);null!=r&&qt(t,["fileUri"],r);const o=zt(e,["mimeType"]);return null!=o&&qt(t,["mimeType"],o),t}(i));const a=zt(e,["thoughtSignature"]);null!=a&&qt(t,["thoughtSignature"],a);const l=zt(e,["codeExecutionResult"]);null!=l&&qt(t,["codeExecutionResult"],l);const s=zt(e,["executableCode"]);null!=s&&qt(t,["executableCode"],s);const u=zt(e,["functionCall"]);null!=u&&qt(t,["functionCall"],u);const c=zt(e,["functionResponse"]);null!=c&&qt(t,["functionResponse"],c);const d=zt(e,["text"]);return null!=d&&qt(t,["text"],d),t}function _a(e){const t={},n=zt(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["retrievedUrl"]);null!=n&&qt(t,["retrievedUrl"],n);const r=zt(e,["urlRetrievalStatus"]);return null!=r&&qt(t,["urlRetrievalStatus"],r),t}(e))),qt(t,["urlMetadata"],e)}return t}function Sa(e){const t={},n=zt(e,["content"]);null!=n&&qt(t,["content"],function(e){const t={},n=zt(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>wa(e))),qt(t,["parts"],e)}const r=zt(e,["role"]);return null!=r&&qt(t,["role"],r),t}(n));const r=zt(e,["citationMetadata"]);null!=r&&qt(t,["citationMetadata"],function(e){const t={},n=zt(e,["citations"]);return null!=n&&qt(t,["citations"],n),t}(r));const o=zt(e,["finishMessage"]);null!=o&&qt(t,["finishMessage"],o);const i=zt(e,["finishReason"]);null!=i&&qt(t,["finishReason"],i);const a=zt(e,["urlContextMetadata"]);null!=a&&qt(t,["urlContextMetadata"],_a(a));const l=zt(e,["avgLogprobs"]);null!=l&&qt(t,["avgLogprobs"],l);const s=zt(e,["groundingMetadata"]);null!=s&&qt(t,["groundingMetadata"],s);const u=zt(e,["index"]);null!=u&&qt(t,["index"],u);const c=zt(e,["logprobsResult"]);null!=c&&qt(t,["logprobsResult"],c);const d=zt(e,["safetyRatings"]);return null!=d&&qt(t,["safetyRatings"],d),t}function Ca(e){const t={},n=zt(e,["candidates"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Sa(e))),qt(t,["candidates"],e)}const r=zt(e,["createTime"]);null!=r&&qt(t,["createTime"],r);const o=zt(e,["responseId"]);null!=o&&qt(t,["responseId"],o);const i=zt(e,["modelVersion"]);null!=i&&qt(t,["modelVersion"],i);const a=zt(e,["promptFeedback"]);null!=a&&qt(t,["promptFeedback"],a);const l=zt(e,["usageMetadata"]);return null!=l&&qt(t,["usageMetadata"],l),t}function Ea(e){const t={},n=zt(e,["values"]);null!=n&&qt(t,["values"],n);const r=zt(e,["statistics"]);return null!=r&&qt(t,["statistics"],function(e){const t={},n=zt(e,["truncated"]);null!=n&&qt(t,["truncated"],n);const r=zt(e,["token_count"]);return null!=r&&qt(t,["tokenCount"],r),t}(r)),t}function Ta(e){const t={},n=zt(e,["predictions[]","embeddings"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Ea(e))),qt(t,["embeddings"],e)}const r=zt(e,["metadata"]);return null!=r&&qt(t,["metadata"],function(e){const t={},n=zt(e,["billableCharacterCount"]);return null!=n&&qt(t,["billableCharacterCount"],n),t}(r)),t}function ka(e){const t={},n=zt(e,["safetyAttributes","categories"]);null!=n&&qt(t,["categories"],n);const r=zt(e,["safetyAttributes","scores"]);null!=r&&qt(t,["scores"],r);const o=zt(e,["contentType"]);return null!=o&&qt(t,["contentType"],o),t}function Na(e){const t={},n=zt(e,["_self"]);null!=n&&qt(t,["image"],function(e){const t={},n=zt(e,["gcsUri"]);null!=n&&qt(t,["gcsUri"],n);const r=zt(e,["bytesBase64Encoded"]);null!=r&&qt(t,["imageBytes"],yr(r));const o=zt(e,["mimeType"]);return null!=o&&qt(t,["mimeType"],o),t}(n));const r=zt(e,["raiFilteredReason"]);null!=r&&qt(t,["raiFilteredReason"],r);const o=zt(e,["_self"]);null!=o&&qt(t,["safetyAttributes"],ka(o));const i=zt(e,["prompt"]);return null!=i&&qt(t,["enhancedPrompt"],i),t}function Aa(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["name"],n);const r=zt(e,["displayName"]);null!=r&&qt(t,["displayName"],r);const o=zt(e,["description"]);null!=o&&qt(t,["description"],o);const i=zt(e,["versionId"]);null!=i&&qt(t,["version"],i);const a=zt(e,["deployedModels"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["endpoint"]);null!=n&&qt(t,["name"],n);const r=zt(e,["deployedModelId"]);return null!=r&&qt(t,["deployedModelId"],r),t}(e))),qt(t,["endpoints"],e)}const l=zt(e,["labels"]);null!=l&&qt(t,["labels"],l);const s=zt(e,["_self"]);null!=s&&qt(t,["tunedModelInfo"],function(e){const t={},n=zt(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&qt(t,["baseModel"],n);const r=zt(e,["createTime"]);null!=r&&qt(t,["createTime"],r);const o=zt(e,["updateTime"]);return null!=o&&qt(t,["updateTime"],o),t}(s));const u=zt(e,["defaultCheckpointId"]);null!=u&&qt(t,["defaultCheckpointId"],u);const c=zt(e,["checkpoints"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["checkpointId"]);null!=n&&qt(t,["checkpointId"],n);const r=zt(e,["epoch"]);null!=r&&qt(t,["epoch"],r);const o=zt(e,["step"]);return null!=o&&qt(t,["step"],o),t}(e))),qt(t,["checkpoints"],e)}return t}function Oa(e){const t={},n=zt(e,["_self"]);return null!=n&&qt(t,["video"],function(e){const t={},n=zt(e,["gcsUri"]);null!=n&&qt(t,["uri"],n);const r=zt(e,["bytesBase64Encoded"]);null!=r&&qt(t,["videoBytes"],yr(r));const o=zt(e,["mimeType"]);return null!=o&&qt(t,["mimeType"],o),t}(n)),t}function Ia(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["name"],n);const r=zt(e,["metadata"]);null!=r&&qt(t,["metadata"],r);const o=zt(e,["done"]);null!=o&&qt(t,["done"],o);const i=zt(e,["error"]);null!=i&&qt(t,["error"],i);const a=zt(e,["response"]);return null!=a&&qt(t,["response"],function(e){const t={},n=zt(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Oa(e))),qt(t,["generatedVideos"],e)}const r=zt(e,["raiMediaFilteredCount"]);null!=r&&qt(t,["raiMediaFilteredCount"],r);const o=zt(e,["raiMediaFilteredReasons"]);return null!=o&&qt(t,["raiMediaFilteredReasons"],o),t}(a)),t}const Pa="x-goog-api-client",Ra="google-genai-sdk/".concat("1.7.0"),ja=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Da{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?"https://".concat(this.clientOptions.location,"-aiplatform.googleapis.com/"):"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return"projects/".concat(this.clientOptions.project,"/locations/").concat(this.clientOptions.location)}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];n&&r.push(this.getBaseResourcePath()),""!==e&&r.push(e);return new URL("".concat(r.join("/")))}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[i,a]of Object.entries(e.queryParams))r.searchParams.append(i,String(a));let o={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(t))"object"===typeof o?n[r]=Object.assign(Object.assign({},n[r]),o):void 0!==o&&(n[r]=o);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);r.searchParams.has("alt")&&"sse"===r.searchParams.get("alt")||r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n){if(t&&t.timeout||n){const r=new AbortController,o=r.signal;t.timeout&&(null===t||void 0===t?void 0:t.timeout)>0&&setTimeout(()=>r.abort(),t.timeout),n&&n.addEventListener("abort",()=>{r.abort()}),e.signal=o}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return void console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let n={};if("string"===typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!==typeof t||null===t||Array.isArray(t))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");n=t}catch(i){return void console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.")}function r(e,t){const n=Object.assign({},e);for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const e=t[o],i=n[o];e&&"object"===typeof e&&!Array.isArray(e)&&i&&"object"===typeof i&&!Array.isArray(i)?n[o]=r(i,e):(i&&e&&typeof i!==typeof e&&console.warn('includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "'.concat(o,'". Original type: ').concat(typeof i,", New type: ").concat(typeof e,". Overwriting.")),n[o]=e)}return n}const o=r(n,t);e.body=JSON.stringify(o)}(e,t.extraBody),e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Ma(e),new An(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Ma(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){var t;return ko(this,arguments,function*(){const n=null===(t=null===e||void 0===e?void 0:e.body)||void 0===t?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";for(;;){const{done:i,value:a}=yield To(n.read());if(i){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const l=r.decode(a);try{const e=JSON.parse(l);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,o="got status: ".concat(n,". ").concat(JSON.stringify(e));if(r>=400&&r<600){throw new jo({message:o,status:r})}}}catch(o){if("ApiError"===o.name)throw o}t+=l;let s=t.match(ja);for(;s;){const n=s[1];try{const r=new Response(n,{headers:null===e||void 0===e?void 0:e.headers,status:null===e||void 0===e?void 0:e.status,statusText:null===e||void 0===e?void 0:e.statusText});yield yield To(new An(r)),t=t.slice(s[0].length),s=t.match(ja)}catch(o){throw new Error("exception parsing stream chunk ".concat(n,". ").concat(o))}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error("exception ".concat(e," sending request"))})}getDefaultHeaders(){const e={},t=Ra+" "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[Pa]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[n,r]of Object.entries(e.headers))t.append(n,r);e.timeout&&e.timeout>0&&t.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var n;const r={};null!=t&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name="files/".concat(r.name));const o=this.clientOptions.uploader,i=await o.stat(e);r.sizeBytes=String(i.size);const a=null!==(n=null===t||void 0===t?void 0:t.mimeType)&&void 0!==n?n:i.type;if(void 0===a||""===a)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;const l=await this.fetchUploadUrl(r,t);return o.upload(e,l,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t){var n;let r={};r=(null===t||void 0===t?void 0:t.httpOptions)?t.httpOptions:{apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(e.sizeBytes),"X-Goog-Upload-Header-Content-Type":"".concat(e.mimeType)}};const o={file:e},i=await this.request({path:Ft("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:r});if(!i||!(null===i||void 0===i?void 0:i.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const a=null===(n=null===i||void 0===i?void 0:i.headers)||void 0===n?void 0:n["x-goog-upload-url"];if(void 0===a)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return a}}async function Ma(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;r=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(r);if(n>=400&&n<600){throw new jo({message:o,status:n})}throw new Error(o)}}function La(e){for(const t of e){if(Fa(t))return!0;if("object"===typeof t&&"inputSchema"in t)return!0}return!1}function Ua(e){var t;const n=null!==(t=e[Pa])&&void 0!==t?t:"";e[Pa]=(n+" ".concat("mcp_used/unknown")).trimStart()}function Fa(e){return null!==e&&"object"===typeof e&&e instanceof za}function qa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return ko(this,arguments,function*(){let n,r=0;for(;r<t;){const t=yield To(e.listTools({cursor:n}));for(const e of t.tools)yield yield To(e),r++;if(!t.nextCursor)break;n=t.nextCursor}})}class za{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new za(e,t)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;const o={},i=[];for(const c of this.mcpClients)try{for(var a,l=!0,s=(t=void 0,No(qa(c)));!(e=(a=await s.next()).done);l=!0){r=a.value,l=!1;const e=r;i.push(e);const t=e.name;if(o[t])throw new Error("Duplicate function name ".concat(t," found in MCP tools. Please ensure function names are unique."));o[t]=c}}catch(u){t={error:u}}finally{try{l||e||!(n=s.return)||await n.call(s)}finally{if(t)throw t.error}}this.mcpTools=i,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],r=new Set;for(const o of e){const e=o.name;if(r.has(e))throw new Error("Duplicate function name ".concat(e," found in MCP tools. Please ensure function names are unique."));r.add(e);const i=_r(o,t);i.functionDeclarations&&n.push(...i.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const o=await e.callTool({name:n.name,arguments:n.args},void 0,r);t.push({functionResponse:{name:n.name,response:o.isError?{error:o}:o}})}return t}}class Va{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),i=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l="".concat(r,"/ws/google.ai.generativelanguage.").concat(o,".GenerativeService.BidiGenerateMusic?key=").concat(a);let s=()=>{};const u=new Promise(e=>{s=e}),c=e.callbacks,d=(this.apiClient,{onopen:function(){s({})},onmessage:e=>{!async function(e,t,n){const r=new Wn;let o;o=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data);const i=Ti(o);Object.assign(r,i),t(r)}(0,c.onmessage,e)},onerror:null!==(t=null===c||void 0===c?void 0:c.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===c||void 0===c?void 0:c.onclose)&&void 0!==n?n:function(e){}}),f=this.webSocketFactory.create(l,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(i),d);f.connect(),await u;const p=ui({setup:li({model:Kn(this.apiClient,e.model)})});return f.send(JSON.stringify(p)),new Ba(f,this.apiClient)}}class Ba{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=si(function(e){const t={},n=zt(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ii(e))),qt(t,["weightedPrompts"],e)}return t}(e));this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=ui(function(e){const t={},n=zt(e,["musicGenerationConfig"]);return null!=n&&qt(t,["musicGenerationConfig"],ai(n)),t}(e));this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t=ui({playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Nn.PLAY)}pause(){this.sendPlaybackControl(Nn.PAUSE)}stop(){this.sendPlaybackControl(Nn.STOP)}resetContext(){this.sendPlaybackControl(Nn.RESET_CONTEXT)}close(){this.conn.close()}}class Ga{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new Va(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,o,i,a;const l=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion();let u;const c=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&La(e.config.tools)&&Ua(c);const d=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(c);if(this.apiClient.isVertexAI())u="".concat(l,"/ws/google.cloud.aiplatform.").concat(s,".LlmBidiService/BidiGenerateContent"),await this.auth.addAuthHeaders(d);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null===e||void 0===e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),t="BidiGenerateContentConstrained",n="access_token"),u="".concat(l,"/ws/google.ai.generativelanguage.").concat(s,".GenerativeService.").concat(t,"?").concat(n,"=").concat(e)}let f=()=>{};const p=new Promise(e=>{f=e}),h=e.callbacks,m=this.apiClient,g={onopen:function(){var e;null===(e=null===h||void 0===h?void 0:h.onopen)||void 0===e||e.call(h),f({})},onmessage:e=>{!async function(e,t,n){const r=new Jn;let o;o=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const i=JSON.parse(o);if(e.isVertexAI()){const e=_i(i);Object.assign(r,e)}else{const e=wi(i);Object.assign(r,e)}t(r)}(m,h.onmessage,e)},onerror:null!==(t=null===h||void 0===h?void 0:h.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===h||void 0===h?void 0:h.onclose)&&void 0!==n?n:function(e){}},y=this.webSocketFactory.create(u,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),g);y.connect(),await p;let v=Kn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&v.startsWith("publishers/")){const e=this.apiClient.getProject(),t=this.apiClient.getLocation();v="projects/".concat(e,"/locations/").concat(t,"/")+v}let b={};this.apiClient.isVertexAI()&&void 0===(null===(r=e.config)||void 0===r?void 0:r.responseModalities)&&(void 0===e.config?e.config={responseModalities:[tn.AUDIO]}:e.config.responseModalities=[tn.AUDIO]),(null===(o=e.config)||void 0===o?void 0:o.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const x=null!==(a=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==a?a:[],w=[];for(const S of x)if(this.isCallableTool(S)){const e=S;w.push(await e.tool())}else w.push(S);w.length>0&&(e.config.tools=w);const _={model:v,config:e.config,callbacks:e.callbacks};return b=this.apiClient.isVertexAI()?function(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["setup","model"],Kn(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],ni(o,n)),n}(this.apiClient,_):function(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["setup","model"],Kn(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],ti(o,n)),n}(this.apiClient,_),delete b.config,y.send(JSON.stringify(b)),new Ja(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"===typeof e.callTool}}const Ha={turnComplete:!0};class Ja{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let r=[];try{r=ir(t.turns),r=e.isVertexAI()?r.map(e=>Hi(e)):r.map(e=>Ni(e))}catch(n){throw new Error('Failed to parse client content "turns", type: \''.concat(typeof t.turns,"'"))}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const r of n){if("object"!==typeof r||null===r||!("name"in r)||!("response"in r))throw new Error("Could not parse function response, type '".concat(typeof r,"'."));if(!e.isVertexAI()&&!("id"in r))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},Ha),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:oi(e)}:{realtimeInput:ri(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Wa(e){var t,n,r;if(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let o=!1;for(const a of null!==(n=null===e||void 0===e?void 0:e.tools)&&void 0!==n?n:[])if(Ka(a)){o=!0;break}if(!o)return!0;const i=null===(r=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===r?void 0:r.maximumRemoteCalls;return!!(i&&(i<0||!Number.isInteger(i))||0==i)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0)}function Ka(e){return"callTool"in e&&"function"===typeof e.callTool}function Za(e){var t;return!(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}class Ya extends Ut{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,r,o,i;const a=await this.processParamsForMcpUsage(e);if(!function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>Fa(e)))&&void 0!==r&&r}(e)||Wa(e.config))return await this.generateContentInternal(a);if(function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>!Fa(e)))&&void 0!==r&&r}(e))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let l,s;const u=ir(a.contents),c=null!==(r=null===(n=null===(t=a.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let d=0;for(;d<c&&(l=await this.generateContentInternal(a),l.functionCalls&&0!==l.functionCalls.length);){const t=l.candidates[0].content,n=[];for(const r of null!==(i=null===(o=e.config)||void 0===o?void 0:o.tools)&&void 0!==i?i:[])if(Ka(r)){const e=r,t=await e.callTool(l.functionCalls);n.push(...t)}d++,s={role:"user",parts:n},a.contents=ir(a.contents),a.contents.push(t),a.contents.push(s),Za(a.config)&&(u.push(t),u.push(s))}return Za(a.config)&&(l.automaticFunctionCallingHistory=u),l},this.generateContentStream=async e=>{if(Wa(e.config)){const t=await this.processParamsForMcpUsage(e);return await this.generateContentStreamInternal(t)}return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const r=[];if(null===e||void 0===e?void 0:e.generatedImages)for(const i of e.generatedImages)i&&(null===i||void 0===i?void 0:i.safetyAttributes)&&"Positive Prompt"===(null===(t=null===i||void 0===i?void 0:i.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null===i||void 0===i?void 0:i.safetyAttributes:r.push(i);let o;return o=n?{generatedImages:r,positivePromptSafetyAttributes:n}:{generatedImages:r},o}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null===e||void 0===e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new Qr($r.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)}}async processParamsForMcpUsage(e){var t,n,r;const o=null===(t=e.config)||void 0===t?void 0:t.tools;if(!o)return e;const i=await Promise.all(o.map(async e=>{if(Ka(e)){const t=e;return await t.tool()}return e})),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(a.config.tools=i,e.config&&e.config.tools&&La(e.config.tools)){const t=null!==(r=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==r?r:{};let o=Object.assign({},t);0===Object.keys(o).length&&(o=this.apiClient.getDefaultHeaders()),Ua(o),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:o})}return a}async initAfcToolsMap(e){var t,n,r;const o=new Map;for(const i of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(Ka(i)){const e=i,t=await e.tool();for(const n of null!==(r=t.functionDeclarations)&&void 0!==r?r:[]){if(!n.name)throw new Error("Function declaration name is required.");if(o.has(n.name))throw new Error("Duplicate tool declaration name: ".concat(n.name));o.set(n.name,e)}}return o}async processAfcStream(e){var t,n,r;const o=null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let i=!1,a=0;return function(e,t,n){var r,l;return ko(this,arguments,function*(){for(var s,u,c,d;a<o;){i&&(a++,i=!1);const g=yield To(e.processParamsForMcpUsage(n)),y=yield To(e.generateContentStreamInternal(g)),v=[],b=[];try{for(var f,p=!0,h=(u=void 0,No(y));!(s=(f=yield To(h.next())).done);p=!0){d=f.value,p=!1;const e=d;if(yield yield To(e),e.candidates&&(null===(r=e.candidates[0])||void 0===r?void 0:r.content)){b.push(e.candidates[0].content);for(const n of null!==(l=e.candidates[0].content.parts)&&void 0!==l?l:[])if(a<o&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error("Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ".concat(t.keys(),", mising tool: ").concat(n.functionCall.name));{const e=yield To(t.get(n.functionCall.name).callTool([n.functionCall]));v.push(...e)}}}}}catch(m){u={error:m}}finally{try{p||s||!(c=h.return)||(yield To(c.call(h)))}finally{if(u)throw u.error}}if(!(v.length>0))break;{i=!0;const e=new On;e.candidates=[{content:{role:"user",parts:v}}],yield yield To(e);const t=[];t.push(...b),t.push({role:"user",parts:v});const r=ir(n.contents).concat(t);n.contents=r}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=ea(this.apiClient,e);return a=Ft("{model}:generateContent",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=Ca(e),n=new On;return Object.assign(n,t),n})}{const t=Li(this.apiClient,e);return a=Ft("{model}:generateContent",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>{const t=ha(e),n=new On;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=ea(this.apiClient,e);a=Ft("{model}:streamGenerateContent?alt=sse",r._url),l=r._query,delete r.config,delete r._url,delete r._query;return i=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),i.then(function(e){return ko(this,arguments,function*(){var t,n,r,o;try{for(var i,a=!0,l=No(e);!(t=(i=yield To(l.next())).done);a=!0){o=i.value,a=!1;const e=o,t=Ca(yield To(e.json())),n=new On;Object.assign(n,t),yield yield To(n)}}catch(s){n={error:s}}finally{try{a||t||!(r=l.return)||(yield To(r.call(l)))}finally{if(n)throw n.error}}})})}{const t=Li(this.apiClient,e);a=Ft("{model}:streamGenerateContent?alt=sse",t._url),l=t._query,delete t.config,delete t._url,delete t._query;return i=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}),i.then(function(e){return ko(this,arguments,function*(){var t,n,r,o;try{for(var i,a=!0,l=No(e);!(t=(i=yield To(l.next())).done);a=!0){o=i.value,a=!1;const e=o,t=ha(yield To(e.json())),n=new On;Object.assign(n,t),yield yield To(n)}}catch(s){n={error:s}}finally{try{a||t||!(r=l.return)||(yield To(r.call(l)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=ta(this.apiClient,e);return a=Ft("{model}:predict",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=Ta(e),n=new In;return Object.assign(n,t),n})}{const t=Ui(this.apiClient,e);return a=Ft("{model}:batchEmbedContents",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>{const t=ma(e),n=new In;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=na(this.apiClient,e);return a=Ft("{model}:predict",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=zt(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Na(e))),qt(t,["generatedImages"],e)}const r=zt(e,["positivePromptSafetyAttributes"]);return null!=r&&qt(t,["positivePromptSafetyAttributes"],ka(r)),t}(e),n=new Pn;return Object.assign(n,t),n})}{const t=Fi(this.apiClient,e);return a=Ft("{model}:predict",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=zt(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ya(e))),qt(t,["generatedImages"],e)}const r=zt(e,["positivePromptSafetyAttributes"]);return null!=r&&qt(t,["positivePromptSafetyAttributes"],ga(r)),t}(e),n=new Pn;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const a=ia(this.apiClient,e);return o=Ft("{model}:predict",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=zt(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Na(e))),qt(t,["generatedImages"],e)}return t}(e),n=new Rn;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const a=aa(this.apiClient,e);return o=Ft("{model}:predict",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=zt(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Na(e))),qt(t,["generatedImages"],e)}return t}(e),n=new jn;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","name"],Kn(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],o),n}(this.apiClient,e);return a=Ft("{name}",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Aa(e))}{const t=function(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","name"],Kn(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],o),n}(this.apiClient,e);return a=Ft("{name}",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>va(e))}}async listInternal(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=la(this.apiClient,e);return a=Ft("{models_url}",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e,t){const n={},r=zt(t,["nextPageToken"]);null!=r&&qt(n,["nextPageToken"],r);const o=zt(t,["_self"]);if(null!=o){let e=xr(o);Array.isArray(e)&&(e=e.map(e=>Aa(e))),qt(n,["models"],e)}return n}(this.apiClient,e),n=new Dn;return Object.assign(n,t),n})}{const t=qi(this.apiClient,e);return a=Ft("{models_url}",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e,t){const n={},r=zt(t,["nextPageToken"]);null!=r&&qt(n,["nextPageToken"],r);const o=zt(t,["_self"]);if(null!=o){let e=xr(o);Array.isArray(e)&&(e=e.map(e=>va(e))),qt(n,["models"],e)}return n}(this.apiClient,e),n=new Dn;return Object.assign(n,t),n})}}async update(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=sa(this.apiClient,e);return a=Ft("{model}",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Aa(e))}{const t=zi(this.apiClient,e);return a=Ft("{name}",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>va(e))}}async delete(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","name"],Kn(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],o),n}(this.apiClient,e);return a=Ft("{name}",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(()=>{const e={},t=new Mn;return Object.assign(t,e),t})}{const t=function(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","name"],Kn(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],o),n}(this.apiClient,e);return a=Ft("{name}",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(()=>{const e={},t=new Mn;return Object.assign(t,e),t})}}async countTokens(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=ua(this.apiClient,e);return a=Ft("{model}:countTokens",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=zt(e,["totalTokens"]);return null!=n&&qt(t,["totalTokens"],n),t}(e),n=new Ln;return Object.assign(n,t),n})}{const t=Vi(this.apiClient,e);return a=Ft("{model}:countTokens",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=zt(e,["totalTokens"]);null!=n&&qt(t,["totalTokens"],n);const r=zt(e,["cachedContentTokenCount"]);return null!=r&&qt(t,["cachedContentTokenCount"],r),t}(e),n=new Ln;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["_url","model"],Kn(e,r));const o=zt(t,["contents"]);if(null!=o){let e=ir(o);Array.isArray(e)&&(e=e.map(e=>Hi(e))),qt(n,["contents"],e)}const i=zt(t,["config"]);return null!=i&&qt(n,["config"],i),n}(this.apiClient,e);return o=Ft("{model}:computeTokens",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=zt(e,["tokensInfo"]);return null!=n&&qt(t,["tokensInfo"],n),t}(e),n=new Un;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=ca(this.apiClient,e);return a=Ft("{model}:predictLongRunning",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Ia(e))}{const t=Bi(this.apiClient,e);return a=Ft("{model}:predictLongRunning",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>xa(e))}}}function $a(e){const t={},n=zt(e,["_self"]);return null!=n&&qt(t,["video"],function(e){const t={},n=zt(e,["video","uri"]);null!=n&&qt(t,["uri"],n);const r=zt(e,["video","encodedVideo"]);null!=r&&qt(t,["videoBytes"],yr(r));const o=zt(e,["encoding"]);return null!=o&&qt(t,["mimeType"],o),t}(n)),t}function Qa(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["name"],n);const r=zt(e,["metadata"]);null!=r&&qt(t,["metadata"],r);const o=zt(e,["done"]);null!=o&&qt(t,["done"],o);const i=zt(e,["error"]);null!=i&&qt(t,["error"],i);const a=zt(e,["response","generateVideoResponse"]);return null!=a&&qt(t,["response"],function(e){const t={},n=zt(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>$a(e))),qt(t,["generatedVideos"],e)}const r=zt(e,["raiMediaFilteredCount"]);null!=r&&qt(t,["raiMediaFilteredCount"],r);const o=zt(e,["raiMediaFilteredReasons"]);return null!=o&&qt(t,["raiMediaFilteredReasons"],o),t}(a)),t}function Xa(e){const t={},n=zt(e,["_self"]);return null!=n&&qt(t,["video"],function(e){const t={},n=zt(e,["gcsUri"]);null!=n&&qt(t,["uri"],n);const r=zt(e,["bytesBase64Encoded"]);null!=r&&qt(t,["videoBytes"],yr(r));const o=zt(e,["mimeType"]);return null!=o&&qt(t,["mimeType"],o),t}(n)),t}function el(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["name"],n);const r=zt(e,["metadata"]);null!=r&&qt(t,["metadata"],r);const o=zt(e,["done"]);null!=o&&qt(t,["done"],o);const i=zt(e,["error"]);null!=i&&qt(t,["error"],i);const a=zt(e,["response"]);return null!=a&&qt(t,["response"],function(e){const t={},n=zt(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Xa(e))),qt(t,["generatedVideos"],e)}const r=zt(e,["raiMediaFilteredCount"]);null!=r&&qt(t,["raiMediaFilteredCount"],r);const o=zt(e,["raiMediaFilteredReasons"]);return null!=o&&qt(t,["raiMediaFilteredReasons"],o),t}(a)),t}class tl extends Ut{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;return n&&"httpOptions"in n&&(r=n.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}})}return this.getVideosOperationInternal({operationName:t.name,config:n})}async getVideosOperationInternal(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=zt(e,["operationName"]);null!=n&&qt(t,["_url","operationName"],n);const r=zt(e,["config"]);return null!=r&&qt(t,["config"],r),t}(e);return a=Ft("{operationName}",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>el(e))}{const t=function(e){const t={},n=zt(e,["operationName"]);null!=n&&qt(t,["_url","operationName"],n);const r=zt(e,["config"]);return null!=r&&qt(t,["config"],r),t}(e);return a=Ft("{operationName}",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>Qa(e))}}async fetchPredictVideosOperationInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const a=function(e){const t={},n=zt(e,["operationName"]);null!=n&&qt(t,["operationName"],n);const r=zt(e,["resourceName"]);null!=r&&qt(t,["_url","resourceName"],r);const o=zt(e,["config"]);return null!=o&&qt(t,["config"],o),t}(e);return o=Ft("{resourceName}:fetchPredictOperation",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>el(e))}throw new Error("This method is only supported by the Vertex AI.")}}function nl(e){const t={},n=zt(e,["prebuiltVoiceConfig"]);return null!=n&&qt(t,["prebuiltVoiceConfig"],function(e){const t={},n=zt(e,["voiceName"]);return null!=n&&qt(t,["voiceName"],n),t}(n)),t}function rl(e){const t={},n=zt(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["speaker"]);null!=n&&qt(t,["speaker"],n);const r=zt(e,["voiceConfig"]);return null!=r&&qt(t,["voiceConfig"],nl(r)),t}(e))),qt(t,["speakerVoiceConfigs"],e)}return t}function ol(e){const t={},n=zt(e,["videoMetadata"]);null!=n&&qt(t,["videoMetadata"],function(e){const t={},n=zt(e,["fps"]);null!=n&&qt(t,["fps"],n);const r=zt(e,["endOffset"]);null!=r&&qt(t,["endOffset"],r);const o=zt(e,["startOffset"]);return null!=o&&qt(t,["startOffset"],o),t}(n));const r=zt(e,["thought"]);null!=r&&qt(t,["thought"],r);const o=zt(e,["inlineData"]);null!=o&&qt(t,["inlineData"],function(e){const t={};if(void 0!==zt(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=zt(e,["data"]);null!=n&&qt(t,["data"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(o));const i=zt(e,["fileData"]);null!=i&&qt(t,["fileData"],function(e){const t={};if(void 0!==zt(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=zt(e,["fileUri"]);null!=n&&qt(t,["fileUri"],n);const r=zt(e,["mimeType"]);return null!=r&&qt(t,["mimeType"],r),t}(i));const a=zt(e,["thoughtSignature"]);null!=a&&qt(t,["thoughtSignature"],a);const l=zt(e,["codeExecutionResult"]);null!=l&&qt(t,["codeExecutionResult"],l);const s=zt(e,["executableCode"]);null!=s&&qt(t,["executableCode"],s);const u=zt(e,["functionCall"]);null!=u&&qt(t,["functionCall"],u);const c=zt(e,["functionResponse"]);null!=c&&qt(t,["functionResponse"],c);const d=zt(e,["text"]);return null!=d&&qt(t,["text"],d),t}function il(e){const t={},n=zt(e,["timeRangeFilter"]);return null!=n&&qt(t,["timeRangeFilter"],function(e){const t={},n=zt(e,["startTime"]);null!=n&&qt(t,["startTime"],n);const r=zt(e,["endTime"]);return null!=r&&qt(t,["endTime"],r),t}(n)),t}function al(e){const t={},n=zt(e,["dynamicRetrievalConfig"]);return null!=n&&qt(t,["dynamicRetrievalConfig"],function(e){const t={},n=zt(e,["mode"]);null!=n&&qt(t,["mode"],n);const r=zt(e,["dynamicThreshold"]);return null!=r&&qt(t,["dynamicThreshold"],r),t}(n)),t}function ll(e){const t={},n=zt(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["behavior"]);null!=n&&qt(t,["behavior"],n);const r=zt(e,["description"]);null!=r&&qt(t,["description"],r);const o=zt(e,["name"]);null!=o&&qt(t,["name"],o);const i=zt(e,["parameters"]);null!=i&&qt(t,["parameters"],i);const a=zt(e,["parametersJsonSchema"]);null!=a&&qt(t,["parametersJsonSchema"],a);const l=zt(e,["response"]);null!=l&&qt(t,["response"],l);const s=zt(e,["responseJsonSchema"]);return null!=s&&qt(t,["responseJsonSchema"],s),t}(e))),qt(t,["functionDeclarations"],e)}if(void 0!==zt(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=zt(e,["googleSearch"]);null!=r&&qt(t,["googleSearch"],il(r));const o=zt(e,["googleSearchRetrieval"]);if(null!=o&&qt(t,["googleSearchRetrieval"],al(o)),void 0!==zt(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==zt(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=zt(e,["urlContext"])&&qt(t,["urlContext"],{});const i=zt(e,["codeExecution"]);return null!=i&&qt(t,["codeExecution"],i),t}function sl(e){const t={},n=zt(e,["automaticActivityDetection"]);null!=n&&qt(t,["automaticActivityDetection"],function(e){const t={},n=zt(e,["disabled"]);null!=n&&qt(t,["disabled"],n);const r=zt(e,["startOfSpeechSensitivity"]);null!=r&&qt(t,["startOfSpeechSensitivity"],r);const o=zt(e,["endOfSpeechSensitivity"]);null!=o&&qt(t,["endOfSpeechSensitivity"],o);const i=zt(e,["prefixPaddingMs"]);null!=i&&qt(t,["prefixPaddingMs"],i);const a=zt(e,["silenceDurationMs"]);return null!=a&&qt(t,["silenceDurationMs"],a),t}(n));const r=zt(e,["activityHandling"]);null!=r&&qt(t,["activityHandling"],r);const o=zt(e,["turnCoverage"]);return null!=o&&qt(t,["turnCoverage"],o),t}function ul(e){const t={},n=zt(e,["triggerTokens"]);null!=n&&qt(t,["triggerTokens"],n);const r=zt(e,["slidingWindow"]);return null!=r&&qt(t,["slidingWindow"],function(e){const t={},n=zt(e,["targetTokens"]);return null!=n&&qt(t,["targetTokens"],n),t}(r)),t}function cl(e,t){const n=zt(e,["generationConfig"]);void 0!==t&&null!=n&&qt(t,["setup","generationConfig"],n);const r=zt(e,["responseModalities"]);void 0!==t&&null!=r&&qt(t,["setup","generationConfig","responseModalities"],r);const o=zt(e,["temperature"]);void 0!==t&&null!=o&&qt(t,["setup","generationConfig","temperature"],o);const i=zt(e,["topP"]);void 0!==t&&null!=i&&qt(t,["setup","generationConfig","topP"],i);const a=zt(e,["topK"]);void 0!==t&&null!=a&&qt(t,["setup","generationConfig","topK"],a);const l=zt(e,["maxOutputTokens"]);void 0!==t&&null!=l&&qt(t,["setup","generationConfig","maxOutputTokens"],l);const s=zt(e,["mediaResolution"]);void 0!==t&&null!=s&&qt(t,["setup","generationConfig","mediaResolution"],s);const u=zt(e,["seed"]);void 0!==t&&null!=u&&qt(t,["setup","generationConfig","seed"],u);const c=zt(e,["speechConfig"]);void 0!==t&&null!=c&&qt(t,["setup","generationConfig","speechConfig"],function(e){const t={},n=zt(e,["voiceConfig"]);null!=n&&qt(t,["voiceConfig"],nl(n));const r=zt(e,["multiSpeakerVoiceConfig"]);null!=r&&qt(t,["multiSpeakerVoiceConfig"],rl(r));const o=zt(e,["languageCode"]);return null!=o&&qt(t,["languageCode"],o),t}(fr(c)));const d=zt(e,["enableAffectiveDialog"]);void 0!==t&&null!=d&&qt(t,["setup","generationConfig","enableAffectiveDialog"],d);const f=zt(e,["systemInstruction"]);void 0!==t&&null!=f&&qt(t,["setup","systemInstruction"],function(e){const t={},n=zt(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ol(e))),qt(t,["parts"],e)}const r=zt(e,["role"]);return null!=r&&qt(t,["role"],r),t}(rr(f)));const p=zt(e,["tools"]);if(void 0!==t&&null!=p){let e=hr(p);Array.isArray(e)&&(e=e.map(e=>ll(pr(e)))),qt(t,["setup","tools"],e)}const h=zt(e,["sessionResumption"]);void 0!==t&&null!=h&&qt(t,["setup","sessionResumption"],function(e){const t={},n=zt(e,["handle"]);if(null!=n&&qt(t,["handle"],n),void 0!==zt(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(h));const m=zt(e,["inputAudioTranscription"]);void 0!==t&&null!=m&&qt(t,["setup","inputAudioTranscription"],{});const g=zt(e,["outputAudioTranscription"]);void 0!==t&&null!=g&&qt(t,["setup","outputAudioTranscription"],{});const y=zt(e,["realtimeInputConfig"]);void 0!==t&&null!=y&&qt(t,["setup","realtimeInputConfig"],sl(y));const v=zt(e,["contextWindowCompression"]);void 0!==t&&null!=v&&qt(t,["setup","contextWindowCompression"],ul(v));const b=zt(e,["proactivity"]);return void 0!==t&&null!=b&&qt(t,["setup","proactivity"],function(e){const t={},n=zt(e,["proactiveAudio"]);return null!=n&&qt(t,["proactiveAudio"],n),t}(b)),{}}function dl(e,t,n){const r=zt(t,["expireTime"]);void 0!==n&&null!=r&&qt(n,["expireTime"],r);const o=zt(t,["newSessionExpireTime"]);void 0!==n&&null!=o&&qt(n,["newSessionExpireTime"],o);const i=zt(t,["uses"]);void 0!==n&&null!=i&&qt(n,["uses"],i);const a=zt(t,["liveConnectConstraints"]);void 0!==n&&null!=a&&qt(n,["bidiGenerateContentSetup"],function(e,t){const n={},r=zt(t,["model"]);null!=r&&qt(n,["setup","model"],Kn(e,r));const o=zt(t,["config"]);return null!=o&&qt(n,["config"],cl(o,n)),n}(e,a));const l=zt(t,["lockAdditionalFields"]);return void 0!==n&&null!=l&&qt(n,["fieldMask"],l),{}}function fl(e,t){let n=null;const r=e.bidiGenerateContentSetup;if("object"===typeof r&&null!==r&&"setup"in r){const t=r.setup;"object"===typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==r&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const r=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if("object"===typeof r&&null!=r&&Object.keys(r).length>0){const e=Object.keys(r).map(e=>"".concat(n,".").concat(e));t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null===t||void 0===t?void 0:t.lockAdditionalFields)&&0===(null===t||void 0===t?void 0:t.lockAdditionalFields.length))r?e.fieldMask=r:delete e.fieldMask;else if((null===t||void 0===t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==o&&Array.isArray(o)&&o.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];o.length>0&&(n=o.map(e=>t.includes(e)?"generationConfig.".concat(e):e));const i=[];r&&i.push(r),n.length>0&&i.push(...n),i.length>0?e.fieldMask=i.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==o&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class pl extends Ut{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=function(e,t){const n={},r=zt(t,["config"]);return null!=r&&qt(n,["config"],dl(e,r,n)),n}(this.apiClient,e);o=Ft("auth_tokens",a._url),i=a._query,delete a.config,delete a._url,delete a._query;const l=fl(a,e.config);return r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>function(e){const t={},n=zt(e,["name"]);return null!=n&&qt(t,["name"],n),t}(e))}}}function hl(e){const t={},n=zt(e,["config"]);return null!=n&&qt(t,["config"],function(e,t){const n=zt(e,["pageSize"]);void 0!==t&&null!=n&&qt(t,["_query","pageSize"],n);const r=zt(e,["pageToken"]);void 0!==t&&null!=r&&qt(t,["_query","pageToken"],r);const o=zt(e,["filter"]);return void 0!==t&&null!=o&&qt(t,["_query","filter"],o),{}}(n,t)),t}function ml(e){const t={};if(void 0!==zt(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=zt(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["textInput"]);null!=n&&qt(t,["textInput"],n);const r=zt(e,["output"]);return null!=r&&qt(t,["output"],r),t}(e))),qt(t,["examples","examples"],e)}return t}function gl(e){const t={},n=zt(e,["baseModel"]);null!=n&&qt(t,["baseModel"],n);const r=zt(e,["trainingDataset"]);null!=r&&qt(t,["tuningTask","trainingData"],ml(r));const o=zt(e,["config"]);return null!=o&&qt(t,["config"],function(e,t){const n={};if(void 0!==zt(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const r=zt(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=r&&qt(t,["displayName"],r),void 0!==zt(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const o=zt(e,["epochCount"]);void 0!==t&&null!=o&&qt(t,["tuningTask","hyperparameters","epochCount"],o);const i=zt(e,["learningRateMultiplier"]);if(null!=i&&qt(n,["tuningTask","hyperparameters","learningRateMultiplier"],i),void 0!==zt(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==zt(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const a=zt(e,["batchSize"]);void 0!==t&&null!=a&&qt(t,["tuningTask","hyperparameters","batchSize"],a);const l=zt(e,["learningRate"]);return void 0!==t&&null!=l&&qt(t,["tuningTask","hyperparameters","learningRate"],l),n}(o,t)),t}function yl(e){const t={},n=zt(e,["config"]);return null!=n&&qt(t,["config"],function(e,t){const n=zt(e,["pageSize"]);void 0!==t&&null!=n&&qt(t,["_query","pageSize"],n);const r=zt(e,["pageToken"]);void 0!==t&&null!=r&&qt(t,["_query","pageToken"],r);const o=zt(e,["filter"]);return void 0!==t&&null!=o&&qt(t,["_query","filter"],o),{}}(n,t)),t}function vl(e,t){const n=zt(e,["validationDataset"]);void 0!==t&&null!=n&&qt(t,["supervisedTuningSpec"],function(e){const t={},n=zt(e,["gcsUri"]);return null!=n&&qt(t,["validationDatasetUri"],n),t}(n));const r=zt(e,["tunedModelDisplayName"]);void 0!==t&&null!=r&&qt(t,["tunedModelDisplayName"],r);const o=zt(e,["description"]);void 0!==t&&null!=o&&qt(t,["description"],o);const i=zt(e,["epochCount"]);void 0!==t&&null!=i&&qt(t,["supervisedTuningSpec","hyperParameters","epochCount"],i);const a=zt(e,["learningRateMultiplier"]);void 0!==t&&null!=a&&qt(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],a);const l=zt(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=l&&qt(t,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const s=zt(e,["adapterSize"]);if(void 0!==t&&null!=s&&qt(t,["supervisedTuningSpec","hyperParameters","adapterSize"],s),void 0!==zt(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==zt(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");return{}}function bl(e){const t={},n=zt(e,["baseModel"]);null!=n&&qt(t,["baseModel"],n);const r=zt(e,["trainingDataset"]);null!=r&&qt(t,["supervisedTuningSpec","trainingDatasetUri"],function(e,t){const n=zt(e,["gcsUri"]);if(void 0!==t&&null!=n&&qt(t,["supervisedTuningSpec","trainingDatasetUri"],n),void 0!==zt(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.");return{}}(r,t));const o=zt(e,["config"]);return null!=o&&qt(t,["config"],vl(o,t)),t}function xl(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["name"],n);const r=zt(e,["state"]);null!=r&&qt(t,["state"],gr(r));const o=zt(e,["createTime"]);null!=o&&qt(t,["createTime"],o);const i=zt(e,["tuningTask","startTime"]);null!=i&&qt(t,["startTime"],i);const a=zt(e,["tuningTask","completeTime"]);null!=a&&qt(t,["endTime"],a);const l=zt(e,["updateTime"]);null!=l&&qt(t,["updateTime"],l);const s=zt(e,["description"]);null!=s&&qt(t,["description"],s);const u=zt(e,["baseModel"]);null!=u&&qt(t,["baseModel"],u);const c=zt(e,["_self"]);null!=c&&qt(t,["tunedModel"],function(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["model"],n);const r=zt(e,["name"]);return null!=r&&qt(t,["endpoint"],r),t}(c));const d=zt(e,["distillationSpec"]);null!=d&&qt(t,["distillationSpec"],d);const f=zt(e,["experiment"]);null!=f&&qt(t,["experiment"],f);const p=zt(e,["labels"]);null!=p&&qt(t,["labels"],p);const h=zt(e,["pipelineJob"]);null!=h&&qt(t,["pipelineJob"],h);const m=zt(e,["serviceAccount"]);null!=m&&qt(t,["serviceAccount"],m);const g=zt(e,["tunedModelDisplayName"]);return null!=g&&qt(t,["tunedModelDisplayName"],g),t}function wl(e){const t={},n=zt(e,["model"]);null!=n&&qt(t,["model"],n);const r=zt(e,["endpoint"]);null!=r&&qt(t,["endpoint"],r);const o=zt(e,["checkpoints"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zt(e,["checkpointId"]);null!=n&&qt(t,["checkpointId"],n);const r=zt(e,["epoch"]);null!=r&&qt(t,["epoch"],r);const o=zt(e,["step"]);null!=o&&qt(t,["step"],o);const i=zt(e,["endpoint"]);return null!=i&&qt(t,["endpoint"],i),t}(e))),qt(t,["checkpoints"],e)}return t}function _l(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["name"],n);const r=zt(e,["state"]);null!=r&&qt(t,["state"],gr(r));const o=zt(e,["createTime"]);null!=o&&qt(t,["createTime"],o);const i=zt(e,["startTime"]);null!=i&&qt(t,["startTime"],i);const a=zt(e,["endTime"]);null!=a&&qt(t,["endTime"],a);const l=zt(e,["updateTime"]);null!=l&&qt(t,["updateTime"],l);const s=zt(e,["error"]);null!=s&&qt(t,["error"],s);const u=zt(e,["description"]);null!=u&&qt(t,["description"],u);const c=zt(e,["baseModel"]);null!=c&&qt(t,["baseModel"],c);const d=zt(e,["tunedModel"]);null!=d&&qt(t,["tunedModel"],wl(d));const f=zt(e,["supervisedTuningSpec"]);null!=f&&qt(t,["supervisedTuningSpec"],f);const p=zt(e,["tuningDataStats"]);null!=p&&qt(t,["tuningDataStats"],p);const h=zt(e,["encryptionSpec"]);null!=h&&qt(t,["encryptionSpec"],h);const m=zt(e,["partnerModelTuningSpec"]);null!=m&&qt(t,["partnerModelTuningSpec"],m);const g=zt(e,["distillationSpec"]);null!=g&&qt(t,["distillationSpec"],g);const y=zt(e,["experiment"]);null!=y&&qt(t,["experiment"],y);const v=zt(e,["labels"]);null!=v&&qt(t,["labels"],v);const b=zt(e,["pipelineJob"]);null!=b&&qt(t,["pipelineJob"],b);const x=zt(e,["serviceAccount"]);null!=x&&qt(t,["serviceAccount"],x);const w=zt(e,["tunedModelDisplayName"]);return null!=w&&qt(t,["tunedModelDisplayName"],w),t}class Sl extends Ut{constructor(e){var t;super(),t=this,this.apiClient=e,this.get=async e=>await this.getInternal(e),this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Qr($r.PAGED_ITEM_TUNING_JOBS,e=>t.listInternal(e),await t.listInternal(e),e)},this.tune=async e=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(e);{const t=await this.tuneMldevInternal(e);let n="";void 0!==t.metadata&&void 0!==t.metadata.tunedModel?n=t.metadata.tunedModel:void 0!==t.name&&t.name.includes("/operations/")&&(n=t.name.split("/operations/")[0]);return{name:n,state:rn.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["_url","name"],n);const r=zt(e,["config"]);return null!=r&&qt(t,["config"],r),t}(e);return a=Ft("{name}",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>_l(e))}{const t=function(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["_url","name"],n);const r=zt(e,["config"]);return null!=r&&qt(t,["config"],r),t}(e);return a=Ft("{name}",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>xl(e))}}async listInternal(e){var t,n,r,o;let i,a="",l={};if(this.apiClient.isVertexAI()){const r=yl(e);return a=Ft("tuningJobs",r._url),l=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=zt(e,["nextPageToken"]);null!=n&&qt(t,["nextPageToken"],n);const r=zt(e,["tuningJobs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>_l(e))),qt(t,["tuningJobs"],e)}return t}(e),n=new Fn;return Object.assign(n,t),n})}{const t=hl(e);return a=Ft("tunedModels",t._url),l=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=zt(e,["nextPageToken"]);null!=n&&qt(t,["nextPageToken"],n);const r=zt(e,["tunedModels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>xl(e))),qt(t,["tuningJobs"],e)}return t}(e),n=new Fn;return Object.assign(n,t),n})}}async tuneInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const a=bl(e);return o=Ft("tuningJobs",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>_l(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gl(e);return o=Ft("tunedModels",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>function(e){const t={},n=zt(e,["name"]);null!=n&&qt(t,["name"],n);const r=zt(e,["metadata"]);null!=r&&qt(t,["metadata"],r);const o=zt(e,["done"]);null!=o&&qt(t,["done"],o);const i=zt(e,["error"]);return null!=i&&qt(t,["error"],i),t}(e))}}}class Cl{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const El="x-goog-upload-status";function Tl(e){return new Promise(t=>setTimeout(t,e))}class kl{async upload(e,t,n){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r,o,i;let a=0,l=0,s=new An(new Response),u="upload";for(a=e.size;l<a;){const i=Math.min(8388608,a-l),c=e.slice(l,l+i);l+i>=a&&(u+=", finalize");let d=0,f=1e3;for(;d<3&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(l),"Content-Length":String(i)}}}),!(null===(r=null===s||void 0===s?void 0:s.headers)||void 0===r?void 0:r[El]));)d++,await Tl(f),f*=2;if(l+=i,"active"!==(null===(o=null===s||void 0===s?void 0:s.headers)||void 0===o?void 0:o[El]))break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(null===s||void 0===s?void 0:s.json());if("final"!==(null===(i=null===s||void 0===s?void 0:s.headers)||void 0===i?void 0:i[El]))throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}(e,t,n)}async stat(e){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}class Nl{create(e,t,n){return new Al(e,t,n)}}class Al{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}const Ol="x-goog-api-key";class Il{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(null===e.get(Ol)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ol,this.apiKey)}}}class Pl{constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=Lt(e,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const r=new Il(this.apiKey);this.apiClient=new Da({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:"gl-node/web",uploader:new kl,downloader:new Cl}),this.models=new Ya(this.apiClient),this.live=new Ga(this.apiClient,r,new Nl),this.batches=new Xr(this.apiClient),this.chats=new Po(this.models,this.apiClient),this.caches=new Co(this.apiClient),this.files=new Uo(this.apiClient),this.operations=new tl(this.apiClient),this.authTokens=new pl(this.apiClient),this.tunings=new Sl(this.apiClient)}}const Rl=new Pl({apiKey:"AIzaSyC41CeNrq4uCeO5tfLXyqB8WheHH3aLeIM"}),jl=e=>{let t=e.replace(/``````|``````\s*/g,"");return t=t.trim(),65279===t.charCodeAt(0)&&(t=t.slice(1)),t},Dl=e=>{if(e.response&&e.response.text)return e.response.text();if(e.text)return e.text;if(e.candidates&&e.candidates[0])return e.candidates[0].content.parts[0].text;throw new Error("Unexpected response structure from Gemini API")},Ml=e=>new Promise(t=>setTimeout(t,e));const Ll=new class{constructor(){this.queue=[],this.processing=!1,this.requestTimes=[],this.maxRequestsPerMinute=10,this.maxRequestsPerDay=50,this.dailyRequestCount=this.getDailyRequestCount()}getDailyRequestCount(){const e=(new Date).toDateString(),t=localStorage.getItem("gemini_daily_requests");if(t){const n=JSON.parse(t);if(n.date===e)return n.count}return 0}updateDailyRequestCount(){const e=(new Date).toDateString();this.dailyRequestCount++,localStorage.setItem("gemini_daily_requests",JSON.stringify({date:e,count:this.dailyRequestCount}))}async addRequest(e){if(this.dailyRequestCount>=this.maxRequestsPerDay)throw new Error("Daily API limit reached. Please try again tomorrow.");return new Promise((t,n)=>{this.queue.push({requestFn:e,resolve:t,reject:n}),this.processQueue()})}async processQueue(){if(!this.processing&&0!==this.queue.length){for(this.processing=!0;this.queue.length>0;){const t=Date.now();if(this.requestTimes=this.requestTimes.filter(e=>t-e<6e4),this.requestTimes.length>=this.maxRequestsPerMinute){const e=Math.min(...this.requestTimes),n=6e4-(t-e)+2e3;await Ml(n);continue}const{requestFn:n,resolve:r,reject:o}=this.queue.shift();try{this.requestTimes.push(t),this.updateDailyRequestCount();r(await n()),await Ml(3e3)}catch(e){o(e)}}this.processing=!1}}},Ul=async e=>{try{return await Ll.addRequest(async()=>{const t='Translate Finnish word "'.concat(e,'" to Russian. \n\nIMPORTANT: Respond with ONLY the JSON object, no markdown formatting, no code blocks, no explanations.\n\n{"word":"').concat(e,'","translation":"Russian translation","partOfSpeech":"noun/verb/adj","difficulty":"beginner/intermediate/advanced","examples":["example1","example2"],"etymology":"brief origin"}'),n=await Rl.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:t}]}],generationConfig:{maxOutputTokens:120,temperature:.1}}),r=Dl(n),o=jl(r);let i;try{i=JSON.parse(o)}catch(a){throw console.error("JSON Parse Error:",a),console.error("Cleaned text that failed to parse:",o),new Error("AI returned invalid JSON format")}return{success:!0,data:i}})}catch(t){return console.error("Gemini translation failed:",t),t.message.includes("429")||t.message.includes("quota")?{success:!1,error:"Free tier limit reached. Please wait or try again later.",retryAfter:36e5}:t.message.includes("Daily API limit")?{success:!1,error:"Daily free tier limit reached. Try again tomorrow.",retryAfter:864e5}:{success:!1,error:"Translation unavailable. Using offline mode.",fallback:'Translation for "'.concat(e,'" not available')}}},Fl=()=>{const e=(new Date).toDateString(),t=localStorage.getItem("gemini_daily_requests");let n=0;if(t){const r=JSON.parse(t);r.date===e&&(n=r.count)}return{dailyUsed:n,dailyLimit:50,remaining:Math.max(0,50-n),resetTime:"Tomorrow"}},ql="finnishApp_aiEnhancedTranslations",zl=e=>e instanceof Error?e.message:"string"===typeof e?e:"Unknown error occurred",Vl=()=>{try{console.log("Reading AI translation cache from localStorage...");const e=localStorage.getItem(ql),t=e?JSON.parse(e):{};return console.log("Cache status:",{exists:!!e,wordCount:Object.keys(t).length,sizeKB:e?Math.round(e.length/1024*100)/100:0}),t}catch(e){const t=zl(e);return console.error("Error reading AI cache:",t),{}}},Bl=e=>{try{console.log("Checking cache for word:",e);const t=Vl()[e];if(t){const n=Date.now()-new Date(t.cachedAt).getTime(),r=Math.round(n/36e5*100)/100;return console.log("Found cached AI translation!",{word:e,cachedAt:t.cachedAt,ageHours:r,hasAI:!!t.ai,version:t.version}),t}return console.log("No cached translation found for:",e),null}catch(t){const n=zl(t);return console.error("Error reading cached AI translation for word:",e,n),null}},Gl=e=>{var t,n,o,i;let{fav:a,index:l,audioPlaying:s,isListening:c,onPlayAudio:d,onStartSpeechRecognition:f,onRemoveFromFavorites:p}=e;const[h,m]=(0,r.useState)(null),[g,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=Bl(a.word);e&&m(e)},[a.word]);return(0,x.jsxs)("div",{className:"border rounded-xl p-6 hover:shadow-md transition-shadow",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,x.jsx)("h3",{className:"text-2xl font-bold text-blue-600",children:a.word}),(0,x.jsx)("button",{onClick:()=>d(a.word,"default"),className:"text-blue-500 hover:text-blue-700 p-2 rounded-full hover:bg-blue-50",disabled:s===a.word,title:"Browser Voice",children:(0,x.jsx)(F,{className:"w-5 h-5"})}),(0,x.jsx)("button",{onClick:()=>f(a.word),className:"text-green-500 hover:text-green-700 p-2 rounded-full hover:bg-green-50 ".concat(c?"animate-pulse":""),disabled:c,title:"Practice pronunciation",children:(0,x.jsx)(U,{className:"w-5 h-5"})})]}),(0,x.jsx)("button",{onClick:()=>p(a.word),className:"text-red-500 hover:text-red-700 p-2 rounded-full hover:bg-red-50",title:"Remove from favorites",children:(0,x.jsx)(b,{className:"w-5 h-5"})})]}),(0,x.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[(0,x.jsx)("h4",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Basic Translation"}),(0,x.jsx)("p",{className:"text-gray-700 text-lg",children:a.translation})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("button",{onClick:async()=>{console.log("Starting AI analysis for word:",a.word);const e=Bl(a.word);if(e)return console.log("Using cached data, skipping API call"),void m(e);console.log("No cache found, making API request to Google Gemini..."),y(!0);try{const e=await(async(e,t)=>{try{return await Ll.addRequest(async()=>{const n='Analyze Finnish "'.concat(e,'". \n\nIMPORTANT: Respond with ONLY the JSON object, no markdown formatting, no code blocks, no explanations.\n\n{"partOfSpeech":"noun/verb/adj","case":"nom/part/gen/null","difficulty":"beginner/intermediate/advanced","note":"brief usage note","examples":["example1","example2"],"etymology":"brief origin"}'),r=await Rl.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:n}]}],generationConfig:{maxOutputTokens:120,temperature:.1}}),o=Dl(r),i=jl(o);let a;try{a=JSON.parse(i)}catch(l){return console.error("JSON Parse Error in AI analysis:",l),{base:t,ai:{grammaticalInfo:{partOfSpeech:"unknown",case:null,number:null,wordType:"basic"},difficulty:"beginner",usageNotes:"Analysis temporarily unavailable",examples:[],relatedWords:[],pronunciation:null},enhanced:!0}}return{base:t,ai:{grammaticalInfo:{partOfSpeech:a.partOfSpeech||"unknown",case:a.case||null,number:null,wordType:"basic"},difficulty:a.difficulty||"beginner",usageNotes:a.note||"No usage notes available",etymology:a.etymology&&"brief origin"!==a.etymology?a.etymology:null,formationRules:a.etymology&&"brief origin"!==a.etymology?"Word formation: ".concat(a.etymology):null,examples:a.examples&&a.examples.length>0?a.examples.map(t=>({finnish:t,english:'Example using "'.concat(e,'"')})):[],relatedWords:[],pronunciation:null},enhanced:!0}})}catch(n){return console.error("AI enhancement failed:",n),{base:t,ai:null,enhanced:!1,error:n.message.includes("limit")?"Free tier limit reached":"Analysis unavailable"}}})(a.word,a.translation);console.log("Received AI enhancement response:",{word:a.word,enhanced:null===e||void 0===e?void 0:e.enhanced,hasAI:!(null===e||void 0===e||!e.ai),hasError:!(null===e||void 0===e||!e.error)}),e&&e.enhanced?(console.log("Attempting to cache successful AI enhancement..."),((e,t)=>{try{console.log("Attempting to cache AI translation for word:",e),console.log("Translation data to cache:",{hasAI:!!t.ai,enhanced:t.enhanced,hasError:!!t.error});const n=Vl(),r=Object.keys(n).length;n[e]=u(u({},t),{},{cachedAt:(new Date).toISOString(),version:"1.0"});const o=JSON.stringify(n);localStorage.setItem(ql,o);const i=Object.keys(n).length,a=Math.round(o.length/1024*100)/100;console.log("Successfully cached AI translation!",{word:e,beforeCount:r,afterCount:i,isNewEntry:r<i,totalCacheSizeKB:a,timestamp:(new Date).toLocaleTimeString()}),a>1e3&&console.warn("Cache size is getting large:",a+"KB")}catch(n){const t=zl(n);console.error("Error updating AI cache for word:",e,t),n instanceof Error&&"QuotaExceededError"===n.name&&console.error("localStorage quota exceeded! Cache size too large.")}})(a.word,e),m(e)):(console.log("AI enhancement failed or incomplete, not caching"),m(e))}catch(t){const e=zl(t);console.error("AI enhancement request failed:",e),m({base:a.translation,ai:null,enhanced:!1,error:"Enhancement failed: "+e})}finally{y(!1),console.log("AI analysis process completed for word:",a.word)}},disabled:g,className:"px-4 py-2 rounded-lg flex items-center transition-colors ".concat(h?"bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 text-white":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white"),children:g?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Analyzing with Google AI..."]}):h?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(H,{className:"w-4 h-4 mr-2 fill-current"}),"AI Enhanced (Cached)"]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(H,{className:"w-4 h-4 mr-2"}),"Enhance with Google AI"]})}),h&&h.cachedAt&&(0,x.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Cached ",new Date(h.cachedAt).toLocaleDateString()]})]}),(null===h||void 0===h?void 0:h.ai)&&(0,x.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 mb-4",children:[(0,x.jsxs)("h4",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[(0,x.jsx)(H,{className:"w-5 h-5 mr-2"}),"Google AI Analysis",h.cachedAt&&(0,x.jsx)("span",{className:"ml-2 text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Cached"})]}),(0,x.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,x.jsxs)("div",{className:"bg-white rounded p-3",children:[(0,x.jsx)("h5",{className:"font-medium text-blue-700 mb-2",children:"Grammar"}),(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Part of Speech:"})," ",(null===(t=h.ai.grammaticalInfo)||void 0===t?void 0:t.partOfSpeech)||"Unknown"]}),(null===(n=h.ai.grammaticalInfo)||void 0===n?void 0:n.case)&&(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Case:"})," ",h.ai.grammaticalInfo.case]}),(null===(o=h.ai.grammaticalInfo)||void 0===o?void 0:o.number)&&(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Number:"})," ",h.ai.grammaticalInfo.number]}),(null===(i=h.ai.grammaticalInfo)||void 0===i?void 0:i.wordType)&&(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Word Type:"})," ",h.ai.grammaticalInfo.wordType]})]}),(0,x.jsxs)("div",{className:"bg-white rounded p-3",children:[(0,x.jsx)("h5",{className:"font-medium text-blue-700 mb-2",children:"Learning Info"}),(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Difficulty:"})," ",h.ai.difficulty]}),(0,x.jsx)("div",{className:"flex items-center mt-1",children:[1,2,3,4,5].map(e=>(0,x.jsx)(H,{className:"w-4 h-4 ".concat(e<=("beginner"===h.ai.difficulty?2:"intermediate"===h.ai.difficulty?3:4)?"text-yellow-400 fill-current":"text-gray-300")},e))}),h.ai.pronunciation&&(0,x.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[(0,x.jsx)("strong",{children:"Pronunciation:"})," ",h.ai.pronunciation]})]})]}),(h.ai.etymology||h.ai.formationRules)&&(0,x.jsxs)("div",{className:"bg-white rounded p-3 mb-4",children:[(0,x.jsx)("h5",{className:"font-medium text-blue-700 mb-2",children:"Etymology & Formation"}),h.ai.etymology&&(0,x.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:h.ai.etymology}),h.ai.formationRules&&(0,x.jsxs)("div",{className:"bg-blue-50 rounded p-2",children:[(0,x.jsx)("p",{className:"text-sm text-blue-800 font-medium",children:"Formation Rule:"}),(0,x.jsx)("p",{className:"text-sm text-blue-700",children:h.ai.formationRules})]})]}),h.ai.examples&&h.ai.examples.length>0&&(0,x.jsxs)("div",{className:"bg-white rounded p-3 mb-4",children:[(0,x.jsx)("h5",{className:"font-medium text-blue-700 mb-2",children:"Usage Examples"}),h.ai.examples.map((e,t)=>(0,x.jsx)("div",{className:"mb-2 p-2 bg-gray-50 rounded",children:(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsx)("p",{className:"text-gray-800",children:e.finnish}),(0,x.jsx)("p",{className:"text-sm text-gray-600 italic",children:e.english})]}),(0,x.jsx)("button",{onClick:()=>d(e.finnish,"default"),className:"text-blue-500 hover:text-blue-700 p-1 rounded",title:"Browser Voice",children:(0,x.jsx)(F,{className:"w-4 h-4"})})]})},t))]}),h.ai.relatedWords&&h.ai.relatedWords.length>0&&(0,x.jsxs)("div",{className:"bg-white rounded p-3 mb-4",children:[(0,x.jsx)("h5",{className:"font-medium text-blue-700 mb-2",children:"Related Words"}),(0,x.jsx)("div",{className:"flex flex-wrap gap-2",children:h.ai.relatedWords.map((e,t)=>(0,x.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm cursor-pointer hover:bg-blue-200",onClick:()=>d(e,"default"),title:"Click to hear pronunciation",children:e},t))})]}),h.ai.usageNotes&&"No usage notes available"!==h.ai.usageNotes&&"Analysis temporarily unavailable"!==h.ai.usageNotes&&(0,x.jsxs)("div",{className:"bg-white rounded p-3",children:[(0,x.jsx)("h5",{className:"font-medium text-blue-700 mb-2",children:"Usage Notes"}),(0,x.jsx)("p",{className:"text-sm text-gray-700",children:h.ai.usageNotes})]})]}),(null===h||void 0===h?void 0:h.error)&&(0,x.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:(0,x.jsxs)("p",{className:"text-red-800",children:["AI Analysis failed: ",h.error]})}),(0,x.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 mb-4",children:[(0,x.jsx)("h4",{className:"text-lg font-semibold text-green-800 mb-2",children:"Word Formation & Rules"}),(0,x.jsxs)("div",{className:"space-y-2",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)("span",{className:"font-medium text-green-700",children:"Base form:"}),(0,x.jsx)("span",{className:"text-gray-700",children:a.word})]}),a.word.endsWith("ssa")||a.word.endsWith("ss\xe4")?(0,x.jsxs)("div",{className:"bg-white rounded p-3 border-l-4 border-green-500",children:[(0,x.jsx)("p",{className:"font-medium text-green-700",children:"Inessive Case (-ssa/-ss\xe4)"}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:'Indicates location "in" or "at"'}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:"Rule: Add -ssa (back vowels) or -ss\xe4 (front vowels) to word stem"})]}):a.word.endsWith("\xe4")||a.word.endsWith("a")?(0,x.jsxs)("div",{className:"bg-white rounded p-3 border-l-4 border-green-500",children:[(0,x.jsx)("p",{className:"font-medium text-green-700",children:"Partitive Case (-a/-\xe4)"}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:"Indicates partial object or amount"}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:"Rule: Add -a (back vowels) or -\xe4 (front vowels) to word stem"})]}):a.word.endsWith("t")?(0,x.jsxs)("div",{className:"bg-white rounded p-3 border-l-4 border-green-500",children:[(0,x.jsx)("p",{className:"font-medium text-green-700",children:"Plural Nominative (-t)"}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:"Indicates multiple subjects"}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:"Rule: Add -t to word stem for plural subjects"})]}):a.word.endsWith("lla")||a.word.endsWith("ll\xe4")?(0,x.jsxs)("div",{className:"bg-white rounded p-3 border-l-4 border-green-500",children:[(0,x.jsx)("p",{className:"font-medium text-green-700",children:"Adessive Case (-lla/-ll\xe4)"}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:'Indicates location "on" or "at"'}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:"Rule: Add -lla (back vowels) or -ll\xe4 (front vowels) to word stem"})]}):(0,x.jsxs)("div",{className:"bg-white rounded p-3 border-l-4 border-green-500",children:[(0,x.jsx)("p",{className:"font-medium text-green-700",children:"Base Form (Nominative)"}),(0,x.jsx)("p",{className:"text-sm text-gray-600",children:"This appears to be the dictionary form"})]})]})]}),(0,x.jsxs)("div",{className:"mt-4 text-sm text-gray-500 text-right",children:["Added ",a.addedAt?new Date(a.addedAt).toLocaleDateString():"recently"]})]})},Hl=e=>{let{favorites:t,audioPlaying:n,isListening:o,onPlayAudio:i,onStartSpeechRecognition:a,onRemoveFromFavorites:l,onGoToTheory:s}=e;const[u,c]=(0,r.useState)({total:0,enhanced:0});return(0,r.useEffect)(()=>{const e=Vl(),n=Object.keys(e).length,r=t.filter(t=>e[t.word]).length;c({total:n,enhanced:r})},[t]),(0,x.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"text-3xl font-bold text-red-600 mb-2",children:"Your Favorite Words"}),(0,x.jsx)("p",{className:"text-xl text-gray-600",children:"Saved vocabulary with detailed analysis"}),u.total>0&&(0,x.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[u.enhanced,"/",t.length," words have AI enhancements cached"]})]}),(0,x.jsx)("div",{className:"bg-red-100 rounded-full w-16 h-16 flex items-center justify-center",children:(0,x.jsx)(N,{className:"w-8 h-8 text-red-600"})})]}),0===t.length?(0,x.jsxs)("div",{className:"text-center py-16",children:[(0,x.jsx)(N,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),(0,x.jsx)("h3",{className:"text-2xl font-semibold text-gray-500 mb-4",children:"No favorites yet"}),(0,x.jsx)("p",{className:"text-gray-400 mb-6",children:"Click on words in lessons or use the heart button to save them here!"}),(0,x.jsx)("button",{onClick:s,className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg",children:"Start Learning"})]}):(0,x.jsx)("div",{className:"space-y-6",children:t.map((e,t)=>(0,x.jsx)(Gl,{fav:e,index:t,audioPlaying:n,isListening:o,onPlayAudio:i,onStartSpeechRecognition:a,onRemoveFromFavorites:l},"".concat(e.word,"-").concat(t)))})]})},Jl=(0,r.forwardRef)((e,t)=>{var n;let{show:r,selectedText:o,position:i,translations:a,onClose:l,onAddToFavorites:s,onPlayAudio:u,onStartSpeechRecognition:c,onEnhanceTranslation:d}=e;if(!r)return null;const f=a[o];return(0,x.jsxs)("div",{ref:t,className:"fixed bg-black text-white p-4 rounded-lg shadow-xl z-50 max-w-sm",style:{left:Math.min(i.x-150,window.innerWidth-300),top:Math.max(i.y-10,10)},children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,x.jsx)("span",{className:"font-bold text-lg",children:o}),(0,x.jsx)("button",{onClick:l,className:"text-gray-300 hover:text-white transition-colors",children:(0,x.jsx)(b,{className:"w-5 h-5"})})]}),null!==f&&void 0!==f&&f.enhanced?(0,x.jsxs)("div",{className:"space-y-2",children:[(0,x.jsxs)("div",{className:"text-sm",children:[(0,x.jsx)("p",{className:"font-semibold text-blue-300",children:"Primary Translation:"}),(0,x.jsx)("p",{children:f.enhanced.baseTranslation})]}),(null===(n=f.enhanced.alternativeTranslations)||void 0===n?void 0:n.length)>0&&(0,x.jsxs)("div",{className:"text-sm",children:[(0,x.jsx)("p",{className:"font-semibold text-green-300",children:"Alternatives:"}),(0,x.jsx)("p",{children:f.enhanced.alternativeTranslations.join(", ")})]}),(0,x.jsxs)("div",{className:"text-sm",children:[(0,x.jsx)("p",{className:"font-semibold text-yellow-300",children:"Grammar:"}),(0,x.jsx)("p",{children:f.enhanced.grammaticalInfo.partOfSpeech}),f.enhanced.grammaticalInfo.case&&(0,x.jsxs)("p",{children:["Case: ",f.enhanced.grammaticalInfo.case]})]}),f.enhanced.frequency&&(0,x.jsx)("div",{className:"text-xs",children:(0,x.jsx)("span",{className:"px-2 py-1 rounded ".concat("common"===f.enhanced.frequency?"bg-green-600":"uncommon"===f.enhanced.frequency?"bg-yellow-600":"bg-red-600"),children:f.enhanced.frequency})})]}):(0,x.jsx)("div",{className:"text-sm whitespace-pre-line mb-3 leading-relaxed",children:(null===f||void 0===f?void 0:f.base)||f||"Translation not found. Click to enhance with AI!"}),(0,x.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,x.jsxs)("button",{onClick:()=>{s(o,(null===f||void 0===f?void 0:f.base)||f),l()},className:"text-red-400 hover:text-red-300 flex items-center transition-colors",children:[(0,x.jsx)(N,{className:"w-4 h-4 mr-1"}),"Favorite"]}),(0,x.jsxs)("button",{onClick:()=>u(o,"default"),className:"text-blue-400 hover:text-blue-300 flex items-center transition-colors",children:[(0,x.jsx)(F,{className:"w-4 h-4 mr-1"}),"Listen"]}),(0,x.jsxs)("button",{onClick:()=>u(o,"gemini"),className:"text-purple-400 hover:text-purple-300 flex items-center transition-colors",children:[(0,x.jsx)(I,{className:"w-4 h-4 mr-1"}),"AI Voice"]}),(0,x.jsxs)("button",{onClick:()=>c(o),className:"text-green-400 hover:text-green-300 flex items-center transition-colors",children:[(0,x.jsx)(U,{className:"w-4 h-4 mr-1"}),"Practice"]})]}),!(null!==f&&void 0!==f&&f.enhanced)&&(0,x.jsxs)("button",{onClick:()=>d(o),className:"w-full mt-2 bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded text-sm flex items-center justify-center",children:[(0,x.jsx)(I,{className:"w-3 h-3 mr-1"}),"Enhance with AI"]}),(0,x.jsx)("div",{className:"text-xs text-gray-400 mt-2 text-center",children:"Press ESC or click outside to close"})]})});Jl.displayName="Tooltip";const Wl=Jl,Kl=new Pl({apiKey:"AIzaSyC41CeNrq4uCeO5tfLXyqB8WheHH3aLeIM"}),Zl=async(e,t)=>{try{const n=e.data;let r,o=e.mimeType||"audio/pcm";if(console.log("\ud83c\udfb5 Processing audio data:",{mimeType:o,dataLength:null===n||void 0===n?void 0:n.length,dataType:typeof n}),!n)throw new Error("No audio data found in inlineData");if(o.includes("pcm")||o.includes("raw")?(console.log("\ud83d\udd04 Converting PCM to WAV format"),r=Yl(n)):o.includes("audio/")?(console.log("\ud83c\udfb5 Using direct audio format:",o),r=new Blob([Uint8Array.from(atob(n),e=>e.charCodeAt(0))],{type:o})):(console.log("\ud83d\udd04 Trying as generic audio format"),r=new Blob([Uint8Array.from(atob(n),e=>e.charCodeAt(0))],{type:"audio/wav"})),console.log("\ud83c\udfb5 Created audio blob:",{size:r.size,type:r.type}),0===r.size)throw new Error("Audio blob is empty");const i=URL.createObjectURL(r),a=new Audio;a.onloadeddata=()=>{console.log("\ud83c\udfb5 Audio loaded successfully, duration:",a.duration)},a.oncanplay=()=>{console.log("\ud83c\udfb5 Audio can start playing")},a.onended=()=>{console.log("\ud83c\udfb5 Gemini TTS playback ended"),t(null),URL.revokeObjectURL(i)},a.onerror=e=>{var n;throw console.error("\u274c Audio playback error details:",{error:e,audioSrc:a.src,audioError:a.error}),t(null),URL.revokeObjectURL(i),new Error("Audio playback failed: ".concat((null===(n=a.error)||void 0===n?void 0:n.message)||"Unknown error"))},a.src=i,a.load(),await a.play(),console.log("\ud83c\udfb5 Gemini TTS started playing successfully!")}catch(n){throw console.error("\u274c Audio processing failed:",n),n}},Yl=e=>{try{const t=Uint8Array.from(atob(e),e=>e.charCodeAt(0)),n=24e3,r=1,o=16,i=n*r*o/8,a=r*o/8,l=t.length,s=36+l,u=new ArrayBuffer(44),c=new DataView(u);c.setUint32(0,1179011410,!0),c.setUint32(4,s,!0),c.setUint32(8,1163280727,!0),c.setUint32(12,544501094,!0),c.setUint32(16,16,!0),c.setUint16(20,1,!0),c.setUint16(22,r,!0),c.setUint32(24,n,!0),c.setUint32(28,i,!0),c.setUint16(32,a,!0),c.setUint16(34,o,!0),c.setUint32(36,1635017060,!0),c.setUint32(40,l,!0);const d=new Uint8Array(44+l);return d.set(new Uint8Array(u),0),d.set(t,44),new Blob([d],{type:"audio/wav"})}catch(t){throw console.error("\u274c PCM to WAV conversion failed:",t),t}},$l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Kore",n=arguments.length>2?arguments[2]:void 0;console.log("\ud83e\udd16 Using Gemini 2.5 Flash TTS for:",e,"with voice:",t);try{var r,o,i,a;n(e),console.log("\ud83c\udfaf Calling Gemini TTS...");const s=await Kl.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:e}]}],config:{responseModalities:["AUDIO"],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}}}});console.log("\u2705 Gemini TTS response received"),console.log("\ud83d\udd0d Response candidates:",null===(r=s.candidates)||void 0===r?void 0:r.length);let u=!1;if(null!==(o=s.candidates)&&void 0!==o&&null!==(i=o[0])&&void 0!==i&&null!==(a=i.content)&&void 0!==a&&a.parts)for(const e of s.candidates[0].content.parts)if(console.log("\ud83d\udd0d Checking part:",e),e.inlineData){console.log("\ud83c\udfb5 Found inlineData:",{mimeType:e.inlineData.mimeType,hasData:!!e.inlineData.data});try{return await Zl(e.inlineData,n),void(u=!0)}catch(l){console.error("\u274c Failed to play this audio format:",l)}}u||(console.log("\u26a0\ufe0f No playable audio found, using browser TTS"),Ql(e,n))}catch(s){console.error("\u274c Gemini TTS failed:",s),n(null),Ql(e,n)}},Ql=(e,t)=>{console.log("\ud83d\udd0a Using browser TTS fallback for:",e),"speechSynthesis"in window?(speechSynthesis.cancel(),setTimeout(()=>{const n=new SpeechSynthesisUtterance(e);n.lang="fi-FI",n.rate=.8,n.pitch=1,n.volume=1,n.onstart=()=>{console.log("\ud83c\udfb5 Browser TTS started"),t(e)},n.onend=()=>{console.log("\ud83c\udfb5 Browser TTS ended"),t(null)},n.onerror=e=>{console.error("\ud83d\udd34 Browser TTS error:",e),t(null)};const r=speechSynthesis.getVoices().find(e=>e.lang.startsWith("fi")||e.name.toLowerCase().includes("finnish"));r?(n.voice=r,console.log("\ud83c\uddeb\ud83c\uddee Using Finnish voice:",r.name)):console.log("\u26a0\ufe0f No Finnish voice found, using default"),speechSynthesis.speak(n)},100)):(console.error("\u274c Speech synthesis not supported"),t(null))},Xl=(e,t)=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))return void alert("\u274c Speech recognition not supported in this browser");const n=new(window.SpeechRecognition||window.webkitSpeechRecognition);n.lang="fi-FI",n.continuous=!1,n.interimResults=!1,t(!0),n.onresult=n=>{const r=n.results[0][0].transcript.toLowerCase(),o=e.toLowerCase();r.includes(o)||o.includes(r)?alert("\ud83c\udf89 Loistava \xe4\xe4nt\xe4minen! Great pronunciation!"):alert('\ud83d\udd04 Yrit\xe4 uudelleen! Try again. You said: "'.concat(r,'"')),t(!1)},n.onerror=()=>{alert("Speech recognition error. Try again."),t(!1)},n.start()};const es=function(e,t){const[n,o]=(0,r.useState)(()=>{try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.log(n),t}});return[n,t=>{try{const r=t instanceof Function?t(n):t;o(r),window.localStorage.setItem(e,JSON.stringify(r))}catch(r){console.log(r)}}]},ts=()=>{const[e,t]=(0,r.useState)("home"),[n,o]=(0,r.useState)(0),[i,a]=(0,r.useState)([]),[l,s]=(0,r.useState)({}),[c,d]=(0,r.useState)(Fl()),[f,p]=(0,r.useState)({}),[h,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(null),[_,S]=(0,r.useState)(!1),[C,E]=(0,r.useState)(!1),[T,k]=(0,r.useState)(""),[N,O]=(0,r.useState)({x:0,y:0}),[I,R]=(0,r.useState)(!1),[j,L]=(0,r.useState)(null),[U,F]=(0,r.useState)(""),[z,B]=es("finnishApp_favorites",[]),[H,J]=es("finnishApp_dataUrls",{lessons:"https://raw.githubusercontent.com/dsedunov/finnishlearningapp/refs/heads/main/demo_lessons_json",translations:"https://raw.githubusercontent.com/dsedunov/finnishlearningapp/refs/heads/main/demo_translations_json.json"}),W=()=>i.length>0?i:[],K=()=>l||{},Z=W()[n]||null,Y=async(e,n)=>{if(e&&e.trim()){R(!0),L(null),F("");try{const l=await fetch(e);if(!l.ok)throw new Error("HTTP ".concat(l.status,": ").concat(l.statusText));const u=await l.text();let c;console.log("Raw ".concat(n," data:"),u.substring(0,200)+"...");try{c=JSON.parse(u)}catch(r){console.error("JSON Parse Error for ".concat(n,":"),r),console.error("Raw text around error:",u.substring(16460,16480));const e=u.replace(/}\s*{/g,"},{").replace(/^(?!\[)/,"[").replace(/(?<!\])$/,"]");try{c=JSON.parse(e),console.log("Fixed JSON for ".concat(n))}catch(i){throw new Error("Invalid JSON format in ".concat(n," file. Please check the file structure."))}}if("lessons"===n){const e=Array.isArray(c)?c:c.lessons||c.lesson||[];if(0===e.length)throw new Error("No lessons found in the data");a(e),o(0),t("home"),F("\u2705 Loaded ".concat(e.length," lessons successfully!"))}else if("translations"===n){const e=c.translations||c,t=Object.keys(e).length;if(0===t)throw new Error("No translations found in the data");s(e),F("\u2705 Loaded ".concat(t," translations successfully!"))}}catch(l){console.error("Error loading ".concat(n,":"),l),L("Failed to load ".concat(n,": ").concat(l.message))}finally{R(!1),setTimeout(()=>F(""),3e3)}}else L("Please enter a valid URL for ".concat(n))};(0,r.useEffect)(()=>{H.lessons&&Y(H.lessons,"lessons"),H.translations&&Y(H.translations,"translations")},[]);const $=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";console.log("\ud83c\udfaf playAudio called with:",{text:e,voiceType:t,audioPlaying:g}),g&&("speechSynthesis"in window&&speechSynthesis.cancel(),y(null)),setTimeout(()=>{"gemini"===t?$l(e,"Kore",y).catch(()=>{console.log("\ud83d\udd04 Regular TTS failed, trying streaming approach"),$l(e,"Kore",y)}):Ql(e,y)},50)},Q=async e=>{var t;e.preventDefault();const n=e.target,r=null===(t=n.textContent)||void 0===t?void 0:t.trim();if(!r)return;const o=K(),i=r.replace(/[.,!?;:]/g,"");let a=o[i];if(!a){R(!0);const e=await Ul(i);if(R(!1),!e.success)return void L('Could not translate "'.concat(i,'": ').concat(e.error));{const t={base:e.data.baseTranslation,details:"\ud83d\udcdd ".concat(e.data.grammaticalInfo.partOfSpeech,"\n\ud83d\udd04 ").concat(e.data.formationRules,"\n\ud83d\udca1 ").concat(e.data.usageNotes),enhanced:e.data};s(e=>u(u({},e),{},{[i]:t})),a=t}}k(i);const l=n.getBoundingClientRect();O({x:l.left+l.width/2,y:l.top-10}),E(!0)},X=(e,t)=>{const n=K(),r=t||n[e];if(r&&!z.some(t=>t.word===e)){const t={id:Date.now(),word:e,translation:r.base||r,addedAt:new Date};B(e=>[...e,t])}},ee=e=>{const t=e.split(" ");return t.map((e,n)=>{const r=e.replace(/[.,!?]/g,""),o=K()[r],i=/[\u0430-\u044f\u0451]/i.test(r);return(0,x.jsxs)("span",{className:o&&!i?"cursor-pointer hover:bg-blue-100 hover:text-blue-600 rounded px-1 transition-colors":"",onClick:o&&!i?Q:void 0,onDoubleClick:!i&&o?()=>{X(r,o)}:void 0,children:[e,n<t.length-1&&" "]},n)})},te=()=>{t("home"),o(0)};return(0,r.useEffect)(()=>{const e=e=>{C&&E(!1)},t=e=>{"Escape"===e.key&&E(!1)};return C&&(document.addEventListener("mousedown",e),document.addEventListener("keydown",t)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[C]),(0,r.useEffect)(()=>{E(!1)},[e,n]),(0,x.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,x.jsx)(w,{onHomeClick:te}),(0,x.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[I&&(0,x.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,x.jsxs)("div",{className:"bg-white rounded-lg p-6 text-center",children:[(0,x.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,x.jsx)("p",{className:"text-lg font-semibold",children:"Loading Finnish lessons..."})]})}),U&&(0,x.jsx)("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",children:(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(v,{className:"w-5 h-5 mr-2"}),U]})}),j&&(0,x.jsx)("div",{className:"fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",children:(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(b,{className:"w-5 h-5 mr-2"}),j,(0,x.jsx)("button",{onClick:()=>L(null),className:"ml-2 hover:bg-red-600 rounded p-1",children:(0,x.jsx)(b,{className:"w-4 h-4"})})]})}),(0,x.jsx)(A,{currentTopic:Z,currentSection:e,lessons:i,favoritesCount:z.length,onHomeClick:te,onPreviousLesson:()=>{const e=i.indexOf(Z);e>0&&o(e-1)},onNextLesson:()=>{const e=i.indexOf(Z);e<i.length-1&&o(e+1)},onSectionChange:t,canGoPrevious:i.indexOf(Z)>0,canGoNext:i.indexOf(Z)<i.length-1}),(0,x.jsxs)("div",{className:"max-w-4xl mx-auto",children:["home"===e&&(0,x.jsxs)("div",{children:[(0,x.jsx)(P,{lessonsCount:W().length,wordsCount:Object.keys(K()).length,favoritesCount:z.length}),(0,x.jsx)(D,{dataUrls:H,onUrlChange:(e,t)=>{J(n=>u(u({},n),{},{[e]:t}))},onLoadFromUrl:Y,onFileUpload:async(e,t)=>{var n;const r=null===(n=e.target.files)||void 0===n?void 0:n[0];if(r){R(!0),L(null);try{const e=await r.text(),n=JSON.parse(e);"lessons"===t?(a(Array.isArray(n)?n:[n]),F("Lessons successfully uploaded!")):(s(n),F("Translations successfully uploaded!")),setTimeout(()=>F(""),3e3)}catch(o){L("Error uploading ".concat(t,": Invalid JSON format"))}finally{R(!1)}}},dataLoading:I}),(0,x.jsx)(M,{lessons:W(),onLessonSelect:e=>{o(e),t("theory")}})]}),"theory"===e&&(0,x.jsx)(q,{currentTopic:Z,audioPlaying:g,isListening:_,onPlayAudio:$,onStartSpeechRecognition:e=>Xl(e,S),onAddToFavorites:X,isFavorited:e=>z.some(t=>t.word===e),renderClickableText:ee}),"reading"===e&&(0,x.jsx)(V,{currentTopic:Z,audioPlaying:g,isListening:_,exerciseSubmitted:h,onPlayAudio:$,onStartSpeechRecognition:e=>Xl(e,S),onSubmitReading:()=>m(!0),onResetReading:()=>m(!1),onGoToExercises:()=>t("exercises"),renderClickableText:ee}),"exercises"===e&&(0,x.jsx)(G,{currentTopic:Z,exerciseAnswers:f,exerciseSubmitted:h,audioPlaying:g,isListening:_,onAnswerChange:(e,t,n)=>{const r="".concat(e,"-").concat(t);p(e=>u(u({},e),{},{[r]:n}))},onBlankAnswerChange:(e,t,n,r)=>{const o="".concat(e,"-").concat(t,"-").concat(n);p(e=>u(u({},e),{},{[o]:r}))},onPlayAudio:$,onStartSpeechRecognition:e=>Xl(e,S),onSubmitExercises:()=>{m(!0)},onResetExercises:()=>{p({}),m(!1)}}),"favorites"===e&&(0,x.jsx)(Hl,{favorites:z,audioPlaying:g,isListening:_,onPlayAudio:$,onStartSpeechRecognition:e=>Xl(e,S),onRemoveFromFavorites:e=>{B(t=>t.filter(t=>t.word!==e))},onGoToTheory:()=>t("theory")})]}),(0,x.jsx)(Wl,{show:C,selectedText:T,position:N,translations:K(),onClose:()=>E(!1),onAddToFavorites:X,onPlayAudio:$,onStartSpeechRecognition:e=>Xl(e,S),onEnhanceTranslation:async e=>{R(!0);const t=await Ul(e);R(!1),t.success&&s(n=>u(u({},n),{},{[e]:{base:t.data.baseTranslation,enhanced:t.data}}))}})]})]})};o.createRoot(document.getElementById("root")).render((0,x.jsx)(r.StrictMode,{children:(0,x.jsx)(ts,{})}))})();
//# sourceMappingURL=main.d712f449.js.map