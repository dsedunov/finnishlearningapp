/*! For license information please see main.6e0a56b7.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var i=n(853),a=n(43),r=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),k=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case w:return"Suspense";case C:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case h:return"Portal";case k:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}var P=Array.isArray,M=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},L=[],q=-1;function F(e){return{current:e}}function U(e){0>q||(e.current=L[q],L[q]=null,q--)}function H(e,t){q++,L[q]=e.current,e.current=t}var V=F(null),z=F(null),B=F(null),G=F(null);function K(e,t){switch(H(B,t),H(z,e),H(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=rd(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(V),H(V,e)}function J(){U(V),U(z),U(B)}function W(e){null!==e.memoizedState&&H(G,e);var t=V.current,n=rd(t,e.type);t!==n&&(H(z,e),H(V,n))}function Y(e){z.current===e&&(U(V),U(z)),G.current===e&&(U(G),Wd._currentValue=D)}var Z=Object.prototype.hasOwnProperty,$=i.unstable_scheduleCallback,Q=i.unstable_cancelCallback,X=i.unstable_shouldYield,ee=i.unstable_requestPaint,te=i.unstable_now,ne=i.unstable_getCurrentPriorityLevel,ie=i.unstable_ImmediatePriority,ae=i.unstable_UserBlockingPriority,re=i.unstable_NormalPriority,oe=i.unstable_LowPriority,se=i.unstable_IdlePriority,le=i.log,ue=i.unstable_setDisableYieldValue,ce=null,de=null;function pe(e){if("function"===typeof le&&ue(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ce,e)}catch(t){}}var me=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/he|0)|0},fe=Math.log,he=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var a=0,r=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&i;return 0!==s?0!==(i=s&~r)?a=ve(i):0!==(o&=s)?a=ve(o):n||0!==(n=s&~e)&&(a=ve(n)):0!==(s=i&~r)?a=ve(s):0!==o?a=ve(o):n||0!==(n=i&~e)&&(a=ve(n)),0===a?0:0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(n=t&-t)||32===r&&0!==(4194048&n))?t:a}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function we(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ce(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-me(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194090&n}function Ae(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-me(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function je(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:up(e.type)}var Oe=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Oe,Pe="__reactProps$"+Oe,Me="__reactContainer$"+Oe,Re="__reactEvents$"+Oe,De="__reactListeners$"+Oe,Le="__reactHandles$"+Oe,qe="__reactResources$"+Oe,Fe="__reactMarker$"+Oe;function Ue(e){delete e[Ie],delete e[Pe],delete e[Re],delete e[De],delete e[Le]}function He(e){var t=e[Ie];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Me]||n[Ie]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Ie])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Ie]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function ze(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Be(e){var t=e[qe];return t||(t=e[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[Fe]=!0}var Ke=new Set,Je={};function We(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Je[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Ze,$e,Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xe={},et={};function tt(e,t,n){if(a=t,Z.call(et,a)||!Z.call(Xe,a)&&(Qe.test(a)?et[a]=!0:(Xe[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function it(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function at(e){if(void 0===Ze)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ze=t&&t[1]||"",$e=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ze+e+$e}var rt=!1;function ot(e,t){if(!e||rt)return"";rt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var i=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){i=r}e.call(n.prototype)}}else{try{throw Error()}catch(o){i=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&i&&"string"===typeof s.stack)return[s.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),o=r[0],s=r[1];if(o&&s){var l=o.split("\n"),u=s.split("\n");for(a=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(i===l.length||a===u.length)for(i=l.length-1,a=u.length-1;1<=i&&0<=a&&l[i]!==u[a];)a--;for(;1<=i&&0<=a;i--,a--)if(l[i]!==u[a]){if(1!==i||1!==a)do{if(i--,0>--a||l[i]!==u[a]){var c="\n"+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=i&&0<=a);break}}}finally{rt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return at("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ct(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function ht(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,i,a,r,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,ut(t)):null!=n?vt(e,o,ut(n)):null!=i&&e.removeAttribute("value"),null==a&&null!=r&&(e.defaultChecked=!!r),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ut(s):e.removeAttribute("name")}function yt(e,t,n,i,a,r,o,s){if(null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.type=r),null!=t||null!=n){if(!("submit"!==r&&"reset"!==r||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:a)&&"symbol"!==typeof i&&!!i,e.checked=s?e.checked:!!i,e.defaultChecked=!!i,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function vt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(i&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(o(92));if(P(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var wt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!==typeof n||0===n||wt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&Ct(e,a,i)}else for(var r in t)t.hasOwnProperty(r)&&Ct(e,r,t[r])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var jt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Pt=null;function Mt(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ht(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[Pe]||null;if(!a)throw Error(o(90));gt(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&pt(i)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Rt=!1;function Dt(e,t,n){if(Rt)return e(t,n);Rt=!0;try{return e(t)}finally{if(Rt=!1,(null!==It||null!==Pt)&&(Hu(),It&&(t=It,e=Pt,Pt=It=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Pe]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var qt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(qt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Pp){Ft=!1}var Ht=null,Vt=null,zt=null;function Bt(){if(zt)return zt;var e,t,n=Vt,i=n.length,a="value"in Ht?Ht.value:Ht.textContent,r=a.length;for(e=0;e<i&&n[e]===a[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===a[r-t];t++);return zt=a.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Jt(){return!1}function Wt(e){function t(t,n,i,a,r){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kt:Jt,this.isPropagationStopped=Jt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,Zt,$t,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xt=Wt(Qt),en=p({},Qt,{view:0,detail:0}),tn=Wt(en),nn=p({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Yt=e.screenX-$t.screenX,Zt=e.screenY-$t.screenY):Zt=Yt=0,$t=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),an=Wt(nn),rn=Wt(p({},nn,{dataTransfer:0})),on=Wt(p({},en,{relatedTarget:0})),sn=Wt(p({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Wt(p({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Wt(p({},Qt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function fn(){return mn}var hn=Wt(p({},en,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Wt(p({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Wt(p({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Wt(p({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Wt(p({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Wt(p({},Qt,{newState:0,oldState:0})),kn=[9,13,27,32],_n=qt&&"CompositionEvent"in window,wn=null;qt&&"documentMode"in document&&(wn=document.documentMode);var Cn=qt&&"TextEvent"in window&&!wn,Sn=qt&&(!_n||wn&&8<wn&&11>=wn),Tn=String.fromCharCode(32),An=!1;function En(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Pn(e,t,n,i){It?Pt?Pt.push(i):Pt=[i]:It=i,0<(t=Bc(t,"onChange")).length&&(n=new Xt("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Mn=null,Rn=null;function Dn(e){Dc(e,0)}function Ln(e){if(pt(ze(e)))return e}function qn(e,t){if("change"===e)return t}var Fn=!1;if(qt){var Un;if(qt){var Hn="oninput"in document;if(!Hn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Hn="function"===typeof Vn.oninput}Un=Hn}else Un=!1;Fn=Un&&(!document.documentMode||9<document.documentMode)}function zn(){Mn&&(Mn.detachEvent("onpropertychange",Bn),Rn=Mn=null)}function Bn(e){if("value"===e.propertyName&&Ln(Rn)){var t=[];Pn(t,Rn,e,Ot(e)),Dt(Dn,t)}}function Gn(e,t,n){"focusin"===e?(zn(),Rn=n,(Mn=t).attachEvent("onpropertychange",Bn)):"focusout"===e&&zn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Rn)}function Jn(e,t){if("click"===e)return Ln(t)}function Wn(e,t){if("input"===e||"change"===e)return Ln(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!Z.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qn(e,t){var n,i=$n(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=$n(i)}}function Xn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ei(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ni=qt&&"documentMode"in document&&11>=document.documentMode,ii=null,ai=null,ri=null,oi=!1;function si(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;oi||null==ii||ii!==mt(i)||("selectionStart"in(i=ii)&&ti(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ri&&Zn(ri,i)||(ri=i,0<(i=Bc(ai,"onSelect")).length&&(t=new Xt("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ii)))}function li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ui={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},ci={},di={};function pi(e){if(ci[e])return ci[e];if(!ui[e])return e;var t,n=ui[e];for(t in n)if(n.hasOwnProperty(t)&&t in di)return ci[e]=n[t];return e}qt&&(di=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);var mi=pi("animationend"),fi=pi("animationiteration"),hi=pi("animationstart"),gi=pi("transitionrun"),yi=pi("transitionstart"),vi=pi("transitioncancel"),bi=pi("transitionend"),xi=new Map,ki="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(e,t){xi.set(e,t),We(t,[e])}ki.push("scrollEnd");var wi=new WeakMap;function Ci(e,t){if("object"===typeof e&&null!==e){var n=wi.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},wi.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Si=[],Ti=0,Ai=0;function Ei(){for(var e=Ti,t=Ai=Ti=0;t<e;){var n=Si[t];Si[t++]=null;var i=Si[t];Si[t++]=null;var a=Si[t];Si[t++]=null;var r=Si[t];if(Si[t++]=null,null!==i&&null!==a){var o=i.pending;null===o?a.next=a:(a.next=o.next,o.next=a),i.pending=a}0!==r&&Ii(n,a,r)}}function Ni(e,t,n,i){Si[Ti++]=e,Si[Ti++]=t,Si[Ti++]=n,Si[Ti++]=i,Ai|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function ji(e,t,n,i){return Ni(e,t,n,i),Pi(e)}function Oi(e,t){return Ni(e,null,null,t),Pi(e)}function Ii(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var a=!1,r=e.return;null!==r;)r.childLanes|=n,null!==(i=r.alternate)&&(i.childLanes|=n),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(a=!0)),e=r,r=r.return;return 3===e.tag?(r=e.stateNode,a&&null!==t&&(a=31-me(n),null===(i=(e=r.hiddenUpdates)[a])?e[a]=[t]:i.push(t),t.lane=536870912|n),r):null}function Pi(e){if(50<Iu)throw Iu=0,Pu=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mi={};function Ri(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(e,t,n,i){return new Ri(e,t,n,i)}function Li(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qi(e,t){var n=e.alternate;return null===n?((n=Di(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fi(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ui(e,t,n,i,a,r){var s=0;if(i=e,"function"===typeof e)Li(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=Di(31,n,t,a)).elementType=A,e.lanes=r,e;case g:return Hi(n.children,a,r,t);case y:s=8,a|=24;break;case v:return(e=Di(12,n,t,2|a)).elementType=v,e.lanes=r,e;case w:return(e=Di(13,n,t,a)).elementType=w,e.lanes=r,e;case C:return(e=Di(19,n,t,a)).elementType=C,e.lanes=r,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case k:s=10;break e;case x:s=9;break e;case _:s=11;break e;case S:s=14;break e;case T:s=16,i=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),i=null}return(t=Di(s,n,t,a)).elementType=e,t.type=i,t.lanes=r,t}function Hi(e,t,n,i){return(e=Di(7,e,i,t)).lanes=n,e}function Vi(e,t,n){return(e=Di(6,e,null,t)).lanes=n,e}function zi(e,t,n){return(t=Di(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Bi=[],Gi=0,Ki=null,Ji=0,Wi=[],Yi=0,Zi=null,$i=1,Qi="";function Xi(e,t){Bi[Gi++]=Ji,Bi[Gi++]=Ki,Ki=e,Ji=t}function ea(e,t,n){Wi[Yi++]=$i,Wi[Yi++]=Qi,Wi[Yi++]=Zi,Zi=e;var i=$i;e=Qi;var a=32-me(i)-1;i&=~(1<<a),n+=1;var r=32-me(t)+a;if(30<r){var o=a-a%5;r=(i&(1<<o)-1).toString(32),i>>=o,a-=o,$i=1<<32-me(t)+a|n<<a|i,Qi=r+e}else $i=1<<r|n<<a|i,Qi=e}function ta(e){null!==e.return&&(Xi(e,1),ea(e,1,0))}function na(e){for(;e===Ki;)Ki=Bi[--Gi],Bi[Gi]=null,Ji=Bi[--Gi],Bi[Gi]=null;for(;e===Zi;)Zi=Wi[--Yi],Wi[Yi]=null,Qi=Wi[--Yi],Wi[Yi]=null,$i=Wi[--Yi],Wi[Yi]=null}var ia=null,aa=null,ra=!1,oa=null,sa=!1,la=Error(o(519));function ua(e){throw ha(Ci(Error(o(418,"")),e)),la}function ca(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Ie]=e,t[Pe]=i,n){case"dialog":Lc("cancel",t),Lc("close",t);break;case"iframe":case"object":case"embed":Lc("load",t);break;case"video":case"audio":for(n=0;n<Mc.length;n++)Lc(Mc[n],t);break;case"source":Lc("error",t);break;case"img":case"image":case"link":Lc("error",t),Lc("load",t);break;case"details":Lc("toggle",t);break;case"input":Lc("invalid",t),yt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),dt(t);break;case"select":Lc("invalid",t);break;case"textarea":Lc("invalid",t),kt(t,i.value,i.defaultValue,i.children),dt(t)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||Zc(t.textContent,n)?(null!=i.popover&&(Lc("beforetoggle",t),Lc("toggle",t)),null!=i.onScroll&&Lc("scroll",t),null!=i.onScrollEnd&&Lc("scrollend",t),null!=i.onClick&&(t.onclick=$c),t=!0):t=!1,t||ua(e)}function da(e){for(ia=e.return;ia;)switch(ia.tag){case 5:case 13:return void(sa=!1);case 27:case 3:return void(sa=!0);default:ia=ia.return}}function pa(e){if(e!==ia)return!1;if(!ra)return da(e),ra=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&aa&&ua(e),da(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,md(e.type)?(e=vd,vd=null,aa=e):aa=n):aa=ia?yd(e.stateNode.nextSibling):null;return!0}function ma(){aa=ia=null,ra=!1}function fa(){var e=oa;return null!==e&&(null===bu?bu=e:bu.push.apply(bu,e),oa=null),e}function ha(e){null===oa?oa=[e]:oa.push(e)}var ga=F(null),ya=null,va=null;function ba(e,t,n){H(ga,t._currentValue),t._currentValue=n}function xa(e){e._currentValue=ga.current,U(ga)}function ka(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function _a(e,t,n,i){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var r=a.dependencies;if(null!==r){var s=a.child;r=r.firstContext;e:for(;null!==r;){var l=r;r=a;for(var u=0;u<t.length;u++)if(l.context===t[u]){r.lanes|=n,null!==(l=r.alternate)&&(l.lanes|=n),ka(r.return,n,e),i||(s=null);break e}r=l.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(r=s.alternate)&&(r.lanes|=n),ka(s,n,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function wa(e,t,n,i){e=null;for(var a=t,r=!1;null!==a;){if(!r)if(0!==(524288&a.flags))r=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var s=a.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=a.type;Yn(a.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(a===G.current){if(null===(s=a.alternate))throw Error(o(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Wd):e=[Wd])}a=a.return}null!==e&&_a(t,e,n,i),t.flags|=262144}function Ca(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){ya=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ta(e){return Ea(ya,e)}function Aa(e,t){return null===ya&&Sa(e),Ea(e,t)}function Ea(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(o(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var Na="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ja=i.unstable_scheduleCallback,Oa=i.unstable_NormalPriority,Ia={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pa(){return{controller:new Na,data:new Map,refCount:0}}function Ma(e){e.refCount--,0===e.refCount&&ja(Oa,function(){e.controller.abort()})}var Ra=null,Da=0,La=0,qa=null;function Fa(){if(0===--Da&&null!==Ra){null!==qa&&(qa.status="fulfilled");var e=Ra;Ra=null,La=0,qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ua=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ra){var n=Ra=[];Da=0,La=Nc(),qa={status:"pending",value:void 0,then:function(e){n.push(e)}}}Da++,t.then(Fa,Fa)}(0,t),null!==Ua&&Ua(e,t)};var Ha=F(null);function Va(){var e=Ha.current;return null!==e?e:iu.pooledCache}function za(e,t){H(Ha,null===t?Ha.current:t.pool)}function Ba(){var e=Va();return null===e?null:{parent:Ia._currentValue,pool:e}}var Ga=Error(o(460)),Ka=Error(o(474)),Ja=Error(o(542)),Wa={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Za(){}function $a(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Za,Za),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw er(e=t.reason),e;default:if("string"===typeof t.status)t.then(Za,Za);else{if(null!==(e=iu)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw er(e=t.reason),e}throw Qa=t,Ga}}var Qa=null;function Xa(){if(null===Qa)throw Error(o(459));var e=Qa;return Qa=null,e}function er(e){if(e===Ga||e===Ja)throw Error(o(483))}var tr=!1;function nr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ir(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rr(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&nu)){var a=i.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),i.pending=t,t=Pi(e),Ii(e,null,n),t}return Ni(e,i,t,n),Pi(e)}function or(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ae(e,n)}}function sr(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var a=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===r?a=r=o:r=r.next=o,n=n.next}while(null!==n);null===r?a=r=t:r=r.next=t}else a=r=t;return n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lr=!1;function ur(){if(lr){if(null!==qa)throw qa}}function cr(e,t,n,i){lr=!1;var a=e.updateQueue;tr=!1;var r=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?r=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==r){var d=a.baseState;for(o=0,c=u=l=null,s=r;;){var m=-536870913&s.lane,f=m!==s.lane;if(f?(ru&m)===m:(i&m)===m){0!==m&&m===La&&(lr=!0),null!==c&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var h=e,g=s;m=t;var y=n;switch(g.tag){case 1:if("function"===typeof(h=g.payload)){d=h.call(y,d,m);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=g.payload)?h.call(y,d,m):h)||void 0===m)break e;d=p({},d,m);break e;case 2:tr=!0}}null!==(m=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[m]:f.push(m))}else f={lane:m,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,o|=m;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null===r&&(a.shared.lanes=0),mu|=o,e.lanes=o,e.memoizedState=d}}function dr(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function pr(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)dr(n[e],t)}var mr=F(null),fr=F(0);function hr(e,t){H(fr,e=du),H(mr,t),du=e|t.baseLanes}function gr(){H(fr,du),H(mr,mr.current)}function yr(){du=fr.current,U(mr),U(fr)}var vr=0,br=null,xr=null,kr=null,_r=!1,wr=!1,Cr=!1,Sr=0,Tr=0,Ar=null,Er=0;function Nr(){throw Error(o(321))}function jr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Or(e,t,n,i,a,r){return vr=r,br=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?Ko:Jo,Cr=!1,r=n(i,a),Cr=!1,wr&&(r=Pr(t,n,i,a)),Ir(e),r}function Ir(e){M.H=Go;var t=null!==xr&&null!==xr.next;if(vr=0,kr=xr=br=null,_r=!1,Tr=0,Ar=null,t)throw Error(o(300));null===e||As||null!==(e=e.dependencies)&&Ca(e)&&(As=!0)}function Pr(e,t,n,i){br=e;var a=0;do{if(wr&&(Ar=null),Tr=0,wr=!1,25<=a)throw Error(o(301));if(a+=1,kr=xr=null,null!=e.updateQueue){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,null!=r.memoCache&&(r.memoCache.index=0)}M.H=Wo,r=t(n,i)}while(wr);return r}function Mr(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Ur(t):t,e=e.useState()[0],(null!==xr?xr.memoizedState:null)!==e&&(br.flags|=1024),t}function Rr(){var e=0!==Sr;return Sr=0,e}function Dr(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Lr(e){if(_r){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}_r=!1}vr=0,kr=xr=br=null,wr=!1,Tr=Sr=0,Ar=null}function qr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===kr?br.memoizedState=kr=e:kr=kr.next=e,kr}function Fr(){if(null===xr){var e=br.alternate;e=null!==e?e.memoizedState:null}else e=xr.next;var t=null===kr?br.memoizedState:kr.next;if(null!==t)kr=t,xr=e;else{if(null===e){if(null===br.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(xr=e).memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},null===kr?br.memoizedState=kr=e:kr=kr.next=e}return kr}function Ur(e){var t=Tr;return Tr+=1,null===Ar&&(Ar=[]),e=$a(Ar,e,t),t=br,null===(null===kr?t.memoizedState:kr.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?Ko:Jo),e}function Hr(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ur(e);if(e.$$typeof===k)return Ta(e)}throw Error(o(438,String(e)))}function Vr(e){var t=null,n=br.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=br.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},br.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=E;return t.index++,n}function zr(e,t){return"function"===typeof t?t(e):t}function Br(e){return Gr(Fr(),xr,e)}function Gr(e,t,n){var i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=n;var a=e.baseQueue,r=i.pending;if(null!==r){if(null!==a){var s=a.next;a.next=r.next,r.next=s}t.baseQueue=a=r,i.pending=null}if(r=e.baseState,null===a)e.memoizedState=r;else{var l=s=null,u=null,c=t=a.next,d=!1;do{var p=-536870913&c.lane;if(p!==c.lane?(ru&p)===p:(vr&p)===p){var m=c.revertLane;if(0===m)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===La&&(d=!0);else{if((vr&m)===m){c=c.next,m===La&&(d=!0);continue}p={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=p,s=r):u=u.next=p,br.lanes|=m,mu|=m}p=c.action,Cr&&n(r,p),r=c.hasEagerState?c.eagerState:n(r,p)}else m={lane:p,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=m,s=r):u=u.next=m,br.lanes|=p,mu|=p;c=c.next}while(null!==c&&c!==t);if(null===u?s=r:u.next=l,!Yn(r,e.memoizedState)&&(As=!0,d&&null!==(n=qa)))throw n;e.memoizedState=r,e.baseState=s,e.baseQueue=u,i.lastRenderedState=r}return null===a&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Kr(e){var t=Fr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,r=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{r=e(r,s.action),s=s.next}while(s!==a);Yn(r,t.memoizedState)||(As=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function Jr(e,t,n){var i=br,a=Fr(),r=ra;if(r){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Yn((xr||a).memoizedState,n);if(s&&(a.memoizedState=n,As=!0),a=a.queue,yo(2048,8,Zr.bind(null,i,a,e),[e]),a.getSnapshot!==t||s||null!==kr&&1&kr.memoizedState.tag){if(i.flags|=2048,fo(9,{destroy:void 0,resource:void 0},Yr.bind(null,i,a,n,t),null),null===iu)throw Error(o(349));r||0!==(124&vr)||Wr(i,t,n)}return n}function Wr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=br.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},br.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yr(e,t,n,i){t.value=n,t.getSnapshot=i,$r(t)&&Qr(e)}function Zr(e,t,n){return n(function(){$r(t)&&Qr(e)})}function $r(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(i){return!0}}function Qr(e){var t=Oi(e,2);null!==t&&Du(t,e,2)}function Xr(e){var t=qr();if("function"===typeof e){var n=e;if(e=n(),Cr){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t}function eo(e,t,n,i){return e.baseState=n,Gr(e,xr,"function"===typeof i?i:zr)}function to(e,t,n,i,a){if(Vo(e))throw Error(o(485));if(null!==(e=t.action)){var r={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){r.listeners.push(e)}};null!==M.T?n(!0):r.isTransition=!1,i(r),null===(n=t.pending)?(r.next=t.pending=r,no(t,r)):(r.next=n.next,t.pending=n.next=r)}}function no(e,t){var n=t.action,i=t.payload,a=e.state;if(t.isTransition){var r=M.T,o={};M.T=o;try{var s=n(a,i),l=M.S;null!==l&&l(o,s),io(e,t,s)}catch(u){ro(e,t,u)}finally{M.T=r}}else try{io(e,t,r=n(a,i))}catch(c){ro(e,t,c)}}function io(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ao(e,t,n)},function(n){return ro(e,t,n)}):ao(e,t,n)}function ao(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function ro(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==i)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function so(e,t){return t}function lo(e,t){if(ra){var n=iu.formState;if(null!==n){e:{var i=br;if(ra){if(aa){t:{for(var a=aa,r=sa;8!==a.nodeType;){if(!r){a=null;break t}if(null===(a=yd(a.nextSibling))){a=null;break t}}a="F!"===(r=a.data)||"F"===r?a:null}if(a){aa=yd(a.nextSibling),i="F!"===a.data;break e}}ua(i)}i=!1}i&&(t=n[0])}}return(n=qr()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},n.queue=i,n=Fo.bind(null,br,i),i.dispatch=n,i=Xr(!1),r=Ho.bind(null,br,!1,i.queue),a={state:t,dispatch:null,action:e,pending:null},(i=qr()).queue=a,n=to.bind(null,br,a,r,n),a.dispatch=n,i.memoizedState=e,[t,n,!1]}function uo(e){return co(Fr(),xr,e)}function co(e,t,n){if(t=Gr(e,t,so)[0],e=Br(zr)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var i=Ur(t)}catch(o){if(o===Ga)throw Ja;throw o}else i=t;var a=(t=Fr()).queue,r=a.dispatch;return n!==t.memoizedState&&(br.flags|=2048,fo(9,{destroy:void 0,resource:void 0},po.bind(null,a,n),null)),[i,r,e]}function po(e,t){e.action=t}function mo(e){var t=Fr(),n=xr;if(null!==n)return co(t,n,e);Fr(),t=t.memoizedState;var i=(n=Fr()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function fo(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=br.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},br.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ho(){return Fr().memoizedState}function go(e,t,n,i){var a=qr();i=void 0===i?null:i,br.flags|=e,a.memoizedState=fo(1|t,{destroy:void 0,resource:void 0},n,i)}function yo(e,t,n,i){var a=Fr();i=void 0===i?null:i;var r=a.memoizedState.inst;null!==xr&&null!==i&&jr(i,xr.memoizedState.deps)?a.memoizedState=fo(t,r,n,i):(br.flags|=e,a.memoizedState=fo(1|t,r,n,i))}function vo(e,t){go(8390656,8,e,t)}function bo(e,t){yo(2048,8,e,t)}function xo(e,t){return yo(4,2,e,t)}function ko(e,t){return yo(4,4,e,t)}function _o(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function wo(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yo(4,4,_o.bind(null,t,e),n)}function Co(){}function So(e,t){var n=Fr();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&jr(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function To(e,t){var n=Fr();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&jr(t,i[1]))return i[0];if(i=e(),Cr){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[i,t],i}function Ao(e,t,n){return void 0===n||0!==(1073741824&vr)?e.memoizedState=t:(e.memoizedState=n,e=Ru(),br.lanes|=e,mu|=e,n)}function Eo(e,t,n,i){return Yn(n,t)?n:null!==mr.current?(e=Ao(e,n,i),Yn(e,t)||(As=!0),e):0===(42&vr)?(As=!0,e.memoizedState=n):(e=Ru(),br.lanes|=e,mu|=e,t)}function No(e,t,n,i,a){var r=R.p;R.p=0!==r&&8>r?r:8;var o=M.T,s={};M.T=s,Ho(e,!1,t,n);try{var l=a(),u=M.S;if(null!==u&&u(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Uo(e,t,function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),i}(l,i),Mu());else Uo(e,t,i,Mu())}catch(c){Uo(e,t,{then:function(){},status:"rejected",reason:c},Mu())}finally{R.p=r,M.T=o}}function jo(){}function Oo(e,t,n,i){if(5!==e.tag)throw Error(o(476));var a=Io(e).queue;No(e,a,t,D,null===n?jo:function(){return Po(e),n(i)})}function Io(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Po(e){Uo(e,Io(e).next.queue,{},Mu())}function Mo(){return Ta(Wd)}function Ro(){return Fr().memoizedState}function Do(){return Fr().memoizedState}function Lo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Mu(),i=rr(t,e=ar(n),n);return null!==i&&(Du(i,t,n),or(i,t,n)),t={cache:Pa()},void(e.payload=t)}t=t.return}}function qo(e,t,n){var i=Mu();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Vo(e)?zo(t,n):null!==(n=ji(e,t,n,i))&&(Du(n,e,i),Bo(n,t,i))}function Fo(e,t,n){Uo(e,t,n,Mu())}function Uo(e,t,n,i){var a={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vo(e))zo(t,a);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=r(o,n);if(a.hasEagerState=!0,a.eagerState=s,Yn(s,o))return Ni(e,t,a,0),null===iu&&Ei(),!1}catch(l){}if(null!==(n=ji(e,t,a,i)))return Du(n,e,i),Bo(n,t,i),!0}return!1}function Ho(e,t,n,i){if(i={lane:2,revertLane:Nc(),action:i,hasEagerState:!1,eagerState:null,next:null},Vo(e)){if(t)throw Error(o(479))}else null!==(t=ji(e,n,i,2))&&Du(t,e,2)}function Vo(e){var t=e.alternate;return e===br||null!==t&&t===br}function zo(e,t){wr=_r=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bo(e,t,n){if(0!==(4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Ae(e,n)}}var Go={readContext:Ta,use:Hr,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useLayoutEffect:Nr,useInsertionEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useSyncExternalStore:Nr,useId:Nr,useHostTransitionStatus:Nr,useFormState:Nr,useActionState:Nr,useOptimistic:Nr,useMemoCache:Nr,useCacheRefresh:Nr},Ko={readContext:Ta,use:Hr,useCallback:function(e,t){return qr().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:vo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,go(4194308,4,_o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){go(4,2,e,t)},useMemo:function(e,t){var n=qr();t=void 0===t?null:t;var i=e();if(Cr){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=qr();if(void 0!==n){var a=n(t);if(Cr){pe(!0);try{n(t)}finally{pe(!1)}}}else a=t;return i.memoizedState=i.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},i.queue=e,e=e.dispatch=qo.bind(null,br,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},qr().memoizedState=e},useState:function(e){var t=(e=Xr(e)).queue,n=Fo.bind(null,br,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Co,useDeferredValue:function(e,t){return Ao(qr(),e,t)},useTransition:function(){var e=Xr(!1);return e=No.bind(null,br,e.queue,!0,!1),qr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=br,a=qr();if(ra){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===iu)throw Error(o(349));0!==(124&ru)||Wr(i,t,n)}a.memoizedState=n;var r={value:n,getSnapshot:t};return a.queue=r,vo(Zr.bind(null,i,r,e),[e]),i.flags|=2048,fo(9,{destroy:void 0,resource:void 0},Yr.bind(null,i,r,n,t),null),n},useId:function(){var e=qr(),t=iu.identifierPrefix;if(ra){var n=Qi;t="\xab"+t+"R"+(n=($i&~(1<<32-me($i)-1)).toString(32)+n),0<(n=Sr++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Er++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Mo,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=qr();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ho.bind(null,br,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vr,useCacheRefresh:function(){return qr().memoizedState=Lo.bind(null,br)}},Jo={readContext:Ta,use:Hr,useCallback:So,useContext:Ta,useEffect:bo,useImperativeHandle:wo,useInsertionEffect:xo,useLayoutEffect:ko,useMemo:To,useReducer:Br,useRef:ho,useState:function(){return Br(zr)},useDebugValue:Co,useDeferredValue:function(e,t){return Eo(Fr(),xr.memoizedState,e,t)},useTransition:function(){var e=Br(zr)[0],t=Fr().memoizedState;return["boolean"===typeof e?e:Ur(e),t]},useSyncExternalStore:Jr,useId:Ro,useHostTransitionStatus:Mo,useFormState:uo,useActionState:uo,useOptimistic:function(e,t){return eo(Fr(),0,e,t)},useMemoCache:Vr,useCacheRefresh:Do},Wo={readContext:Ta,use:Hr,useCallback:So,useContext:Ta,useEffect:bo,useImperativeHandle:wo,useInsertionEffect:xo,useLayoutEffect:ko,useMemo:To,useReducer:Kr,useRef:ho,useState:function(){return Kr(zr)},useDebugValue:Co,useDeferredValue:function(e,t){var n=Fr();return null===xr?Ao(n,e,t):Eo(n,xr.memoizedState,e,t)},useTransition:function(){var e=Kr(zr)[0],t=Fr().memoizedState;return["boolean"===typeof e?e:Ur(e),t]},useSyncExternalStore:Jr,useId:Ro,useHostTransitionStatus:Mo,useFormState:mo,useActionState:mo,useOptimistic:function(e,t){var n=Fr();return null!==xr?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vr,useCacheRefresh:Do},Yo=null,Zo=0;function $o(e){var t=Zo;return Zo+=1,null===Yo&&(Yo=[]),$a(Yo,e,t)}function Qo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xo(e,t){if(t.$$typeof===m)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=qi(e,t)).index=0,e.sibling=null,e}function r(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Vi(n,e.mode,i)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,i){var r=n.type;return r===g?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===T&&es(r)===t.type)?(Qo(t=a(t,n.props),n),t.return=e,t):(Qo(t=Ui(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zi(n,e.mode,i)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,i,r){return null===t||7!==t.tag?((t=Hi(n,e.mode,i,r)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vi(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Qo(n=Ui(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=zi(t,e.mode,n)).return=e,t;case T:return p(e,t=(0,t._init)(t._payload),n)}if(P(t)||j(t))return(t=Hi(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,$o(t),n);if(t.$$typeof===k)return p(e,Aa(e,t),n);Xo(e,t)}return null}function m(e,t,n,i){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===a?u(e,t,n,i):null;case h:return n.key===a?c(e,t,n,i):null;case T:return m(e,t,n=(a=n._init)(n._payload),i)}if(P(n)||j(n))return null!==a?null:d(e,t,n,i,null);if("function"===typeof n.then)return m(e,t,$o(n),i);if(n.$$typeof===k)return m(e,t,Aa(e,n),i);Xo(e,n)}return null}function y(e,t,n,i,a){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(t,e=e.get(n)||null,""+i,a);if("object"===typeof i&&null!==i){switch(i.$$typeof){case f:return u(t,e=e.get(null===i.key?n:i.key)||null,i,a);case h:return c(t,e=e.get(null===i.key?n:i.key)||null,i,a);case T:return y(e,t,n,i=(0,i._init)(i._payload),a)}if(P(i)||j(i))return d(t,e=e.get(n)||null,i,a,null);if("function"===typeof i.then)return y(e,t,n,$o(i),a);if(i.$$typeof===k)return y(e,t,n,Aa(t,i),a);Xo(t,i)}return null}function v(l,u,c,d){if("object"===typeof c&&null!==c&&c.type===g&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case f:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===g){if(7===u.tag){n(l,u.sibling),(d=a(u,c.props.children)).return=l,l=d;break e}}else if(u.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&es(b)===u.type){n(l,u.sibling),Qo(d=a(u,c.props),c),d.return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===g?((d=Hi(c.props.children,l.mode,d,c.key)).return=l,l=d):(Qo(d=Ui(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return s(l);case h:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(d=a(u,c.children||[])).return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}(d=zi(c,l.mode,d)).return=l,l=d}return s(l);case T:return v(l,u,c=(b=c._init)(c._payload),d)}if(P(c))return function(a,o,s,l){for(var u=null,c=null,d=o,f=o=0,h=null;null!==d&&f<s.length;f++){d.index>f?(h=d,d=null):h=d.sibling;var g=m(a,d,s[f],l);if(null===g){null===d&&(d=h);break}e&&d&&null===g.alternate&&t(a,d),o=r(g,o,f),null===c?u=g:c.sibling=g,c=g,d=h}if(f===s.length)return n(a,d),ra&&Xi(a,f),u;if(null===d){for(;f<s.length;f++)null!==(d=p(a,s[f],l))&&(o=r(d,o,f),null===c?u=d:c.sibling=d,c=d);return ra&&Xi(a,f),u}for(d=i(d);f<s.length;f++)null!==(h=y(d,a,f,s[f],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?f:h.key),o=r(h,o,f),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach(function(e){return t(a,e)}),ra&&Xi(a,f),u}(l,u,c,d);if(j(c)){if("function"!==typeof(b=j(c)))throw Error(o(150));return function(a,s,l,u){if(null==l)throw Error(o(151));for(var c=null,d=null,f=s,h=s=0,g=null,v=l.next();null!==f&&!v.done;h++,v=l.next()){f.index>h?(g=f,f=null):g=f.sibling;var b=m(a,f,v.value,u);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(a,f),s=r(b,s,h),null===d?c=b:d.sibling=b,d=b,f=g}if(v.done)return n(a,f),ra&&Xi(a,h),c;if(null===f){for(;!v.done;h++,v=l.next())null!==(v=p(a,v.value,u))&&(s=r(v,s,h),null===d?c=v:d.sibling=v,d=v);return ra&&Xi(a,h),c}for(f=i(f);!v.done;h++,v=l.next())null!==(v=y(f,a,h,v.value,u))&&(e&&null!==v.alternate&&f.delete(null===v.key?h:v.key),s=r(v,s,h),null===d?c=v:d.sibling=v,d=v);return e&&f.forEach(function(e){return t(a,e)}),ra&&Xi(a,h),c}(l,u,c=b.call(c),d)}if("function"===typeof c.then)return v(l,u,$o(c),d);if(c.$$typeof===k)return v(l,u,Aa(l,c),d);Xo(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(d=a(u,c)).return=l,l=d):(n(l,u),(d=Vi(c,l.mode,d)).return=l,l=d),s(l)):n(l,u)}return function(e,t,n,i){try{Zo=0;var a=v(e,t,n,i);return Yo=null,a}catch(o){if(o===Ga||o===Ja)throw o;var r=Di(29,o,null,e.mode);return r.lanes=i,r.return=e,r}}}var ns=ts(!0),is=ts(!1),as=F(null),rs=null;function os(e){var t=e.alternate;H(cs,1&cs.current),H(as,e),null===rs&&(null===t||null!==mr.current||null!==t.memoizedState)&&(rs=e)}function ss(e){if(22===e.tag){if(H(cs,cs.current),H(as,e),null===rs){var t=e.alternate;null!==t&&null!==t.memoizedState&&(rs=e)}}else ls()}function ls(){H(cs,cs.current),H(as,as.current)}function us(e){U(as),rs===e&&(rs=null),U(cs)}var cs=F(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ps(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ms={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Mu(),a=ar(i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=rr(e,a,i))&&(Du(t,e,i),or(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Mu(),a=ar(i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=rr(e,a,i))&&(Du(t,e,i),or(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mu(),i=ar(n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=rr(e,i,n))&&(Du(t,e,n),or(t,e,n))}};function fs(e,t,n,i,a,r,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,o):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,i)||!Zn(a,r))}function hs(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ms.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var a in n===t&&(n=p({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var ys="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vs(e){ys(e)}function bs(e){console.error(e)}function xs(e){ys(e)}function ks(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function _s(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function ws(e,t,n){return(n=ar(n)).tag=3,n.payload={element:null},n.callback=function(){ks(e,t)},n}function Cs(e){return(e=ar(e)).tag=3,e}function Ss(e,t,n,i){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var r=i.value;e.payload=function(){return a(r)},e.callback=function(){_s(t,n,i)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){_s(t,n,i),"function"!==typeof a&&(null===Cu?Cu=new Set([this]):Cu.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Ts=Error(o(461)),As=!1;function Es(e,t,n,i){t.child=null===e?is(t,null,n,i):ns(t,e.child,n,i)}function Ns(e,t,n,i,a){n=n.render;var r=t.ref;if("ref"in i){var o={};for(var s in i)"ref"!==s&&(o[s]=i[s])}else o=i;return Sa(t),i=Or(e,t,n,o,r,a),s=Rr(),null===e||As?(ra&&s&&ta(t),t.flags|=1,Es(e,t,i,a),t.child):(Dr(e,t,a),Ys(e,t,a))}function js(e,t,n,i,a){if(null===e){var r=n.type;return"function"!==typeof r||Li(r)||void 0!==r.defaultProps||null!==n.compare?((e=Ui(n.type,null,i,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Os(e,t,r,i,a))}if(r=e.child,!Zs(e,a)){var o=r.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(o,i)&&e.ref===t.ref)return Ys(e,t,a)}return t.flags|=1,(e=qi(r,i)).ref=t.ref,e.return=t,t.child=e}function Os(e,t,n,i,a){if(null!==e){var r=e.memoizedProps;if(Zn(r,i)&&e.ref===t.ref){if(As=!1,t.pendingProps=i=r,!Zs(e,a))return t.lanes=e.lanes,Ys(e,t,a);0!==(131072&e.flags)&&(As=!0)}}return Rs(e,t,n,i,a)}function Is(e,t,n){var i=t.pendingProps,a=i.children,r=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(0!==(128&t.flags)){if(i=null!==r?r.baseLanes|n:n,null!==e){for(a=t.child=e.child,r=0;null!==a;)r=r|a.lanes|a.childLanes,a=a.sibling;t.childLanes=r&~i}else t.childLanes=0,t.child=null;return Ps(e,t,i,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ps(e,t,null!==r?r.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&za(0,null!==r?r.cachePool:null),null!==r?hr(t,r):gr(),ss(t)}else null!==r?(za(0,r.cachePool),hr(t,r),ls(),t.memoizedState=null):(null!==e&&za(0,null),gr(),ls());return Es(e,t,a,n),t.child}function Ps(e,t,n,i){var a=Va();return a=null===a?null:{parent:Ia._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&za(0,null),gr(),ss(t),null!==e&&wa(e,t,i,!0),null}function Ms(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Rs(e,t,n,i,a){return Sa(t),n=Or(e,t,n,i,void 0,a),i=Rr(),null===e||As?(ra&&i&&ta(t),t.flags|=1,Es(e,t,n,a),t.child):(Dr(e,t,a),Ys(e,t,a))}function Ds(e,t,n,i,a,r){return Sa(t),t.updateQueue=null,n=Pr(t,i,n,a),Ir(e),i=Rr(),null===e||As?(ra&&i&&ta(t),t.flags|=1,Es(e,t,n,r),t.child):(Dr(e,t,r),Ys(e,t,r))}function Ls(e,t,n,i,a){if(Sa(t),null===t.stateNode){var r=Mi,o=n.contextType;"object"===typeof o&&null!==o&&(r=Ta(o)),r=new n(i,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=ms,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=i,r.state=t.memoizedState,r.refs={},nr(t),o=n.contextType,r.context="object"===typeof o&&null!==o?Ta(o):Mi,r.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(ps(t,n,o,i),r.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(o=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),o!==r.state&&ms.enqueueReplaceState(r,r.state,null),cr(t,i,r,a),ur(),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){r=t.stateNode;var s=t.memoizedProps,l=gs(n,s);r.props=l;var u=r.context,c=n.contextType;o=Mi,"object"===typeof c&&null!==c&&(o=Ta(c));var d=n.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate,s=t.pendingProps!==s,c||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(s||u!==o)&&hs(t,r,i,o),tr=!1;var p=t.memoizedState;r.state=p,cr(t,i,r,a),ur(),u=t.memoizedState,s||p!==u||tr?("function"===typeof d&&(ps(t,n,d,i),u=t.memoizedState),(l=tr||fs(t,n,l,i,p,u,o))?(c||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),r.props=i,r.state=u,r.context=o,i=l):("function"===typeof r.componentDidMount&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,ir(e,t),c=gs(n,o=t.memoizedProps),r.props=c,d=t.pendingProps,p=r.context,u=n.contextType,l=Mi,"object"===typeof u&&null!==u&&(l=Ta(u)),(u="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==d||p!==l)&&hs(t,r,i,l),tr=!1,p=t.memoizedState,r.state=p,cr(t,i,r,a),ur();var m=t.memoizedState;o!==d||p!==m||tr||null!==e&&null!==e.dependencies&&Ca(e.dependencies)?("function"===typeof s&&(ps(t,n,s,i),m=t.memoizedState),(c=tr||fs(t,n,c,i,p,m,l)||null!==e&&null!==e.dependencies&&Ca(e.dependencies))?(u||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(i,m,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(i,m,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),r.props=i,r.state=m,r.context=l,i=c):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,Ms(e,t),i=0!==(128&t.flags),r||i?(r=t.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&i?(t.child=ns(t,e.child,null,a),t.child=ns(t,null,n,a)):Es(e,t,n,a),t.memoizedState=r.state,e=t.child):e=Ys(e,t,a),e}function qs(e,t,n,i){return ma(),t.flags|=256,Es(e,t,n,i),t.child}var Fs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Us(e){return{baseLanes:e,cachePool:Ba()}}function Hs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gu),e}function Vs(e,t,n){var i,a=t.pendingProps,r=!1,s=0!==(128&t.flags);if((i=s)||(i=(null===e||null!==e.memoizedState)&&0!==(2&cs.current)),i&&(r=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(ra){if(r?os(t):ls(),ra){var l,u=aa;if(l=u){e:{for(l=u,u=sa;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=yd(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==Zi?{id:$i,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},(l=Di(18,null,null,0)).stateNode=u,l.return=t,t.child=l,ia=t,aa=null,l=!0):l=!1}l||ua(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return gd(u)?t.lanes=32:t.lanes=536870912,null;us(t)}return u=a.children,a=a.fallback,r?(ls(),u=Bs({mode:"hidden",children:u},r=t.mode),a=Hi(a,r,n,null),u.return=t,a.return=t,u.sibling=a,t.child=u,(r=t.child).memoizedState=Us(n),r.childLanes=Hs(e,i,n),t.memoizedState=Fs,a):(os(t),zs(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(s)256&t.flags?(os(t),t.flags&=-257,t=Gs(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),r=a.fallback,u=t.mode,a=Bs({mode:"visible",children:a.children},u),(r=Hi(r,u,n,null)).flags|=2,a.return=t,r.return=t,a.sibling=r,t.child=a,ns(t,e.child,null,n),(a=t.child).memoizedState=Us(n),a.childLanes=Hs(e,i,n),t.memoizedState=Fs,t=r);else if(os(t),gd(u)){if(i=u.nextSibling&&u.nextSibling.dataset)var c=i.dgst;i=c,(a=Error(o(419))).stack="",a.digest=i,ha({value:a,source:null,stack:null}),t=Gs(e,t,n)}else if(As||wa(e,t,n,!1),i=0!==(n&e.childLanes),As||i){if(null!==(i=iu)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Ee(a))&(i.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Oi(e,a),Du(i,e,a),Ts;"$?"===u.data||Ju(),t=Gs(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,aa=yd(u.nextSibling),ia=t,ra=!0,oa=null,sa=!1,null!==e&&(Wi[Yi++]=$i,Wi[Yi++]=Qi,Wi[Yi++]=Zi,$i=e.id,Qi=e.overflow,Zi=t),(t=zs(t,a.children)).flags|=4096);return t}return r?(ls(),r=a.fallback,u=t.mode,c=(l=e.child).sibling,(a=qi(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?r=qi(c,r):(r=Hi(r,u,n,null)).flags|=2,r.return=t,a.return=t,a.sibling=r,t.child=a,a=r,r=t.child,null===(u=e.child.memoizedState)?u=Us(n):(null!==(l=u.cachePool)?(c=Ia._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Ba(),u={baseLanes:u.baseLanes|n,cachePool:l}),r.memoizedState=u,r.childLanes=Hs(e,i,n),t.memoizedState=Fs,a):(os(t),e=(n=e.child).sibling,(n=qi(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function zs(e,t){return(t=Bs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Bs(e,t){return(e=Di(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Gs(e,t,n){return ns(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ks(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),ka(e.return,t,n)}function Js(e,t,n,i,a){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=a)}function Ws(e,t,n){var i=t.pendingProps,a=i.revealOrder,r=i.tail;if(Es(e,t,i.children,n),0!==(2&(i=cs.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ks(e,n,t);else if(19===e.tag)Ks(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(H(cs,i),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Js(t,!1,a,n,r);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ds(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Js(t,!0,n,null,r);break;case"together":Js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ys(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),mu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(wa(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=qi(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qi(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ca(e))}function $s(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)As=!0;else{if(!Zs(e,n)&&0===(128&t.flags))return As=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),ba(0,Ia,e.memoizedState.cache),ma();break;case 27:case 5:W(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:ba(0,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(os(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vs(e,t,n):(os(t),null!==(e=Ys(e,t,n))?e.sibling:null);os(t);break;case 19:var a=0!==(128&e.flags);if((i=0!==(n&t.childLanes))||(wa(e,t,n,!1),i=0!==(n&t.childLanes)),a){if(i)return Ws(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),H(cs,cs.current),i)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n);case 24:ba(0,Ia,e.memoizedState.cache)}return Ys(e,t,n)}(e,t,n);As=0!==(131072&e.flags)}else As=!1,ra&&0!==(1048576&t.flags)&&ea(t,Ji,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,a=i._init;if(i=a(i._payload),t.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((a=i.$$typeof)===_){t.tag=11,t=Ns(null,t,i,e,n);break e}if(a===S){t.tag=14,t=js(null,t,i,e,n);break e}}throw t=I(i)||i,Error(o(306,t,""))}Li(i)?(e=gs(i,e),t.tag=1,t=Ls(null,t,i,e,n)):(t.tag=0,t=Rs(null,t,i,e,n))}return t;case 0:return Rs(e,t,t.type,t.pendingProps,n);case 1:return Ls(e,t,i=t.type,a=gs(i,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));i=t.pendingProps;var r=t.memoizedState;a=r.element,ir(e,t),cr(t,i,null,n);var s=t.memoizedState;if(i=s.cache,ba(0,Ia,i),i!==r.cache&&_a(t,[Ia],n,!0),ur(),i=s.element,r.isDehydrated){if(r={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=qs(e,t,i,n);break e}if(i!==a){ha(a=Ci(Error(o(424)),t)),t=qs(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=yd(e.firstChild),ia=t,ra=!0,oa=null,sa=!0,n=is(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ma(),i===a){t=Ys(e,t,n);break e}Es(e,t,i,n)}t=t.child}return t;case 26:return Ms(e,t),null===e?(n=Ed(t.type,null,t.pendingProps,null))?t.memoizedState=n:ra||(n=t.type,e=t.pendingProps,(i=id(B.current).createElement(n))[Ie]=t,i[Pe]=e,ed(i,n,e),Ge(i),t.stateNode=i):t.memoizedState=Ed(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return W(t),null===e&&ra&&(i=t.stateNode=xd(t.type,t.pendingProps,B.current),ia=t,sa=!0,a=aa,md(t.type)?(vd=a,aa=yd(i.firstChild)):aa=a),Es(e,t,t.pendingProps.children,n),Ms(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ra&&((a=i=aa)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===r)return e}if(null===(e=yd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,sa))?(t.stateNode=i,ia=t,aa=yd(i.firstChild),sa=!1,a=!0):a=!1),a||ua(t)),W(t),a=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,i=r.children,od(a,r)?i=null:null!==s&&od(a,s)&&(t.flags|=32),null!==t.memoizedState&&(a=Or(e,t,Mr,null,null,n),Wd._currentValue=a),Ms(e,t),Es(e,t,i,n),t.child;case 6:return null===e&&ra&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,sa))?(t.stateNode=n,ia=t,aa=null,e=!0):e=!1),e||ua(t)),null;case 13:return Vs(e,t,n);case 4:return K(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ns(t,null,i,n):Es(e,t,i,n),t.child;case 11:return Ns(e,t,t.type,t.pendingProps,n);case 7:return Es(e,t,t.pendingProps,n),t.child;case 8:case 12:return Es(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ba(0,t.type,i.value),Es(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,Sa(t),i=i(a=Ta(a)),t.flags|=1,Es(e,t,i,n),t.child;case 14:return js(e,t,t.type,t.pendingProps,n);case 15:return Os(e,t,t.type,t.pendingProps,n);case 19:return Ws(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Bs(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=qi(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Is(e,t,n);case 24:return Sa(t),i=Ta(Ia),null===e?(null===(a=Va())&&(a=iu,r=Pa(),a.pooledCache=r,r.refCount++,null!==r&&(a.pooledCacheLanes|=n),a=r),t.memoizedState={parent:i,cache:a},nr(t),ba(0,Ia,a)):(0!==(e.lanes&n)&&(ir(e,t),cr(t,null,null,n),ur()),a=e.memoizedState,r=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ba(0,Ia,i)):(i=r.cache,ba(0,Ia,i),i!==a.cache&&_a(t,[Ia],n,!0))),Es(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Qs(e){e.flags|=4}function Xs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Hd(t)){if(null!==(t=as.current)&&((4194048&ru)===ru?null!==rs:(62914560&ru)!==ru&&0===(536870912&ru)||t!==rs))throw Qa=Wa,Ka;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?we():536870912,e.lanes|=t,yu|=t)}function tl(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,i|=65011712&a.subtreeFlags,i|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function il(e,t,n){var i=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),xa(Ia),J(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(pa(t)?Qs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fa())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Qs(t),null!==n?(nl(t),Xs(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Qs(t),nl(t),Xs(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==i&&Qs(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=B.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Qs(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return nl(t),null}e=V.current,pa(t)?ca(t):(e=xd(a,i,n),t.stateNode=e,Qs(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Qs(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return nl(t),null}if(e=V.current,pa(t))ca(t);else{switch(a=id(B.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof i.is?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"===typeof i.is?a.createElement(n,{is:i.is}):a.createElement(n)}}e[Ie]=t,e[Pe]=i;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Qs(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Qs(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(e=B.current,pa(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(a=ia))switch(a.tag){case 27:case 5:i=a.memoizedProps}e[Ie]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Zc(e.nodeValue,n)))||ua(t)}else(e=id(e).createTextNode(i))[Ie]=t,t.stateNode=e}return nl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=pa(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[Ie]=t}else ma(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),a=!1}else a=fa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(us(t),t):(us(t),null)}if(us(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(a=i.alternate.memoizedState.cachePool.pool);var r=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return J(),null===e&&Uc(t.stateNode.containerInfo),nl(t),null;case 10:return xa(t.type),nl(t),null;case 19:if(U(cs),null===(a=t.memoizedState))return nl(t),null;if(i=0!==(128&t.flags),null===(r=a.rendering))if(i)tl(a,!1);else{if(0!==pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(r=ds(e))){for(t.flags|=128,tl(a,!1),e=r.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fi(n,e),n=n.sibling;return H(cs,1&cs.current|2),t.child}e=e.sibling}null!==a.tail&&te()>_u&&(t.flags|=128,i=!0,tl(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ds(r))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!r.alternate&&!ra)return nl(t),null}else 2*te()-a.renderingStartTime>_u&&536870912!==n&&(t.flags|=128,i=!0,tl(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=a.last)?e.sibling=r:t.child=r,a.last=r)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=cs.current,H(cs,i?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return us(t),yr(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&U(Ha),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xa(Ia),nl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function al(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xa(Ia),J(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(us(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(cs),null;case 4:return J(),null;case 10:return xa(t.type),null;case 22:case 23:return us(t),yr(),null!==e&&U(Ha),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xa(Ia),null;default:return null}}function rl(e,t){switch(na(t),t.tag){case 3:xa(Ia),J();break;case 26:case 27:case 5:Y(t);break;case 4:J();break;case 13:us(t);break;case 19:U(cs);break;case 10:xa(t.type);break;case 22:case 23:us(t),yr(),null!==e&&U(Ha);break;case 24:xa(Ia)}}function ol(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var a=i.next;n=a;do{if((n.tag&e)===e){i=void 0;var r=n.create,o=n.inst;i=r(),o.destroy=i}n=n.next}while(n!==a)}}catch(s){cc(t,t.return,s)}}function sl(e,t,n){try{var i=t.updateQueue,a=null!==i?i.lastEffect:null;if(null!==a){var r=a.next;i=r;do{if((i.tag&e)===e){var o=i.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,a=t;var l=n,u=s;try{u()}catch(c){cc(a,l,c)}}}i=i.next}while(i!==r)}}catch(c){cc(t,t.return,c)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{pr(t,n)}catch(i){cc(e,e.return,i)}}}function ul(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){cc(e,t,i)}}function cl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(a){cc(e,t,a)}}function dl(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(a){cc(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(r){cc(e,t,r)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){cc(e,e.return,a)}}function ml(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,r=null,s=null,l=null,u=null,c=null,d=null;for(f in n){var p=n[f];if(n.hasOwnProperty(f)&&null!=p)switch(f){case"checked":case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(f)||Qc(e,t,f,null,i,p)}}for(var m in i){var f=i[m];if(p=n[m],i.hasOwnProperty(m)&&(null!=f||null!=p))switch(m){case"type":r=f;break;case"name":a=f;break;case"checked":c=f;break;case"defaultChecked":d=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:f!==p&&Qc(e,t,m,f,i,p)}}return void gt(e,s,l,u,c,d,r,a);case"select":for(r in f=s=l=m=null,n)if(u=n[r],n.hasOwnProperty(r)&&null!=u)switch(r){case"value":break;case"multiple":f=u;default:i.hasOwnProperty(r)||Qc(e,t,r,null,i,u)}for(a in i)if(r=i[a],u=n[a],i.hasOwnProperty(a)&&(null!=r||null!=u))switch(a){case"value":m=r;break;case"defaultValue":l=r;break;case"multiple":s=r;default:r!==u&&Qc(e,t,a,r,i,u)}return t=l,n=s,i=f,void(null!=m?bt(e,!!n,m,!1):!!i!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=m=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Qc(e,t,l,null,i,a)}for(s in i)if(a=i[s],r=n[s],i.hasOwnProperty(s)&&(null!=a||null!=r))switch(s){case"value":m=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(o(91));break;default:a!==r&&Qc(e,t,s,a,i,r)}return void xt(e,m,f);case"option":for(var h in n)if(m=n[h],n.hasOwnProperty(h)&&null!=m&&!i.hasOwnProperty(h))if("selected"===h)e.selected=!1;else Qc(e,t,h,null,i,m);for(u in i)if(m=i[u],f=n[u],i.hasOwnProperty(u)&&m!==f&&(null!=m||null!=f))if("selected"===u)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else Qc(e,t,u,m,i,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!i.hasOwnProperty(g)&&Qc(e,t,g,null,i,m);for(c in i)if(m=i[c],f=n[c],i.hasOwnProperty(c)&&m!==f&&(null!=m||null!=f))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(o(137,t));break;default:Qc(e,t,c,m,i,f)}return;default:if(Tt(t)){for(var y in n)m=n[y],n.hasOwnProperty(y)&&void 0!==m&&!i.hasOwnProperty(y)&&Xc(e,t,y,void 0,i,m);for(d in i)m=i[d],f=n[d],!i.hasOwnProperty(d)||m===f||void 0===m&&void 0===f||Xc(e,t,d,m,i,f);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&null!=m&&!i.hasOwnProperty(v)&&Qc(e,t,v,null,i,m);for(p in i)m=i[p],f=n[p],!i.hasOwnProperty(p)||m===f||null==m&&null==f||Qc(e,t,p,m,i,f)}(i,e.type,n,t),i[Pe]=t}catch(a){cc(e,e.return,a)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&md(e.type)||4===e.tag}function hl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&md(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$c));else if(4!==i&&(27===i&&md(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&md(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,i,n),t[Ie]=e,t[Pe]=n}catch(r){cc(e,e.return,r)}}var bl=!1,xl=!1,kl=!1,_l="function"===typeof WeakSet?WeakSet:Set,wl=null;function Cl(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&i&&ol(5,n);break;case 1:if(Ll(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){cc(n,n.return,o)}else{var a=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){cc(n,n.return,s)}}64&i&&ll(n),512&i&&cl(n,n.return);break;case 3:if(Ll(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{pr(e,t)}catch(o){cc(n,n.return,o)}}break;case 27:null===t&&4&i&&vl(n);case 26:case 5:Ll(e,n),null===t&&4&i&&pl(n),512&i&&cl(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&i&&jl(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=fc.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,a=bl;var r=xl;bl=i,(xl=t)&&!r?Fl(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),bl=a,xl=r}break;case 30:break;default:Ll(e,n)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,Al=!1;function El(e,t,n){for(n=n.child;null!==n;)Nl(e,t,n),n=n.sibling}function Nl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ce,n)}catch(r){}switch(n.tag){case 26:xl||dl(n,t),El(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var i=Tl,a=Al;md(n.type)&&(Tl=n.stateNode,Al=!1),El(e,t,n),kd(n.stateNode),Tl=i,Al=a;break;case 5:xl||dl(n,t);case 6:if(i=Tl,a=Al,Tl=null,El(e,t,n),Al=a,null!==(Tl=i))if(Al)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(o){cc(n,t,o)}else try{Tl.removeChild(n.stateNode)}catch(o){cc(n,t,o)}break;case 18:null!==Tl&&(Al?(fd(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ap(e)):fd(Tl,n.stateNode));break;case 4:i=Tl,a=Al,Tl=n.stateNode.containerInfo,Al=!0,El(e,t,n),Tl=i,Al=a;break;case 0:case 11:case 14:case 15:xl||sl(2,n,t),xl||sl(4,n,t),El(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount&&ul(n,t,i)),El(e,t,n);break;case 21:El(e,t,n);break;case 22:xl=(i=xl)||null!==n.memoizedState,El(e,t,n),xl=i;break;default:El(e,t,n)}}function jl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ap(e)}catch(n){cc(t,t.return,n)}}function Ol(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new _l),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new _l),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var i=hc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}function Il(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i],r=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(md(l.type)){Tl=l.stateNode,Al=!1;break e}break;case 5:Tl=l.stateNode,Al=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,Al=!0;break e}l=l.return}if(null===Tl)throw Error(o(160));Nl(r,s,a),Tl=null,Al=!1,null!==(r=a.alternate)&&(r.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ml(t,e),t=t.sibling}var Pl=null;function Ml(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Il(t,e),Rl(e),4&i&&(sl(3,e,e.return),ol(3,e),sl(5,e,e.return));break;case 1:Il(t,e),Rl(e),512&i&&(xl||null===n||dl(n,n.return)),64&i&&bl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var a=Pl;if(Il(t,e),Rl(e),512&i&&(xl||null===n||dl(n,n.return)),4&i){var r=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(i){case"title":(!(r=a.getElementsByTagName("title")[0])||r[Fe]||r[Ie]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=a.createElement(i),a.head.insertBefore(r,a.querySelector("head > title"))),ed(r,i,n),r[Ie]=e,Ge(r),i=r;break e;case"link":var s=Fd("link","href",a).get(i+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((r=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&r.getAttribute("rel")===(null==n.rel?null:n.rel)&&r.getAttribute("title")===(null==n.title?null:n.title)&&r.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(r=a.createElement(i),i,n),a.head.appendChild(r);break;case"meta":if(s=Fd("meta","content",a).get(i+(n.content||"")))for(l=0;l<s.length;l++)if((r=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&r.getAttribute("name")===(null==n.name?null:n.name)&&r.getAttribute("property")===(null==n.property?null:n.property)&&r.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&r.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(r=a.createElement(i),i,n),a.head.appendChild(r);break;default:throw Error(o(468,i))}r[Ie]=e,Ge(r),i=r}e.stateNode=i}else Ud(a,e.type,e.stateNode);else e.stateNode=Md(a,i,e.memoizedProps);else r!==i?(null===r?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):r.count--,null===i?Ud(a,e.type,e.stateNode):Md(a,i,e.memoizedProps)):null===i&&null!==e.stateNode&&ml(e,e.memoizedProps,n.memoizedProps)}break;case 27:Il(t,e),Rl(e),512&i&&(xl||null===n||dl(n,n.return)),null!==n&&4&i&&ml(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Il(t,e),Rl(e),512&i&&(xl||null===n||dl(n,n.return)),32&e.flags){a=e.stateNode;try{_t(a,"")}catch(f){cc(e,e.return,f)}}4&i&&null!=e.stateNode&&ml(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&i&&(kl=!0);break;case 6:if(Il(t,e),Rl(e),4&i){if(null===e.stateNode)throw Error(o(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(f){cc(e,e.return,f)}}break;case 3:if(qd=null,a=Pl,Pl=Cd(t.containerInfo),Il(t,e),Pl=a,Rl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ap(t.containerInfo)}catch(f){cc(e,e.return,f)}kl&&(kl=!1,Dl(e));break;case 4:i=Pl,Pl=Cd(e.stateNode.containerInfo),Il(t,e),Rl(e),Pl=i;break;case 12:default:Il(t,e),Rl(e);break;case 13:Il(t,e),Rl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(ku=te()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Ol(e,i)));break;case 22:a=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=bl,d=xl;if(bl=c||a,xl=d||u,Il(t,e),xl=d,bl=c,Rl(e),8192&i)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||u||bl||xl||ql(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(r=u.stateNode,a)"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,m=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(f){cc(u,u.return,f)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(f){cc(u,u.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Ol(e,n))));break;case 19:Il(t,e),Rl(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Ol(e,i)));case 30:case 21:}}function Rl(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(fl(i)){n=i;break}i=i.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var a=n.stateNode;yl(e,hl(e),a);break;case 5:var r=n.stateNode;32&n.flags&&(_t(r,""),n.flags&=-33),yl(e,hl(e),r);break;case 3:case 4:var s=n.stateNode.containerInfo;gl(e,hl(e),s);break;default:throw Error(o(161))}}catch(l){cc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Dl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Dl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cl(e,t.alternate,t),t=t.sibling}function ql(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),ql(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),ql(t);break;case 27:kd(t.stateNode);case 26:case 5:dl(t,t.return),ql(t);break;case 22:null===t.memoizedState&&ql(t);break;default:ql(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,a=e,r=t,o=r.flags;switch(r.tag){case 0:case 11:case 15:Fl(a,r,n),ol(4,r);break;case 1:if(Fl(a,r,n),"function"===typeof(a=(i=r).stateNode).componentDidMount)try{a.componentDidMount()}catch(u){cc(i,i.return,u)}if(null!==(a=(i=r).updateQueue)){var s=i.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)dr(l[a],s)}catch(u){cc(i,i.return,u)}}n&&64&o&&ll(r),cl(r,r.return);break;case 27:vl(r);case 26:case 5:Fl(a,r,n),n&&null===i&&4&o&&pl(r),cl(r,r.return);break;case 12:Fl(a,r,n);break;case 13:Fl(a,r,n),n&&4&o&&jl(a,r);break;case 22:null===r.memoizedState&&Fl(a,r,n),cl(r,r.return);break;case 30:break;default:Fl(a,r,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ma(n))}function Hl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ma(e))}function Vl(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)zl(e,t,n,i),t=t.sibling}function zl(e,t,n,i){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,i),2048&a&&ol(9,t);break;case 1:case 13:default:Vl(e,t,n,i);break;case 3:Vl(e,t,n,i),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ma(e)));break;case 12:if(2048&a){Vl(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,o=r.id,s=r.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){cc(t,t.return,l)}}else Vl(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,o=t.alternate,null!==t.memoizedState?2&r._visibility?Vl(e,t,n,i):Gl(e,t):2&r._visibility?Vl(e,t,n,i):(r._visibility|=2,Bl(e,t,n,i,0!==(10256&t.subtreeFlags))),2048&a&&Ul(o,t);break;case 24:Vl(e,t,n,i),2048&a&&Hl(t.alternate,t)}}function Bl(e,t,n,i,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var r=e,o=t,s=n,l=i,u=o.flags;switch(o.tag){case 0:case 11:case 15:Bl(r,o,s,l,a),ol(8,o);break;case 23:break;case 22:var c=o.stateNode;null!==o.memoizedState?2&c._visibility?Bl(r,o,s,l,a):Gl(r,o):(c._visibility|=2,Bl(r,o,s,l,a)),a&&2048&u&&Ul(o.alternate,o);break;case 24:Bl(r,o,s,l,a),a&&2048&u&&Hl(o.alternate,o);break;default:Bl(r,o,s,l,a)}t=t.sibling}}function Gl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,a=i.flags;switch(i.tag){case 22:Gl(n,i),2048&a&&Ul(i.alternate,i);break;case 24:Gl(n,i),2048&a&&Hl(i.alternate,i);break;default:Gl(n,i)}t=t.sibling}}var Kl=8192;function Jl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Wl(e),e=e.sibling}function Wl(e){switch(e.tag){case 26:Jl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(o(475));var i=Vd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Nd(n.href),r=e.querySelector(jd(a));if(r)return null!==(e=r._p)&&"object"===typeof e&&"function"===typeof e.then&&(i.count++,i=Bd.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=r,void Ge(r);r=e.ownerDocument||e,n=Od(n),(a=_d.get(a))&&Dd(n,a),Ge(r=r.createElement("link"));var s=r;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(r,"link",n),t.instance=r}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(i.count++,t=Bd.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Pl,e.memoizedState,e.memoizedProps);break;case 5:default:Jl(e);break;case 3:case 4:var t=Pl;Pl=Cd(e.stateNode.containerInfo),Jl(e),Pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Jl(e),Kl=t):Jl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];wl=i,Xl(i,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)$l(e),e=e.sibling}function $l(e){switch(e.tag){case 0:case 11:case 15:Zl(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Zl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Ql(e)):Zl(e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];wl=i,Xl(i,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Ql(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Ql(t));break;default:Ql(t)}e=e.sibling}}function Xl(e,t){for(;null!==wl;){var n=wl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Ma(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,wl=i;else e:for(n=e;null!==wl;){var a=(i=wl).sibling,r=i.return;if(Sl(i),i===n){wl=null;break e}if(null!==a){a.return=r,wl=a;break e}wl=r}}}var eu={getCacheForType:function(e){var t=Ta(Ia),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tu="function"===typeof WeakMap?WeakMap:Map,nu=0,iu=null,au=null,ru=0,ou=0,su=null,lu=!1,uu=!1,cu=!1,du=0,pu=0,mu=0,fu=0,hu=0,gu=0,yu=0,vu=null,bu=null,xu=!1,ku=0,_u=1/0,wu=null,Cu=null,Su=0,Tu=null,Au=null,Eu=0,Nu=0,ju=null,Ou=null,Iu=0,Pu=null;function Mu(){if(0!==(2&nu)&&0!==ru)return ru&-ru;if(null!==M.T){return 0!==La?La:Nc()}return je()}function Ru(){0===gu&&(gu=0===(536870912&ru)||ra?_e():536870912);var e=as.current;return null!==e&&(e.flags|=32),gu}function Du(e,t,n){(e!==iu||2!==ou&&9!==ou)&&null===e.cancelPendingCommit||(zu(e,0),Uu(e,ru,gu,!1)),Se(e,n),0!==(2&nu)&&e===iu||(e===iu&&(0===(2&nu)&&(fu|=n),4===pu&&Uu(e,ru,gu,!1)),_c(e))}function Lu(e,t,n){if(0!==(6&nu))throw Error(o(327));for(var i=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),a=i?function(e,t){var n=nu;nu|=2;var i=Gu(),a=Ku();iu!==e||ru!==t?(wu=null,_u=te()+500,zu(e,t)):uu=xe(e,t);e:for(;;)try{if(0!==ou&&null!==au){t=au;var r=su;t:switch(ou){case 1:ou=0,su=null,Xu(e,t,r,1);break;case 2:case 9:if(Ya(r)){ou=0,su=null,Qu(t);break}t=function(){2!==ou&&9!==ou||iu!==e||(ou=7),_c(e)},r.then(t,t);break e;case 3:ou=7;break e;case 4:ou=5;break e;case 7:Ya(r)?(ou=0,su=null,Qu(t)):(ou=0,su=null,Xu(e,t,r,7));break;case 5:var s=null;switch(au.tag){case 26:s=au.memoizedState;case 5:case 27:var l=au;if(!s||Hd(s)){ou=0,su=null;var u=l.sibling;if(null!==u)au=u;else{var c=l.return;null!==c?(au=c,ec(c)):au=null}break t}}ou=0,su=null,Xu(e,t,r,5);break;case 6:ou=0,su=null,Xu(e,t,r,6);break;case 8:Vu(),pu=6;break e;default:throw Error(o(462))}}Zu();break}catch(d){Bu(e,d)}return va=ya=null,M.H=i,M.A=a,nu=n,null!==au?0:(iu=null,ru=0,Ei(),pu)}(e,t):Wu(e,t,!0),r=i;;){if(0===a){uu&&!i&&Uu(e,t,0,!1);break}if(n=e.current.alternate,!r||Fu(n)){if(2===a){if(r=t,e.errorRecoveryDisabledLanes&r)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;a=vu;var u=l.current.memoizedState.isDehydrated;if(u&&(zu(l,s).flags|=256),2!==(s=Wu(l,s,!1))){if(cu&&!u){l.errorRecoveryDisabledLanes|=r,fu|=r,a=4;break e}r=bu,bu=a,null!==r&&(null===bu?bu=r:bu.push.apply(bu,r))}a=s}if(r=!1,2!==a)continue}}if(1===a){zu(e,0),Uu(e,t,0,!0);break}e:{switch(i=e,r=a){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Uu(i,t,gu,!lu);break e;case 2:bu=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(a=ku+300-te())){if(Uu(i,t,gu,!lu),0!==be(i,0,!0))break e;i.timeoutHandle=ld(qu.bind(null,i,n,bu,wu,xu,t,gu,fu,yu,lu,r,2,-0,0),a)}else qu(i,n,bu,wu,xu,t,gu,fu,yu,lu,r,0,-0,0)}break}a=Wu(e,t,!1),r=!1}_c(e)}function qu(e,t,n,i,a,r,s,l,u,c,d,p,m,f){if(e.timeoutHandle=-1,(8192&(p=t.subtreeFlags)||16785408===(16785408&p))&&(Vd={stylesheets:null,count:0,unsuspend:zd},Wl(t),null!==(p=function(){if(null===Vd)throw Error(o(475));var e=Vd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=p(nc.bind(null,e,t,r,n,i,a,s,l,u,d,1,m,f)),void Uu(e,r,s,!c);nc(e,t,r,n,i,a,s,l,u)}function Fu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var a=n[i],r=a.getSnapshot;a=a.value;try{if(!Yn(r(),a))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uu(e,t,n,i){t&=~hu,t&=~fu,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var a=t;0<a;){var r=31-me(a),o=1<<r;i[r]=-1,a&=~o}0!==n&&Te(e,n,t)}function Hu(){return 0!==(6&nu)||(wc(0,!1),!1)}function Vu(){if(null!==au){if(0===ou)var e=au.return;else va=ya=null,Lr(e=au),Yo=null,Zo=0,e=au;for(;null!==e;)rl(e.alternate,e),e=e.return;au=null}}function zu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vu(),iu=e,au=n=qi(e.current,null),ru=t,ou=0,su=null,lu=!1,uu=xe(e,t),cu=!1,yu=gu=hu=fu=mu=pu=0,bu=vu=null,xu=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var a=31-me(i),r=1<<a;t|=e[a],i&=~r}return du=t,Ei(),n}function Bu(e,t){br=null,M.H=Go,t===Ga||t===Ja?(t=Xa(),ou=3):t===Ka?(t=Xa(),ou=4):ou=t===Ts?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,su=t,null===au&&(pu=1,ks(e,Ci(t,e.current)))}function Gu(){var e=M.H;return M.H=Go,null===e?Go:e}function Ku(){var e=M.A;return M.A=eu,e}function Ju(){pu=4,lu||(4194048&ru)!==ru&&null!==as.current||(uu=!0),0===(134217727&mu)&&0===(134217727&fu)||null===iu||Uu(iu,ru,gu,!1)}function Wu(e,t,n){var i=nu;nu|=2;var a=Gu(),r=Ku();iu===e&&ru===t||(wu=null,zu(e,t)),t=!1;var o=pu;e:for(;;)try{if(0!==ou&&null!==au){var s=au,l=su;switch(ou){case 8:Vu(),o=6;break e;case 3:case 2:case 9:case 6:null===as.current&&(t=!0);var u=ou;if(ou=0,su=null,Xu(e,s,l,u),n&&uu){o=0;break e}break;default:u=ou,ou=0,su=null,Xu(e,s,l,u)}}Yu(),o=pu;break}catch(c){Bu(e,c)}return t&&e.shellSuspendCounter++,va=ya=null,nu=i,M.H=a,M.A=r,null===au&&(iu=null,ru=0,Ei()),o}function Yu(){for(;null!==au;)$u(au)}function Zu(){for(;null!==au&&!X();)$u(au)}function $u(e){var t=$s(e.alternate,e,du);e.memoizedProps=e.pendingProps,null===t?ec(e):au=t}function Qu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ds(n,t,t.pendingProps,t.type,void 0,ru);break;case 11:t=Ds(n,t,t.pendingProps,t.type.render,t.ref,ru);break;case 5:Lr(t);default:rl(n,t),t=$s(n,t=au=Fi(t,du),du)}e.memoizedProps=e.pendingProps,null===t?ec(e):au=t}function Xu(e,t,n,i){va=ya=null,Lr(t),Yo=null,Zo=0;var a=t.return;try{if(function(e,t,n,i,a){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=n.alternate)&&wa(t,n,a,!0),null!==(n=as.current)){switch(n.tag){case 13:return null===rs?Ju():null===n.alternate&&0===pu&&(pu=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===Wa?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),dc(e,i,a)),!1;case 22:return n.flags|=65536,i===Wa?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),dc(e,i,a)),!1}throw Error(o(435,n.tag))}return dc(e,i,a),Ju(),!1}if(ra)return null!==(t=as.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==la&&ha(Ci(e=Error(o(422),{cause:i}),n))):(i!==la&&ha(Ci(t=Error(o(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,i=Ci(i,n),sr(e,a=ws(e.stateNode,i,a)),4!==pu&&(pu=2)),!1;var r=Error(o(520),{cause:i});if(r=Ci(r,n),null===vu?vu=[r]:vu.push(r),4!==pu&&(pu=2),null===t)return!0;i=Ci(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,sr(n,e=ws(n.stateNode,i,e)),!1;case 1:if(t=n.type,r=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==r&&"function"===typeof r.componentDidCatch&&(null===Cu||!Cu.has(r))))return n.flags|=65536,a&=-a,n.lanes|=a,Ss(a=Cs(a),e,n,i),sr(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,ru))return pu=1,ks(e,Ci(n,e.current)),void(au=null)}catch(r){if(null!==a)throw au=a,r;return pu=1,ks(e,Ci(n,e.current)),void(au=null)}32768&t.flags?(ra||1===i?e=!0:uu||0!==(536870912&ru)?e=!1:(lu=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=as.current)&&13===i.tag&&(i.flags|=16384))),tc(t,e)):ec(t)}function ec(e){var t=e;do{if(0!==(32768&t.flags))return void tc(t,lu);e=t.return;var n=il(t.alternate,t,du);if(null!==n)return void(au=n);if(null!==(t=t.sibling))return void(au=t);au=t=e}while(null!==t);0===pu&&(pu=5)}function tc(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(au=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(au=e);au=e=n}while(null!==e);pu=6,au=null}function nc(e,t,n,i,a,r,s,l,u){e.cancelPendingCommit=null;do{sc()}while(0!==Su);if(0!==(6&nu))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(r=t.lanes|t.childLanes,function(e,t,n,i,a,r){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=o&~n;0<n;){var c=31-me(n),d=1<<c;s[c]=0,l[c]=-1;var p=u[c];if(null!==p)for(u[c]=null,c=0;c<p.length;c++){var m=p[c];null!==m&&(m.lane&=-536870913)}n&=~d}0!==i&&Te(e,i,0),0!==r&&0===a&&0!==e.tag&&(e.suspendedLanes|=r&~(o&~t))}(e,n,r|=Ai,s,l,u),e===iu&&(au=iu=null,ru=0),Au=t,Tu=e,Eu=n,Nu=r,ju=a,Ou=i,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(re,function(){return lc(),null})):(e.callbackNode=null,e.callbackPriority=0),i=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||i){i=M.T,M.T=null,a=R.p,R.p=2,s=nu,nu|=4;try{!function(e,t){if(e=e.containerInfo,td=np,ti(e=ei(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch(g){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=e,m=null;t:for(;;){for(var f;p!==n||0!==a&&3!==p.nodeType||(l=s+a),p!==r||0!==i&&3!==p.nodeType||(u=s+i),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)m=p,p=f;for(;;){if(p===e)break t;if(m===n&&++c===a&&(l=s),m===r&&++d===i&&(u=s),null!==(f=p.nextSibling))break;m=(p=m).parentNode}p=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},np=!1,wl=t;null!==wl;)if(e=(t=wl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,wl=e;else for(;null!==wl;){switch(r=(t=wl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==r){e=void 0,n=t,a=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var h=gs(n.type,a,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(h,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(y){cc(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))hd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,wl=e;break}wl=t.return}}(e,t)}finally{nu=s,R.p=a,M.T=i}}Su=1,ic(),ac(),rc()}}function ic(){if(1===Su){Su=0;var e=Tu,t=Au,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var i=R.p;R.p=2;var a=nu;nu|=4;try{Ml(t,e);var r=nd,o=ei(e.containerInfo),s=r.focusedElem,l=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&Xn(s.ownerDocument.documentElement,s)){if(null!==l&&ti(s)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var m=p.getSelection(),f=s.textContent.length,h=Math.min(l.start,f),g=void 0===l.end?h:Math.min(l.end,f);!m.extend&&h>g&&(o=g,g=h,h=o);var y=Qn(s,h),v=Qn(s,g);if(y&&v&&(1!==m.rangeCount||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==v.node||m.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),m.removeAllRanges(),h>g?(m.addRange(b),m.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),m.addRange(b))}}}}for(d=[],m=s;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var x=d[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}np=!!td,nd=td=null}finally{nu=a,R.p=i,M.T=n}}e.current=t,Su=2}}function ac(){if(2===Su){Su=0;var e=Tu,t=Au,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var i=R.p;R.p=2;var a=nu;nu|=4;try{Cl(e,t.alternate,t)}finally{nu=a,R.p=i,M.T=n}}Su=3}}function rc(){if(4===Su||3===Su){Su=0,ee();var e=Tu,t=Au,n=Eu,i=Ou;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Su=5:(Su=0,Au=Tu=null,oc(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Cu=null),Ne(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ce,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==i){t=M.T,a=R.p,R.p=2,M.T=null;try{for(var r=e.onRecoverableError,o=0;o<i.length;o++){var s=i[o];r(s.value,{componentStack:s.stack})}}finally{M.T=t,R.p=a}}0!==(3&Eu)&&sc(),_c(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Pu?Iu++:(Iu=0,Pu=e):Iu=0,wc(0,!1)}}function oc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ma(t)))}function sc(e){return ic(),ac(),rc(),lc()}function lc(){if(5!==Su)return!1;var e=Tu,t=Nu;Nu=0;var n=Ne(Eu),i=M.T,a=R.p;try{R.p=32>n?32:n,M.T=null,n=ju,ju=null;var r=Tu,s=Eu;if(Su=0,Au=Tu=null,Eu=0,0!==(6&nu))throw Error(o(331));var l=nu;if(nu|=4,$l(r.current),zl(r,r.current,s,n),nu=l,wc(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ce,r)}catch(u){}return!0}finally{R.p=a,M.T=i,oc(e,t)}}function uc(e,t,n){t=Ci(n,t),null!==(e=rr(e,t=ws(e.stateNode,t,2),2))&&(Se(e,2),_c(e))}function cc(e,t,n){if(3===e.tag)uc(e,e,n);else for(;null!==t;){if(3===t.tag){uc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Cu||!Cu.has(i))){e=Ci(n,e),null!==(i=rr(t,n=Cs(2),2))&&(Ss(n,i,t,e),Se(i,2),_c(i));break}}t=t.return}}function dc(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new tu;var a=new Set;i.set(t,a)}else void 0===(a=i.get(t))&&(a=new Set,i.set(t,a));a.has(n)||(cu=!0,a.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function pc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,iu===e&&(ru&n)===n&&(4===pu||3===pu&&(62914560&ru)===ru&&300>te()-ku?0===(2&nu)&&zu(e,0):hu|=n,yu===ru&&(yu=0)),_c(e)}function mc(e,t){0===t&&(t=we()),null!==(e=Oi(e,t))&&(Se(e,t),_c(e))}function fc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),mc(e,n)}function hc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==i&&i.delete(t),mc(e,n)}var gc=null,yc=null,vc=!1,bc=!1,xc=!1,kc=0;function _c(e){e!==yc&&null===e.next&&(null===yc?gc=yc=e:yc=yc.next=e),bc=!0,vc||(vc=!0,dd(function(){0!==(6&nu)?$(ie,Cc):Sc()}))}function wc(e,t){if(!xc&&bc){xc=!0;do{for(var n=!1,i=gc;null!==i;){if(!t)if(0!==e){var a=i.pendingLanes;if(0===a)var r=0;else{var o=i.suspendedLanes,s=i.pingedLanes;r=(1<<31-me(42|e)+1)-1,r=201326741&(r&=a&~(o&~s))?201326741&r|1:r?2|r:0}0!==r&&(n=!0,Ec(i,r))}else r=ru,0===(3&(r=be(i,i===iu?r:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||xe(i,r)||(n=!0,Ec(i,r));i=i.next}}while(n);xc=!1}}function Cc(){Sc()}function Sc(){bc=vc=!1;var e=0;0!==kc&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=kc),kc=0);for(var t=te(),n=null,i=gc;null!==i;){var a=i.next,r=Tc(i,t);0===r?(i.next=null,null===n?gc=a:n.next=a,null===a&&(yc=n)):(n=i,(0!==e||0!==(3&r))&&(bc=!0)),i=a}wc(e,!1)}function Tc(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var o=31-me(r),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&i)||(a[o]=ke(s,t)):l<=t&&(e.expiredLanes|=s),r&=~s}if(n=ru,n=be(e,e===(t=iu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===ou||9===ou)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&Q(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&Q(i),Ne(n)){case 2:case 8:n=ae;break;case 32:default:n=re;break;case 268435456:n=se}return i=Ac.bind(null,e),n=$(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&Q(i),e.callbackPriority=2,e.callbackNode=null,2}function Ac(e,t){if(0!==Su&&5!==Su)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(sc()&&e.callbackNode!==n)return null;var i=ru;return 0===(i=be(e,e===iu?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lu(e,i,t),Tc(e,te()),null!=e.callbackNode&&e.callbackNode===n?Ac.bind(null,e):null)}function Ec(e,t){if(sc())return null;Lu(e,t,!0)}function Nc(){return 0===kc&&(kc=_e()),kc}function jc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Oc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ic=0;Ic<ki.length;Ic++){var Pc=ki[Ic];_i(Pc.toLowerCase(),"on"+(Pc[0].toUpperCase()+Pc.slice(1)))}_i(mi,"onAnimationEnd"),_i(fi,"onAnimationIteration"),_i(hi,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(gi,"onTransitionRun"),_i(yi,"onTransitionStart"),_i(vi,"onTransitionCancel"),_i(bi,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mc));function Dc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var o=i.length-1;0<=o;o--){var s=i[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==r&&a.isPropagationStopped())break e;r=s,a.currentTarget=u;try{r(a)}catch(c){ys(c)}a.currentTarget=null,r=l}else for(o=0;o<i.length;o++){if(l=(s=i[o]).instance,u=s.currentTarget,s=s.listener,l!==r&&a.isPropagationStopped())break e;r=s,a.currentTarget=u;try{r(a)}catch(c){ys(c)}a.currentTarget=null,r=l}}}}function Lc(e,t){var n=t[Re];void 0===n&&(n=t[Re]=new Set);var i=e+"__bubble";n.has(i)||(Hc(t,e,2,!1),n.add(i))}function qc(e,t,n){var i=0;t&&(i|=4),Hc(n,e,i,t)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function Uc(e){if(!e[Fc]){e[Fc]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Rc.has(t)||qc(t,!1,e),qc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fc]||(t[Fc]=!0,qc("selectionchange",!1,t))}}function Hc(e,t,n,i){switch(up(t)){case 2:var a=ip;break;case 8:a=ap;break;default:a=rp}n=a.bind(null,t,n,e),a=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),i?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vc(e,t,n,i,a){var r=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var s=i.stateNode.containerInfo;if(s===a)break;if(4===o)for(o=i.return;null!==o;){var u=o.tag;if((3===u||4===u)&&o.stateNode.containerInfo===a)return;o=o.return}for(;null!==s;){if(null===(o=He(s)))return;if(5===(u=o.tag)||6===u||26===u||27===u){i=r=o;continue e}s=s.parentNode}}i=i.return}Dt(function(){var i=r,a=Ot(n),o=[];e:{var s=xi.get(e);if(void 0!==s){var u=Xt,c=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":u=hn;break;case"focusin":c="focus",u=on;break;case"focusout":c="blur",u=on;break;case"beforeblur":case"afterblur":u=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=yn;break;case mi:case fi:case hi:u=sn;break;case bi:u=vn;break;case"scroll":case"scrollend":u=tn;break;case"wheel":u=bn;break;case"copy":case"cut":case"paste":u=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=gn;break;case"toggle":case"beforetoggle":u=xn}var d=0!==(4&t),p=!d&&("scroll"===e||"scrollend"===e),m=d?null!==s?s+"Capture":null:s;d=[];for(var f,h=i;null!==h;){var g=h;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===m||null!=(g=Lt(h,m))&&d.push(zc(h,g,f)),p)break;h=h.return}0<d.length&&(s=new u(s,c,null,n,a),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===jt||!(c=n.relatedTarget||n.fromElement)||!He(c)&&!c[Me])&&(u||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=i,null!==(c=(c=n.relatedTarget||n.toElement)?He(c):null)&&(p=l(c),d=c.tag,c!==p||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=i),u!==c)){if(d=an,g="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",m="onPointerEnter",h="pointer"),p=null==u?s:ze(u),f=null==c?s:ze(c),(s=new d(g,h+"leave",u,n,a)).target=p,s.relatedTarget=f,g=null,He(a)===i&&((d=new d(m,h+"enter",c,n,a)).target=f,d.relatedTarget=p,g=d),p=g,u&&c)e:{for(m=c,h=0,f=d=u;f;f=Gc(f))h++;for(f=0,g=m;g;g=Gc(g))f++;for(;0<h-f;)d=Gc(d),h--;for(;0<f-h;)m=Gc(m),f--;for(;h--;){if(d===m||null!==m&&d===m.alternate)break e;d=Gc(d),m=Gc(m)}d=null}else d=null;null!==u&&Kc(o,s,u,d,!1),null!==c&&null!==p&&Kc(o,p,c,d,!0)}if("select"===(u=(s=i?ze(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=qn;else if(In(s))if(Fn)y=Wn;else{y=Kn;var v=Gn}else!(u=s.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?i&&Tt(i.elementType)&&(y=qn):y=Jn;switch(y&&(y=y(e,i))?Pn(o,y,n,a):(v&&v(e,s,i),"focusout"===e&&i&&"number"===s.type&&null!=i.memoizedProps.value&&vt(s,"number",s.value)),v=i?ze(i):window,e){case"focusin":(In(v)||"true"===v.contentEditable)&&(ii=v,ai=i,ri=null);break;case"focusout":ri=ai=ii=null;break;case"mousedown":oi=!0;break;case"contextmenu":case"mouseup":case"dragend":oi=!1,si(o,n,a);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":si(o,n,a)}var b;if(_n)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else jn?En(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Sn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==x?"onCompositionEnd"===x&&jn&&(b=Bt()):(Vt="value"in(Ht=a)?Ht.value:Ht.textContent,jn=!0)),0<(v=Bc(i,x)).length&&(x=new un(x,e,null,n,a),o.push({event:x,listeners:v}),b?x.data=b:null!==(b=Nn(n))&&(x.data=b))),(b=Cn?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(An=!0,Tn);case"textInput":return(e=t.data)===Tn&&An?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!_n&&En(e,t)?(e=Bt(),zt=Vt=Ht=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Bc(i,"onBeforeInput")).length&&(v=new un("onBeforeInput","beforeinput",null,n,a),o.push({event:v,listeners:x}),v.data=b)),function(e,t,n,i,a){if("submit"===t&&n&&n.stateNode===a){var r=jc((a[Pe]||null).action),o=i.submitter;o&&null!==(t=(t=o[Pe]||null)?jc(t.formAction):o.getAttribute("formAction"))&&(r=t,o=null);var s=new Xt("action","action",null,i,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==kc){var e=o?Oc(a,o):new FormData(a);Oo(n,{pending:!0,data:e,method:a.method,action:r},null,e)}}else"function"===typeof r&&(s.preventDefault(),e=o?Oc(a,o):new FormData(a),Oo(n,{pending:!0,data:e,method:a.method,action:r},r,e))},currentTarget:a}]})}}(o,e,i,n,a)}Dc(o,t)})}function zc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bc(e,t){for(var n=t+"Capture",i=[];null!==e;){var a=e,r=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===r||(null!=(a=Lt(e,n))&&i.unshift(zc(e,a,r)),null!=(a=Lt(e,t))&&i.push(zc(e,a,r))),3===e.tag)return i;e=e.return}return[]}function Gc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Kc(e,t,n,i,a){for(var r=t._reactName,o=[];null!==n&&n!==i;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,null!==l&&l===i)break;5!==s&&26!==s&&27!==s||null===u||(l=u,a?null!=(u=Lt(n,r))&&o.unshift(zc(n,u,l)):a||null!=(u=Lt(n,r))&&o.push(zc(n,u,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jc=/\r\n?/g,Wc=/\u0000|\uFFFD/g;function Yc(e){return("string"===typeof e?e:""+e).replace(Jc,"\n").replace(Wc,"")}function Zc(e,t){return t=Yc(t),Yc(e)===t}function $c(){}function Qc(e,t,n,i,a,r){switch(n){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||_t(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&_t(e,""+i);break;case"className":nt(e,"class",i);break;case"tabIndex":nt(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,i);break;case"style":St(e,i,r);break;case"data":if("object"!==t){nt(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Nt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof r&&("formAction"===n?("input"!==t&&Qc(e,t,"name",a.name,a,null),Qc(e,t,"formEncType",a.formEncType,a,null),Qc(e,t,"formMethod",a.formMethod,a,null),Qc(e,t,"formTarget",a.formTarget,a,null)):(Qc(e,t,"encType",a.encType,a,null),Qc(e,t,"method",a.method,a,null),Qc(e,t,"target",a.target,a,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Nt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=$c);break;case"onScroll":null!=i&&Lc("scroll",e);break;case"onScrollEnd":null!=i&&Lc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(o(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}n=Nt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Lc("beforetoggle",e),Lc("toggle",e),tt(e,"popover",i);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=At.get(n)||n,i)}}function Xc(e,t,n,i,a,r){switch(n){case"style":St(e,i,r);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(o(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof i?_t(e,i):("number"===typeof i||"bigint"===typeof i)&&_t(e,""+i);break;case"onScroll":null!=i&&Lc("scroll",e);break;case"onScrollEnd":null!=i&&Lc("scrollend",e);break;case"onClick":null!=i&&(e.onclick=$c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Je.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(r=null!=(r=e[Pe]||null)?r[n]:null)&&e.removeEventListener(t,r,a),"function"!==typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):tt(e,n,i):("function"!==typeof r&&null!==r&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lc("error",e),Lc("load",e);var i,a=!1,r=!1;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(null!=s)switch(i){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Qc(e,t,i,s,n,null)}}return r&&Qc(e,t,"srcSet",n.srcSet,n,null),void(a&&Qc(e,t,"src",n.src,n,null));case"input":Lc("invalid",e);var l=i=s=r=null,u=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":r=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:Qc(e,t,a,d,n,null)}}return yt(e,i,l,u,c,s,r,!1),void dt(e);case"select":for(r in Lc("invalid",e),a=s=i=null,n)if(n.hasOwnProperty(r)&&null!=(l=n[r]))switch(r){case"value":i=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:Qc(e,t,r,l,n,null)}return t=i,n=s,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=n&&bt(e,!!a,n,!0));case"textarea":for(s in Lc("invalid",e),i=r=a=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":a=l;break;case"defaultValue":r=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Qc(e,t,s,l,n,null)}return kt(e,a,r,i),void dt(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))if("selected"===u)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Qc(e,t,u,a,n,null);return;case"dialog":Lc("beforetoggle",e),Lc("toggle",e),Lc("cancel",e),Lc("close",e);break;case"iframe":case"object":Lc("load",e);break;case"video":case"audio":for(a=0;a<Mc.length;a++)Lc(Mc[a],e);break;case"image":Lc("error",e),Lc("load",e);break;case"details":Lc("toggle",e);break;case"embed":case"source":case"link":Lc("error",e),Lc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Qc(e,t,c,a,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&Xc(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&Qc(e,t,l,a,n,null))}var td=null,nd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,cd="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof cd?function(e){return cd.resolve(null).then(e).catch(pd)}:ld;function pd(e){setTimeout(function(){throw e})}function md(e){return"head"===e}function fd(e,t){var n=t,i=0,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0<i&&8>i){n=i;var o=e.ownerDocument;if(1&n&&kd(o.documentElement),2&n&&kd(o.body),4&n)for(kd(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===a)return e.removeChild(r),void Ap(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:i=n.charCodeAt(0)-48;else i=0;n=r}while(n);Ap(t)}function hd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":hd(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function kd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var _d=new Map,wd=new Set;function Cd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Sd=R.d;R.d={f:function(){var e=Sd.f(),t=Hu();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Po(t):Sd.r(e)},D:function(e){Sd.D(e),Ad("dns-prefetch",e,null)},C:function(e,t){Sd.C(e,t),Ad("preconnect",e,t)},L:function(e,t,n){Sd.L(e,t,n);var i=Td;if(i&&e&&t){var a='link[rel="preload"][as="'+ht(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+ht(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+ht(n.imageSizes)+'"]')):a+='[href="'+ht(e)+'"]';var r=a;switch(t){case"style":r=Nd(e);break;case"script":r=Id(e)}_d.has(r)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),_d.set(r,e),null!==i.querySelector(a)||"style"===t&&i.querySelector(jd(r))||"script"===t&&i.querySelector(Pd(r))||(ed(t=i.createElement("link"),"link",e),Ge(t),i.head.appendChild(t)))}},m:function(e,t){Sd.m(e,t);var n=Td;if(n&&e){var i=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+ht(i)+'"][href="'+ht(e)+'"]',r=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Id(e)}if(!_d.has(r)&&(e=p({rel:"modulepreload",href:e},t),_d.set(r,e),null===n.querySelector(a))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pd(r)))return}ed(i=n.createElement("link"),"link",e),Ge(i),n.head.appendChild(i)}}},X:function(e,t){Sd.X(e,t);var n=Td;if(n&&e){var i=Be(n).hoistableScripts,a=Id(e),r=i.get(a);r||((r=n.querySelector(Pd(a)))||(e=p({src:e,async:!0},t),(t=_d.get(a))&&Ld(e,t),Ge(r=n.createElement("script")),ed(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}},S:function(e,t,n){Sd.S(e,t,n);var i=Td;if(i&&e){var a=Be(i).hoistableStyles,r=Nd(e);t=t||"default";var o=a.get(r);if(!o){var s={loading:0,preload:null};if(o=i.querySelector(jd(r)))s.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=_d.get(r))&&Dd(e,n);var l=o=i.createElement("link");Ge(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Rd(o,t,i)}o={type:"stylesheet",instance:o,count:1,state:s},a.set(r,o)}}},M:function(e,t){Sd.M(e,t);var n=Td;if(n&&e){var i=Be(n).hoistableScripts,a=Id(e),r=i.get(a);r||((r=n.querySelector(Pd(a)))||(e=p({src:e,async:!0,type:"module"},t),(t=_d.get(a))&&Ld(e,t),Ge(r=n.createElement("script")),ed(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}};var Td="undefined"===typeof document?null:document;function Ad(e,t,n){var i=Td;if(i&&"string"===typeof t&&t){var a=ht(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),wd.has(a)||(wd.add(a),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(a)&&(ed(t=i.createElement("link"),"link",e),Ge(t),i.head.appendChild(t)))}}function Ed(e,t,n,i){var a,r,s,l,u=(u=B.current)?Cd(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Nd(n.href),(i=(n=Be(u).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Nd(n.href);var c=Be(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(jd(e)))&&!c._p&&(d.instance=c,d.state.loading=5),_d.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_d.set(e,n),c||(a=u,r=e,s=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=a.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),ed(r,"link",s),Ge(r),a.head.appendChild(r))))),t&&null===i)throw Error(o(528,""));return d}if(t&&null!==i)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Id(n),(i=(n=Be(u).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Nd(e){return'href="'+ht(e)+'"'}function jd(e){return'link[rel="stylesheet"]['+e+"]"}function Od(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Id(e){return'[src="'+ht(e)+'"]'}function Pd(e){return"script[async]"+e}function Md(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ht(n.href)+'"]');if(i)return t.instance=i,Ge(i),i;var a=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ge(i=(e.ownerDocument||e).createElement("style")),ed(i,"style",a),Rd(i,n.precedence,e),t.instance=i;case"stylesheet":a=Nd(n.href);var r=e.querySelector(jd(a));if(r)return t.state.loading|=4,t.instance=r,Ge(r),r;i=Od(n),(a=_d.get(a))&&Dd(i,a),Ge(r=(e.ownerDocument||e).createElement("link"));var s=r;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(r,"link",i),t.state.loading|=4,Rd(r,n.precedence,e),t.instance=r;case"script":return r=Id(n.src),(a=e.querySelector(Pd(r)))?(t.instance=a,Ge(a),a):(i=n,(a=_d.get(r))&&Ld(i=p({},n),a),Ge(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Rd(i,n.precedence,e));return t.instance}function Rd(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,r=a,o=0;o<i.length;o++){var s=i[o];if(s.dataset.precedence===t)r=s;else if(r!==a)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Dd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var qd=null;function Fd(e,t,n){if(null===qd){var i=new Map,a=qd=new Map;a.set(n,i)}else(i=(a=qd).get(n))||(i=new Map,a.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var r=n[a];if(!(r[Fe]||r[Ie]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var o=r.getAttribute(t)||"";o=e+o;var s=i.get(o);s?s.push(r):i.set(o,[r])}}return i}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Hd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vd=null;function zd(){}function Bd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Gd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Gd=new Map,t.forEach(Jd,e),Gd=null,Bd.call(e))}function Jd(e,t){if(!(4&t.state.loading)){var n=Gd.get(e);if(n)var i=n.get(null);else{n=new Map,Gd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<a.length;r++){var o=a[r];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),i=o)}i&&n.set(null,i)}o=(a=t.instance).getAttribute("data-precedence"),(r=n.get(o)||i)===i&&n.set(null,a),n.set(o,a),this.count++,i=Bd.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),r?r.parentNode.insertBefore(a,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Wd={$$typeof:k,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function Yd(e,t,n,i,a,r,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=r,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Zd(e,t,n,i,a,r,o,s,l,u,c,d){return e=new Yd(e,t,n,o,s,l,u,d),t=1,!0===r&&(t|=24),r=Di(3,null,null,t),e.current=r,r.stateNode=e,(t=Pa()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},nr(r),e}function $d(e){return e?e=Mi:Mi}function Qd(e,t,n,i,a,r){a=$d(a),null===i.context?i.context=a:i.pendingContext=a,(i=ar(t)).payload={element:n},null!==(r=void 0===r?null:r)&&(i.callback=r),null!==(n=rr(e,i,t))&&(Du(n,0,t),or(n,e,t))}function Xd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ep(e,t){Xd(e,t),(e=e.alternate)&&Xd(e,t)}function tp(e){if(13===e.tag){var t=Oi(e,67108864);null!==t&&Du(t,0,67108864),ep(e,67108864)}}var np=!0;function ip(e,t,n,i){var a=M.T;M.T=null;var r=R.p;try{R.p=2,rp(e,t,n,i)}finally{R.p=r,M.T=a}}function ap(e,t,n,i){var a=M.T;M.T=null;var r=R.p;try{R.p=8,rp(e,t,n,i)}finally{R.p=r,M.T=a}}function rp(e,t,n,i){if(np){var a=op(i);if(null===a)Vc(e,t,i,sp,n),vp(e,i);else if(function(e,t,n,i,a){switch(t){case"focusin":return dp=bp(dp,e,t,n,i,a),!0;case"dragenter":return pp=bp(pp,e,t,n,i,a),!0;case"mouseover":return mp=bp(mp,e,t,n,i,a),!0;case"pointerover":var r=a.pointerId;return fp.set(r,bp(fp.get(r)||null,e,t,n,i,a)),!0;case"gotpointercapture":return r=a.pointerId,hp.set(r,bp(hp.get(r)||null,e,t,n,i,a)),!0}return!1}(a,e,t,n,i))i.stopPropagation();else if(vp(e,i),4&t&&-1<yp.indexOf(e)){for(;null!==a;){var r=Ve(a);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var o=ve(r.pendingLanes);if(0!==o){var s=r;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-me(o);s.entanglements[1]|=l,o&=~l}_c(r),0===(6&nu)&&(_u=te()+500,wc(0,!1))}}break;case 13:null!==(s=Oi(r,2))&&Du(s,0,2),Hu(),ep(r,2)}if(null===(r=op(i))&&Vc(e,t,i,sp,n),r===a)break;a=r}null!==a&&i.stopPropagation()}else Vc(e,t,i,null,n)}}function op(e){return lp(e=Ot(e))}var sp=null;function lp(e){if(sp=null,null!==(e=He(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sp=e,null}function up(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ie:return 2;case ae:return 8;case re:case oe:return 32;case se:return 268435456;default:return 32}default:return 32}}var cp=!1,dp=null,pp=null,mp=null,fp=new Map,hp=new Map,gp=[],yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vp(e,t){switch(e){case"focusin":case"focusout":dp=null;break;case"dragenter":case"dragleave":pp=null;break;case"mouseover":case"mouseout":mp=null;break;case"pointerover":case"pointerout":fp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hp.delete(t.pointerId)}}function bp(e,t,n,i,a,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[a]},null!==t&&(null!==(t=Ve(t))&&tp(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function xp(e){var t=He(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void function(e,t){var n=R.p;try{return R.p=e,t()}finally{R.p=n}}(e.priority,function(){if(13===n.tag){var e=Mu();e=Ee(e);var t=Oi(n,e);null!==t&&Du(t,0,e),ep(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function kp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=op(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&tp(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);jt=i,n.target.dispatchEvent(i),jt=null,t.shift()}return!0}function _p(e,t,n){kp(e)&&n.delete(t)}function wp(){cp=!1,null!==dp&&kp(dp)&&(dp=null),null!==pp&&kp(pp)&&(pp=null),null!==mp&&kp(mp)&&(mp=null),fp.forEach(_p),hp.forEach(_p)}function Cp(e,t){e.blockedOn===t&&(e.blockedOn=null,cp||(cp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wp)))}var Sp=null;function Tp(e){Sp!==e&&(Sp=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Sp===e&&(Sp=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],a=e[t+2];if("function"!==typeof i){if(null===lp(i||n))continue;break}var r=Ve(n);null!==r&&(e.splice(t,3),t-=3,Oo(r,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function Ap(e){function t(t){return Cp(t,e)}null!==dp&&Cp(dp,e),null!==pp&&Cp(pp,e),null!==mp&&Cp(mp,e),fp.forEach(t),hp.forEach(t);for(var n=0;n<gp.length;n++){var i=gp[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<gp.length&&null===(n=gp[0]).blockedOn;)xp(n),null===n.blockedOn&&gp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var a=n[i],r=n[i+1],o=a[Pe]||null;if("function"===typeof r)o||Tp(n);else if(o){var s=null;if(r&&r.hasAttribute("formAction")){if(a=r,o=r[Pe]||null)s=o.formAction;else if(null!==lp(a))continue}else s=o.action;"function"===typeof s?n[i+1]=s:(n.splice(i,3),i-=3),Tp(n)}}}function Ep(e){this._internalRoot=e}function Np(e){this._internalRoot=e}Np.prototype.render=Ep.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Qd(t.current,Mu(),e,t,null,null)},Np.prototype.unmount=Ep.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qd(e.current,2,null,e,null,null),Hu(),t[Me]=null}},Np.prototype.unstable_scheduleHydration=function(e){if(e){var t=je();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gp.length&&0!==t&&t<gp[n].priority;n++);gp.splice(n,0,e),0===n&&xp(e)}};var jp=a.version;if("19.1.0"!==jp)throw Error(o(527,jp,"19.1.0"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(null===a)break;var r=a.alternate;if(null===r){if(null!==(i=a.return)){n=i;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===n)return c(a),e;if(r===i)return c(a),t;r=r.sibling}throw Error(o(188))}if(n.return!==i.return)n=a,i=r;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,i=r;break}if(u===i){s=!0,i=a,n=r;break}u=u.sibling}if(!s){for(u=r.child;u;){if(u===n){s=!0,n=r,i=a;break}if(u===i){s=!0,i=r,n=a;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Op={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ip.isDisabled&&Ip.supportsFiber)try{ce=Ip.inject(Op),de=Ip}catch(Mp){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,i="",a=vs,r=bs,l=xs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(r=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Zd(e,1,!1,null,0,n,i,a,r,l,0,null),e[Me]=t.current,Uc(e),new Ep(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var i=!1,a="",r=vs,l=bs,u=xs,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(r=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=Zd(e,1,!0,t,0,i,a,r,l,u,0,c)).context=$d(null),n=t.current,(a=ar(i=Ee(i=Mu()))).callback=null,rr(n,a,i),n=i,t.current.lanes=n,Se(t,n),_c(t),e[Me]=t.current,Uc(e),new Np(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},62:(e,t,n)=>{n.r(t),n.d(t,{clearAudioCache:()=>Xo,enhanceTranslationWithAI:()=>$o,getAudioCacheStats:()=>es,getEnhancedTranslation:()=>Zo,getUsageStats:()=>ts,playAudioWithGemini:()=>Qo});var i,a,r=n(555);!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter(e=>"number"!==typeof t[t[e]]),i={};for(const e of n)i[e]=t[e];return e.objectValues(i)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map(e=>"string"===typeof e?"'".concat(e,"'"):e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(i||(i={})),function(e){e.mergeShapes=(e,t)=>(0,r.A)((0,r.A)({},e),t)}(a||(a={}));const o=i.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),s=e=>{switch(typeof e){case"undefined":return o.undefined;case"string":return o.string;case"number":return Number.isNaN(e)?o.nan:o.number;case"boolean":return o.boolean;case"function":return o.function;case"bigint":return o.bigint;case"symbol":return o.symbol;case"object":return Array.isArray(e)?o.array:null===e?o.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?o.promise:"undefined"!==typeof Map&&e instanceof Map?o.map:"undefined"!==typeof Set&&e instanceof Set?o.set:"undefined"!==typeof Date&&e instanceof Date?o.date:o.object;default:return o.unknown}},l=i.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class u extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},i=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(i);else if("invalid_return_type"===a.code)i(a.returnTypeError);else if("invalid_arguments"===a.code)i(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,i=0;for(;i<a.path.length;){const n=a.path[i];i===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],i++}}};return i(this),n}static assert(e){if(!(e instanceof u))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,i.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}u.create=e=>new u(e);const c=(e,t)=>{let n;switch(e.code){case l.invalid_type:n=e.received===o.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case l.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,i.jsonStringifyReplacer));break;case l.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(i.joinValues(e.keys,", "));break;case l.invalid_union:n="Invalid input";break;case l.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(i.joinValues(e.options));break;case l.invalid_enum_value:n="Invalid enum value. Expected ".concat(i.joinValues(e.options),", received '").concat(e.received,"'");break;case l.invalid_arguments:n="Invalid function arguments";break;case l.invalid_return_type:n="Invalid function return type";break;case l.invalid_date:n="Invalid date";break;case l.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):i.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case l.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case l.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case l.custom:n="Invalid input";break;case l.invalid_intersection_types:n="Intersection results could not be merged";break;case l.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case l.not_finite:n="Number must be finite";break;default:n=t.defaultError,i.assertNever(e)}return{message:n}};let d=c;function p(){return d}const m=e=>{const{data:t,path:n,errorMaps:i,issueData:a}=e,o=[...n,...a.path||[]],s=(0,r.A)((0,r.A)({},a),{},{path:o});if(void 0!==a.message)return(0,r.A)((0,r.A)({},a),{},{path:o,message:a.message});let l="";const u=i.filter(e=>!!e).slice().reverse();for(const r of u)l=r(s,{data:t,defaultError:l}).message;return(0,r.A)((0,r.A)({},a),{},{path:o,message:l})};function f(e,t){const n=p(),i=m({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===c?void 0:c].filter(e=>!!e)});e.common.issues.push(i)}class h{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const i of t){if("aborted"===i.status)return g;"dirty"===i.status&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const i of t){const e=await i.key,t=await i.value;n.push({key:e,value:t})}return h.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const i of t){const{key:t,value:a}=i;if("aborted"===t.status)return g;if("aborted"===a.status)return g;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof a.value&&!i.alwaysSet||(n[t.value]=a.value)}return{status:e.value,value:n}}}const g=Object.freeze({status:"aborted"}),y=e=>({status:"dirty",value:e}),v=e=>({status:"valid",value:e}),b=e=>"aborted"===e.status,x=e=>"dirty"===e.status,k=e=>"valid"===e.status,_=e=>"undefined"!==typeof Promise&&e instanceof Promise;var w;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(w||(w={}));class C{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const S=(e,t)=>{if(k(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new u(e.common.issues);return this._error=t,this._error}}};function T(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:a}=e;if(t&&(n||i))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{var r;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!==o&&void 0!==o?o:a.defaultError}:"undefined"===typeof a.data?{message:null!==(s=null!==o&&void 0!==o?o:i)&&void 0!==s?s:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(r=null!==o&&void 0!==o?o:n)&&void 0!==r?r:a.defaultError};var s},description:a}}class A{get description(){return this._def.description}_getType(e){return s(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new h,ctx:{common:e.parent.common,data:e.data,parsedType:s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(_(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const i={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:s(e)},a=this._parseSync({data:e,path:i.path,parent:i});return S(i,a)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:s(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return k(n)?{value:n.value}:{issues:t.common.issues}}catch(i){var n;null!==i&&void 0!==i&&null!==(n=i.message)&&void 0!==n&&null!==(n=n.toLowerCase())&&void 0!==n&&n.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>k(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:s(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(_(i)?i:Promise.resolve(i));return S(n,a)}refine(e,t){return this._refinement((n,i)=>{const a=e(n),o=()=>i.addIssue((0,r.A)({code:l.custom},(e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t)(n)));return"undefined"!==typeof Promise&&a instanceof Promise?a.then(e=>!!e||(o(),!1)):!!a||(o(),!1)})}refinement(e,t){return this._refinement((n,i)=>!!e(n)||(i.addIssue("function"===typeof t?t(n,i):t),!1))}_refinement(e){return new Te({schema:this,typeName:Re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Ae.create(this,this._def)}nullable(){return Ee.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ce.create(this)}promise(){return Se.create(this,this._def)}or(e){return me.create([this,e],this._def)}and(e){return he.create(this,e,this._def)}transform(e){return new Te((0,r.A)((0,r.A)({},T(this._def)),{},{schema:this,typeName:Re.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t="function"===typeof e?e:()=>e;return new Ne((0,r.A)((0,r.A)({},T(this._def)),{},{innerType:this,defaultValue:t,typeName:Re.ZodDefault}))}brand(){return new Ie((0,r.A)({typeName:Re.ZodBranded,type:this},T(this._def)))}catch(e){const t="function"===typeof e?e:()=>e;return new je((0,r.A)((0,r.A)({},T(this._def)),{},{innerType:this,catchValue:t,typeName:Re.ZodCatch}))}describe(e){return new(0,this.constructor)((0,r.A)((0,r.A)({},this._def),{},{description:e}))}pipe(e){return Pe.create(this,e)}readonly(){return Me.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const E=/^c[^\s-]{8,}$/i,N=/^[0-9a-z]+$/,j=/^[0-9A-HJKMNP-TV-Z]{26}$/i,O=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,I=/^[a-z0-9_-]{21}$/i,P=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,M=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,R=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let D;const L=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,q=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,F=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,U=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,H=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,V=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,z="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",B=new RegExp("^".concat(z,"$"));function G(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));const n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}function K(e){return new RegExp("^".concat(G(e),"$"))}function J(e){let t="".concat(z,"T").concat(G(e));const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function W(e,t){return!("v4"!==t&&t||!L.test(e))||!("v6"!==t&&t||!F.test(e))}function Y(e,t){if(!P.test(e))return!1;try{const[n]=e.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(i));return"object"===typeof a&&null!==a&&((!("typ"in a)||"JWT"===(null===a||void 0===a?void 0:a.typ))&&(!!a.alg&&(!t||a.alg===t)))}catch(n){return!1}}function Z(e,t){return!("v4"!==t&&t||!q.test(e))||!("v6"!==t&&t||!U.test(e))}class $ extends A{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==o.string){const t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:o.string,received:t.parsedType}),g}const t=new h;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),f(n,{code:l.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),f(n,{code:l.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const i=e.data.length>r.value,a=e.data.length<r.value;(i||a)&&(n=this._getOrReturnCtx(e,n),i?f(n,{code:l.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):a&&f(n,{code:l.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)R.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"email",code:l.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)D||(D=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),D.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"emoji",code:l.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)O.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"uuid",code:l.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)I.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"nanoid",code:l.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)E.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"cuid",code:l.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)N.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"cuid2",code:l.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)j.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"ulid",code:l.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch(a){n=this._getOrReturnCtx(e,n),f(n,{validation:"url",code:l.invalid_string,message:r.message}),t.dirty()}else if("regex"===r.kind){r.regex.lastIndex=0;r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"regex",code:l.invalid_string,message:r.message}),t.dirty())}else if("trim"===r.kind)e.data=e.data.trim();else if("includes"===r.kind)e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),f(n,{code:l.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty());else if("toLowerCase"===r.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===r.kind)e.data=e.data.toUpperCase();else if("startsWith"===r.kind)e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),f(n,{code:l.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty());else if("endsWith"===r.kind)e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),f(n,{code:l.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty());else if("datetime"===r.kind){J(r).test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{code:l.invalid_string,validation:"datetime",message:r.message}),t.dirty())}else if("date"===r.kind){B.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{code:l.invalid_string,validation:"date",message:r.message}),t.dirty())}else if("time"===r.kind){K(r).test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{code:l.invalid_string,validation:"time",message:r.message}),t.dirty())}else"duration"===r.kind?M.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"duration",code:l.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?W(e.data,r.version)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"ip",code:l.invalid_string,message:r.message}),t.dirty()):"jwt"===r.kind?Y(e.data,r.alg)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"jwt",code:l.invalid_string,message:r.message}),t.dirty()):"cidr"===r.kind?Z(e.data,r.version)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"cidr",code:l.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?H.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"base64",code:l.invalid_string,message:r.message}),t.dirty()):"base64url"===r.kind?V.test(e.data)||(n=this._getOrReturnCtx(e,n),f(n,{validation:"base64url",code:l.invalid_string,message:r.message}),t.dirty()):i.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),(0,r.A)({validation:t,code:l.invalid_string},w.errToObj(n)))}_addCheck(e){return new $((0,r.A)((0,r.A)({},this._def),{},{checks:[...this._def.checks,e]}))}email(e){return this._addCheck((0,r.A)({kind:"email"},w.errToObj(e)))}url(e){return this._addCheck((0,r.A)({kind:"url"},w.errToObj(e)))}emoji(e){return this._addCheck((0,r.A)({kind:"emoji"},w.errToObj(e)))}uuid(e){return this._addCheck((0,r.A)({kind:"uuid"},w.errToObj(e)))}nanoid(e){return this._addCheck((0,r.A)({kind:"nanoid"},w.errToObj(e)))}cuid(e){return this._addCheck((0,r.A)({kind:"cuid"},w.errToObj(e)))}cuid2(e){return this._addCheck((0,r.A)({kind:"cuid2"},w.errToObj(e)))}ulid(e){return this._addCheck((0,r.A)({kind:"ulid"},w.errToObj(e)))}base64(e){return this._addCheck((0,r.A)({kind:"base64"},w.errToObj(e)))}base64url(e){return this._addCheck((0,r.A)({kind:"base64url"},w.errToObj(e)))}jwt(e){return this._addCheck((0,r.A)({kind:"jwt"},w.errToObj(e)))}ip(e){return this._addCheck((0,r.A)({kind:"ip"},w.errToObj(e)))}cidr(e){return this._addCheck((0,r.A)({kind:"cidr"},w.errToObj(e)))}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck((0,r.A)({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n},w.errToObj(null===e||void 0===e?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck((0,r.A)({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision},w.errToObj(null===e||void 0===e?void 0:e.message)))}duration(e){return this._addCheck((0,r.A)({kind:"duration"},w.errToObj(e)))}regex(e,t){return this._addCheck((0,r.A)({kind:"regex",regex:e},w.errToObj(t)))}includes(e,t){return this._addCheck((0,r.A)({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position},w.errToObj(null===t||void 0===t?void 0:t.message)))}startsWith(e,t){return this._addCheck((0,r.A)({kind:"startsWith",value:e},w.errToObj(t)))}endsWith(e,t){return this._addCheck((0,r.A)({kind:"endsWith",value:e},w.errToObj(t)))}min(e,t){return this._addCheck((0,r.A)({kind:"min",value:e},w.errToObj(t)))}max(e,t){return this._addCheck((0,r.A)({kind:"max",value:e},w.errToObj(t)))}length(e,t){return this._addCheck((0,r.A)({kind:"length",value:e},w.errToObj(t)))}nonempty(e){return this.min(1,w.errToObj(e))}trim(){return new $((0,r.A)((0,r.A)({},this._def),{},{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new $((0,r.A)((0,r.A)({},this._def),{},{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new $((0,r.A)((0,r.A)({},this._def),{},{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Q(e,t){const n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,a=n>i?n:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}$.create=e=>{var t;return new $((0,r.A)({checks:[],typeName:Re.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},T(e)))};class X extends A{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==o.number){const t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:o.number,received:t.parsedType}),g}let t;const n=new h;for(const a of this._def.checks)if("int"===a.kind)i.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),f(t,{code:l.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty());else if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),f(t,{code:l.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),f(t,{code:l.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty())}else"multipleOf"===a.kind?0!==Q(e.data,a.value)&&(t=this._getOrReturnCtx(e,t),f(t,{code:l.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),f(t,{code:l.not_finite,message:a.message}),n.dirty()):i.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,w.toString(t))}gt(e,t){return this.setLimit("min",e,!1,w.toString(t))}lte(e,t){return this.setLimit("max",e,!0,w.toString(t))}lt(e,t){return this.setLimit("max",e,!1,w.toString(t))}setLimit(e,t,n,i){return new X((0,r.A)((0,r.A)({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:w.toString(i)}]}))}_addCheck(e){return new X((0,r.A)((0,r.A)({},this._def),{},{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:w.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:w.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:w.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:w.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:w.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:w.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:w.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:w.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:w.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&i.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}X.create=e=>new X((0,r.A)({checks:[],typeName:Re.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},T(e)));class ee extends A{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(a){return this._getInvalidInput(e)}if(this._getType(e)!==o.bigint)return this._getInvalidInput(e);let t;const n=new h;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),f(t,{code:l.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),f(t,{code:l.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),f(t,{code:l.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):i.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:o.bigint,received:t.parsedType}),g}gte(e,t){return this.setLimit("min",e,!0,w.toString(t))}gt(e,t){return this.setLimit("min",e,!1,w.toString(t))}lte(e,t){return this.setLimit("max",e,!0,w.toString(t))}lt(e,t){return this.setLimit("max",e,!1,w.toString(t))}setLimit(e,t,n,i){return new ee((0,r.A)((0,r.A)({},this._def),{},{checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:w.toString(i)}]}))}_addCheck(e){return new ee((0,r.A)((0,r.A)({},this._def),{},{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:w.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:w.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:w.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:w.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:w.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ee.create=e=>{var t;return new ee((0,r.A)({checks:[],typeName:Re.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t},T(e)))};class te extends A{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==o.boolean){const t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:o.boolean,received:t.parsedType}),g}return v(e.data)}}te.create=e=>new te((0,r.A)({typeName:Re.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1},T(e)));class ne extends A{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==o.date){const t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:o.date,received:t.parsedType}),g}if(Number.isNaN(e.data.getTime())){return f(this._getOrReturnCtx(e),{code:l.invalid_date}),g}const t=new h;let n;for(const a of this._def.checks)"min"===a.kind?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),f(n,{code:l.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),t.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),f(n,{code:l.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),t.dirty()):i.assertNever(a);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ne((0,r.A)((0,r.A)({},this._def),{},{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:w.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:w.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ne.create=e=>new ne((0,r.A)({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:Re.ZodDate},T(e)));class ie extends A{_parse(e){if(this._getType(e)!==o.symbol){const t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:o.symbol,received:t.parsedType}),g}return v(e.data)}}ie.create=e=>new ie((0,r.A)({typeName:Re.ZodSymbol},T(e)));class ae extends A{_parse(e){if(this._getType(e)!==o.undefined){const t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:o.undefined,received:t.parsedType}),g}return v(e.data)}}ae.create=e=>new ae((0,r.A)({typeName:Re.ZodUndefined},T(e)));class re extends A{_parse(e){if(this._getType(e)!==o.null){const t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:o.null,received:t.parsedType}),g}return v(e.data)}}re.create=e=>new re((0,r.A)({typeName:Re.ZodNull},T(e)));class oe extends A{constructor(){super(...arguments),this._any=!0}_parse(e){return v(e.data)}}oe.create=e=>new oe((0,r.A)({typeName:Re.ZodAny},T(e)));class se extends A{constructor(){super(...arguments),this._unknown=!0}_parse(e){return v(e.data)}}se.create=e=>new se((0,r.A)({typeName:Re.ZodUnknown},T(e)));class le extends A{_parse(e){const t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:o.never,received:t.parsedType}),g}}le.create=e=>new le((0,r.A)({typeName:Re.ZodNever},T(e)));class ue extends A{_parse(e){if(this._getType(e)!==o.undefined){const t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:o.void,received:t.parsedType}),g}return v(e.data)}}ue.create=e=>new ue((0,r.A)({typeName:Re.ZodVoid},T(e)));class ce extends A{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==o.array)return f(t,{code:l.invalid_type,expected:o.array,received:t.parsedType}),g;if(null!==i.exactLength){const e=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(e||a)&&(f(t,{code:e?l.too_big:l.too_small,minimum:a?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(f(t,{code:l.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(f(t,{code:l.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>i.type._parseAsync(new C(t,e,t.path,n)))).then(e=>h.mergeArray(n,e));const a=[...t.data].map((e,n)=>i.type._parseSync(new C(t,e,t.path,n)));return h.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new ce((0,r.A)((0,r.A)({},this._def),{},{minLength:{value:e,message:w.toString(t)}}))}max(e,t){return new ce((0,r.A)((0,r.A)({},this._def),{},{maxLength:{value:e,message:w.toString(t)}}))}length(e,t){return new ce((0,r.A)((0,r.A)({},this._def),{},{exactLength:{value:e,message:w.toString(t)}}))}nonempty(e){return this.min(1,e)}}function de(e){if(e instanceof pe){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=Ae.create(de(i))}return new pe((0,r.A)((0,r.A)({},e._def),{},{shape:()=>t}))}return e instanceof ce?new ce((0,r.A)((0,r.A)({},e._def),{},{type:de(e.element)})):e instanceof Ae?Ae.create(de(e.unwrap())):e instanceof Ee?Ee.create(de(e.unwrap())):e instanceof ge?ge.create(e.items.map(e=>de(e))):e}ce.create=(e,t)=>new ce((0,r.A)({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Re.ZodArray},T(t)));class pe extends A{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=i.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==o.object){const t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:o.object,received:t.parsedType}),g}const{status:t,ctx:n}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),r=[];if(!(this._def.catchall instanceof le&&"strip"===this._def.unknownKeys))for(const o in n.data)a.includes(o)||r.push(o);const s=[];for(const o of a){const e=i[o],t=n.data[o];s.push({key:{status:"valid",value:o},value:e._parse(new C(n,t,n.path,o)),alwaysSet:o in n.data})}if(this._def.catchall instanceof le){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of r)s.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)r.length>0&&(f(n,{code:l.unrecognized_keys,keys:r}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of r){const i=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new C(n,i,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of s){const n=await t.key,i=await t.value;e.push({key:n,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>h.mergeObjectSync(t,e)):h.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return w.errToObj,new pe((0,r.A)((0,r.A)({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:(t,n)=>{var i,a,r,o;const s=null!==(i=null===(a=(r=this._def).errorMap)||void 0===a?void 0:a.call(r,t,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=w.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}))}strip(){return new pe((0,r.A)((0,r.A)({},this._def),{},{unknownKeys:"strip"}))}passthrough(){return new pe((0,r.A)((0,r.A)({},this._def),{},{unknownKeys:"passthrough"}))}extend(e){return new pe((0,r.A)((0,r.A)({},this._def),{},{shape:()=>(0,r.A)((0,r.A)({},this._def.shape()),e)}))}merge(e){return new pe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>(0,r.A)((0,r.A)({},this._def.shape()),e._def.shape()),typeName:Re.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new pe((0,r.A)((0,r.A)({},this._def),{},{catchall:e}))}pick(e){const t={};for(const n of i.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new pe((0,r.A)((0,r.A)({},this._def),{},{shape:()=>t}))}omit(e){const t={};for(const n of i.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new pe((0,r.A)((0,r.A)({},this._def),{},{shape:()=>t}))}deepPartial(){return de(this)}partial(e){const t={};for(const n of i.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?t[n]=i:t[n]=i.optional()}return new pe((0,r.A)((0,r.A)({},this._def),{},{shape:()=>t}))}required(e){const t={};for(const n of i.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Ae;)e=e._def.innerType;t[n]=e}return new pe((0,r.A)((0,r.A)({},this._def),{},{shape:()=>t}))}keyof(){return _e(i.objectKeys(this.shape))}}pe.create=(e,t)=>new pe((0,r.A)({shape:()=>e,unknownKeys:"strip",catchall:le.create(),typeName:Re.ZodObject},T(t))),pe.strictCreate=(e,t)=>new pe((0,r.A)({shape:()=>e,unknownKeys:"strict",catchall:le.create(),typeName:Re.ZodObject},T(t))),pe.lazycreate=(e,t)=>new pe((0,r.A)({shape:e,unknownKeys:"strip",catchall:le.create(),typeName:Re.ZodObject},T(t)));class me extends A{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n=(0,r.A)((0,r.A)({},t),{},{common:(0,r.A)((0,r.A)({},t.common),{},{issues:[]}),parent:null});return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const i of e)if("dirty"===i.result.status)return t.common.issues.push(...i.ctx.common.issues),i.result;const n=e.map(e=>new u(e.ctx.common.issues));return f(t,{code:l.invalid_union,unionErrors:n}),g});{let e;const i=[];for(const o of n){const n=(0,r.A)((0,r.A)({},t),{},{common:(0,r.A)((0,r.A)({},t.common),{},{issues:[]}),parent:null}),a=o._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&i.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=i.map(e=>new u(e));return f(t,{code:l.invalid_union,unionErrors:a}),g}}get options(){return this._def.options}}me.create=(e,t)=>new me((0,r.A)({options:e,typeName:Re.ZodUnion},T(t)));function fe(e,t){const n=s(e),a=s(t);if(e===t)return{valid:!0,data:e};if(n===o.object&&a===o.object){const n=i.objectKeys(t),a=i.objectKeys(e).filter(e=>-1!==n.indexOf(e)),o=(0,r.A)((0,r.A)({},e),t);for(const i of a){const n=fe(e[i],t[i]);if(!n.valid)return{valid:!1};o[i]=n.data}return{valid:!0,data:o}}if(n===o.array&&a===o.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let i=0;i<e.length;i++){const a=fe(e[i],t[i]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===o.date&&a===o.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class he extends A{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=(e,i)=>{if(b(e)||b(i))return g;const a=fe(e.value,i.value);return a.valid?((x(e)||x(i))&&t.dirty(),{status:t.value,value:a.data}):(f(n,{code:l.invalid_intersection_types}),g)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(e=>{let[t,n]=e;return i(t,n)}):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}he.create=(e,t,n)=>new he((0,r.A)({left:e,right:t,typeName:Re.ZodIntersection},T(n)));class ge extends A{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==o.array)return f(n,{code:l.invalid_type,expected:o.array,received:n.parsedType}),g;if(n.data.length<this._def.items.length)return f(n,{code:l.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),g;!this._def.rest&&n.data.length>this._def.items.length&&(f(n,{code:l.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...n.data].map((e,t)=>{const i=this._def.items[t]||this._def.rest;return i?i._parse(new C(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(i).then(e=>h.mergeArray(t,e)):h.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new ge((0,r.A)((0,r.A)({},this._def),{},{rest:e}))}}ge.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ge((0,r.A)({items:e,typeName:Re.ZodTuple,rest:null},T(t)))};class ye extends A{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==o.object)return f(n,{code:l.invalid_type,expected:o.object,received:n.parsedType}),g;const i=[],a=this._def.keyType,r=this._def.valueType;for(const o in n.data)i.push({key:a._parse(new C(n,o,n.path,o)),value:r._parse(new C(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?h.mergeObjectAsync(t,i):h.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return new ye(t instanceof A?(0,r.A)({keyType:e,valueType:t,typeName:Re.ZodRecord},T(n)):(0,r.A)({keyType:$.create(),valueType:e,typeName:Re.ZodRecord},T(t)))}}class ve extends A{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==o.map)return f(n,{code:l.invalid_type,expected:o.map,received:n.parsedType}),g;const i=this._def.keyType,a=this._def.valueType,r=[...n.data.entries()].map((e,t)=>{let[r,o]=e;return{key:i._parse(new C(n,r,n.path,[t,"key"])),value:a._parse(new C(n,o,n.path,[t,"value"]))}});if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of r){const i=await n.key,a=await n.value;if("aborted"===i.status||"aborted"===a.status)return g;"dirty"!==i.status&&"dirty"!==a.status||t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of r){const i=n.key,a=n.value;if("aborted"===i.status||"aborted"===a.status)return g;"dirty"!==i.status&&"dirty"!==a.status||t.dirty(),e.set(i.value,a.value)}return{status:t.value,value:e}}}}ve.create=(e,t,n)=>new ve((0,r.A)({valueType:t,keyType:e,typeName:Re.ZodMap},T(n)));class be extends A{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==o.set)return f(n,{code:l.invalid_type,expected:o.set,received:n.parsedType}),g;const i=this._def;null!==i.minSize&&n.data.size<i.minSize.value&&(f(n,{code:l.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&n.data.size>i.maxSize.value&&(f(n,{code:l.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const a=this._def.valueType;function r(e){const n=new Set;for(const i of e){if("aborted"===i.status)return g;"dirty"===i.status&&t.dirty(),n.add(i.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map((e,t)=>a._parse(new C(n,e,n.path,t)));return n.common.async?Promise.all(s).then(e=>r(e)):r(s)}min(e,t){return new be((0,r.A)((0,r.A)({},this._def),{},{minSize:{value:e,message:w.toString(t)}}))}max(e,t){return new be((0,r.A)((0,r.A)({},this._def),{},{maxSize:{value:e,message:w.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}be.create=(e,t)=>new be((0,r.A)({valueType:e,minSize:null,maxSize:null,typeName:Re.ZodSet},T(t)));class xe extends A{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}xe.create=(e,t)=>new xe((0,r.A)({getter:e,typeName:Re.ZodLazy},T(t)));class ke extends A{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return f(t,{received:t.data,code:l.invalid_literal,expected:this._def.value}),g}return{status:"valid",value:e.data}}get value(){return this._def.value}}function _e(e,t){return new we((0,r.A)({values:e,typeName:Re.ZodEnum},T(t)))}ke.create=(e,t)=>new ke((0,r.A)({value:e,typeName:Re.ZodLiteral},T(t)));class we extends A{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return f(t,{expected:i.joinValues(n),received:t.parsedType,code:l.invalid_type}),g}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return f(t,{received:t.data,code:l.invalid_enum_value,options:n}),g}return v(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return we.create(e,(0,r.A)((0,r.A)({},this._def),t))}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return we.create(this.options.filter(t=>!e.includes(t)),(0,r.A)((0,r.A)({},this._def),t))}}we.create=_e;class Ce extends A{_parse(e){const t=i.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==o.string&&n.parsedType!==o.number){const e=i.objectValues(t);return f(n,{expected:i.joinValues(e),received:n.parsedType,code:l.invalid_type}),g}if(this._cache||(this._cache=new Set(i.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=i.objectValues(t);return f(n,{received:n.data,code:l.invalid_enum_value,options:e}),g}return v(e.data)}get enum(){return this._def.values}}Ce.create=(e,t)=>new Ce((0,r.A)({values:e,typeName:Re.ZodNativeEnum},T(t)));class Se extends A{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==o.promise&&!1===t.common.async)return f(t,{code:l.invalid_type,expected:o.promise,received:t.parsedType}),g;const n=t.parsedType===o.promise?t.data:Promise.resolve(t.data);return v(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Se.create=(e,t)=>new Se((0,r.A)({type:e,typeName:Re.ZodPromise},T(t)));class Te extends A{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=this._def.effect||null,r={addIssue:e=>{f(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(r.addIssue=r.addIssue.bind(r),"preprocess"===a.type){const e=a.transform(n.data,r);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return g;const i=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===i.status?g:"dirty"===i.status||"dirty"===t.value?y(i.value):i});{if("aborted"===t.value)return g;const i=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===i.status?g:"dirty"===i.status||"dirty"===t.value?y(i.value):i}}if("refinement"===a.type){const e=e=>{const t=a.refinement(e,r);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===i.status?g:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?g:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===a.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!k(e))return g;const i=a.transform(e.value,r);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>k(e)?Promise.resolve(a.transform(e.value,r)).then(e=>({status:t.value,value:e})):g)}i.assertNever(a)}}Te.create=(e,t,n)=>new Te((0,r.A)({schema:e,typeName:Re.ZodEffects,effect:t},T(n))),Te.createWithPreprocess=(e,t,n)=>new Te((0,r.A)({schema:t,effect:{type:"preprocess",transform:e},typeName:Re.ZodEffects},T(n)));class Ae extends A{_parse(e){return this._getType(e)===o.undefined?v(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ae.create=(e,t)=>new Ae((0,r.A)({innerType:e,typeName:Re.ZodOptional},T(t)));class Ee extends A{_parse(e){return this._getType(e)===o.null?v(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ee.create=(e,t)=>new Ee((0,r.A)({innerType:e,typeName:Re.ZodNullable},T(t)));class Ne extends A{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===o.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ne.create=(e,t)=>new Ne((0,r.A)({innerType:e,typeName:Re.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default},T(t)));class je extends A{_parse(e){const{ctx:t}=this._processInputParams(e),n=(0,r.A)((0,r.A)({},t),{},{common:(0,r.A)((0,r.A)({},t.common),{},{issues:[]})}),i=this._def.innerType._parse({data:n.data,path:n.path,parent:(0,r.A)({},n)});return _(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new u(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new u(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}je.create=(e,t)=>new je((0,r.A)({innerType:e,typeName:Re.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch},T(t)));class Oe extends A{_parse(e){if(this._getType(e)!==o.nan){const t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:o.nan,received:t.parsedType}),g}return{status:"valid",value:e.data}}}Oe.create=e=>new Oe((0,r.A)({typeName:Re.ZodNaN},T(e)));Symbol("zod_brand");class Ie extends A{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Pe extends A{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?g:"dirty"===e.status?(t.dirty(),y(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?g:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Pe({in:e,out:t,typeName:Re.ZodPipeline})}}class Me extends A{_parse(e){const t=this._def.innerType._parse(e),n=e=>(k(e)&&(e.value=Object.freeze(e.value)),e);return _(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}Me.create=(e,t)=>new Me((0,r.A)({innerType:e,typeName:Re.ZodReadonly},T(t)));pe.lazycreate;var Re;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Re||(Re={}));const De=$.create,Le=X.create,qe=(Oe.create,ee.create,te.create),Fe=(ne.create,ie.create,ae.create,re.create,oe.create,se.create),Ue=(le.create,ue.create,ce.create),He=pe.create,Ve=(pe.strictCreate,me.create),ze=(he.create,ge.create,ye.create),Be=(ve.create,be.create,xe.create),Ge=(ke.create,we.create),Ke=(Ce.create,Se.create,Te.create,Ae.create,Ee.create,Te.createWithPreprocess,Pe.create,e=>$.create((0,r.A)((0,r.A)({},e),{},{coerce:!0})));let Je,We;function Ye(e,t,n){var i,a,r;if(!(null===(i=e.httpOptions)||void 0===i?void 0:i.baseUrl)){const i={geminiUrl:Je,vertexUrl:We};return e.vertexai?null!==(a=i.vertexUrl)&&void 0!==a?a:t:null!==(r=i.geminiUrl)&&void 0!==r?r:n}return e.httpOptions.baseUrl}class Ze{}function $e(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return void 0!==e&&null!==e?String(e):""}throw new Error("Key '".concat(n,"' not found in valueMap."))})}function Qe(e,t,n){for(let r=0;r<t.length-1;r++){const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(!(a in e)){if(!Array.isArray(n))throw new Error("Value must be a list given an array path ".concat(i));e[a]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[a])){const i=e[a];if(Array.isArray(n))for(let e=0;e<i.length;e++){Qe(i[e],t.slice(r+1),n[e])}else for(const e of i)Qe(e,t.slice(r+1),n)}return}if(i.endsWith("[0]")){const a=i.slice(0,-3);a in e||(e[a]=[{}]);return void Qe(e[a][0],t.slice(r+1),n)}e[i]&&"object"===typeof e[i]||(e[i]={}),e=e[i]}const i=t[t.length-1],a=e[i];if(void 0!==a){if(!n||"object"===typeof n&&0===Object.keys(n).length)return;if(n===a)return;if("object"!==typeof a||"object"!==typeof n||null===a||null===n)throw new Error("Cannot set value for an existing key. Key: ".concat(i));Object.assign(a,n)}else e[i]=n}function Xe(e,t){try{if(1===t.length&&"_self"===t[0])return e;for(let n=0;n<t.length;n++){if("object"!==typeof e||null===e)return;const i=t[n];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const i=e[a];if(!Array.isArray(i))return;return i.map(e=>Xe(e,t.slice(n+1)))}return}e=e[i]}return e}catch(n){if(n instanceof TypeError)return;throw n}}var et,tt,nt,it,at,rt,ot,st,lt,ut,ct,dt,pt,mt,ft,ht,gt,yt,vt,bt,xt,kt,_t,wt,Ct,St,Tt,At,Et,Nt,jt,Ot,It,Pt,Mt,Rt,Dt,Lt,qt,Ft;!function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"}(et||(et={})),function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"}(tt||(tt={})),function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"}(nt||(nt={})),function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(it||(it={})),function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"}(at||(at={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"}(rt||(rt={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(ot||(ot={})),function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"}(st||(st={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"}(lt||(lt={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(ut||(ut={})),function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"}(ct||(ct={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"}(dt||(dt={})),function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"}(pt||(pt={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"}(mt||(mt={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"}(ft||(ft={})),function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"}(ht||(ht={})),function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"}(gt||(gt={})),function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"}(yt||(yt={})),function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"}(vt||(vt={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(bt||(bt={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"}(xt||(xt={})),function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"}(kt||(kt={})),function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(_t||(_t={})),function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"}(wt||(wt={})),function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"}(Ct||(Ct={})),function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"}(St||(St={})),function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"}(Tt||(Tt={})),function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"}(At||(At={})),function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"}(Et||(Et={})),function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"}(Nt||(Nt={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"}(jt||(jt={})),function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"}(Ot||(Ot={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"}(It||(It={})),function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"}(Pt||(Pt={})),function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"}(Mt||(Mt={})),function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"}(Rt||(Rt={})),function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"}(Dt||(Dt={})),function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"}(Lt||(Lt={})),function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"}(qt||(qt={})),function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"}(Ft||(Ft={}));class Ut{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ht{get text(){var e,t,n,i,a,r,o,s;if(0===(null===(i=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===i?void 0:i.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let l="",u=!1;const c=[];for(const d of null!==(s=null===(o=null===(r=null===(a=this.candidates)||void 0===a?void 0:a[0])||void 0===r?void 0:r.content)||void 0===o?void 0:o.parts)&&void 0!==s?s:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||null===t&&void 0===t||c.push(e);if("string"===typeof d.text){if("boolean"===typeof d.thought&&d.thought)continue;u=!0,l+=d.text}}return c.length>0&&console.warn("there are non-text parts ".concat(c," in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.")),u?l:void 0}get data(){var e,t,n,i,a,r,o,s;if(0===(null===(i=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===i?void 0:i.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let l="";const u=[];for(const c of null!==(s=null===(o=null===(r=null===(a=this.candidates)||void 0===a?void 0:a[0])||void 0===r?void 0:r.content)||void 0===o?void 0:o.parts)&&void 0!==s?s:[]){for(const[e,t]of Object.entries(c))"inlineData"===e||null===t&&void 0===t||u.push(e);c.inlineData&&"string"===typeof c.inlineData.data&&(l+=atob(c.inlineData.data))}return u.length>0&&console.warn("there are non-data parts ".concat(u," in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.")),l.length>0?btoa(l):void 0}get functionCalls(){var e,t,n,i,a,r,o,s;if(0===(null===(i=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===i?void 0:i.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const l=null===(s=null===(o=null===(r=null===(a=this.candidates)||void 0===a?void 0:a[0])||void 0===r?void 0:r.content)||void 0===o?void 0:o.parts)||void 0===s?void 0:s.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null===l||void 0===l?void 0:l.length)?l:void 0}get executableCode(){var e,t,n,i,a,r,o,s,l;if(0===(null===(i=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===i?void 0:i.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=null===(s=null===(o=null===(r=null===(a=this.candidates)||void 0===a?void 0:a[0])||void 0===r?void 0:r.content)||void 0===o?void 0:o.parts)||void 0===s?void 0:s.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null===u||void 0===u?void 0:u.length)?null===(l=null===u||void 0===u?void 0:u[0])||void 0===l?void 0:l.code:void 0}get codeExecutionResult(){var e,t,n,i,a,r,o,s,l;if(0===(null===(i=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===i?void 0:i.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=null===(s=null===(o=null===(r=null===(a=this.candidates)||void 0===a?void 0:a[0])||void 0===r?void 0:r.content)||void 0===o?void 0:o.parts)||void 0===s?void 0:s.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null===u||void 0===u?void 0:u.length)?null===(l=null===u||void 0===u?void 0:u[0])||void 0===l?void 0:l.output:void 0}}class Vt{}class zt{}class Bt{}class Gt{}class Kt{}class Jt{}class Wt{}class Yt{}class Zt{}class $t{}class Qt{}class Xt{}class en{}class tn{}class nn{}class an{get text(){var e,t,n;let i="",a=!1;const r=[];for(const o of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(o))"text"!==e&&"thought"!==e&&null!==t&&r.push(e);if("string"===typeof o.text){if("boolean"===typeof o.thought&&o.thought)continue;a=!0,i+=o.text}}return r.length>0&&console.warn("there are non-text parts ".concat(r," in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.")),a?i:void 0}get data(){var e,t,n;let i="";const a=[];for(const r of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(r))"inlineData"!==e&&null!==t&&a.push(e);r.inlineData&&"string"===typeof r.inlineData.data&&(i+=atob(r.inlineData.data))}return a.length>0&&console.warn("there are non-data parts ".concat(a," in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.")),i.length>0?btoa(i):void 0}}class rn{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}function on(e,t){if(!t||"string"!==typeof t)throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return"publishers/".concat(e[0],"/models/").concat(e[1])}return"publishers/google/models/".concat(t)}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:"models/".concat(t)}function sn(e,t){const n=on(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(n):n.startsWith("models/")&&e.isVertexAI()?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/publishers/google/").concat(n):n:""}function ln(e){return Array.isArray(e)?e.map(e=>un(e)):[un(e)]}function un(e){if("object"===typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: ".concat(typeof e))}function cn(e){if(null===e||void 0===e)throw new Error("PartUnion is required");if("object"===typeof e)return e;if("string"===typeof e)return{text:e};throw new Error("Unsupported part type: ".concat(typeof e))}function dn(e){if(null===e||void 0===e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>cn(e)):[cn(e)]}function pn(e){return null!==e&&void 0!==e&&"object"===typeof e&&"parts"in e&&Array.isArray(e.parts)}function mn(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionCall"in e}function fn(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionResponse"in e}function hn(e){if(null===e||void 0===e)throw new Error("ContentUnion is required");return pn(e)?e:{role:"user",parts:dn(e)}}function gn(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=hn(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=hn(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>hn(e)):[hn(t)]}function yn(e){if(null===e||void 0===e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(mn(e)||fn(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[hn(e)]}const t=[],n=[],i=pn(e[0]);for(const a of e){const e=pn(a);if(e!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(a);else{if(mn(a)||fn(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return i||t.push({role:"user",parts:dn(n)}),t}const vn=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),bn=Ge(["string","number","integer","object","array","boolean","null"]),xn=Ve([bn,Ue(bn)]);function kn(e){const t={},n=["items"],i=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=e.anyOf;null!=r&&2==r.length&&("null"===r[0].type?(t.nullable=!0,e=r[1]):"null"===r[1].type&&(t.nullable=!0,e=r[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(nt).includes(n[0].toUpperCase())?n[0].toUpperCase():nt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(nt).includes(e.toUpperCase())?e.toUpperCase():nt.TYPE_UNSPECIFIED})}}(e.type,t);for(const[o,s]of Object.entries(e))if(null!=s)if("type"==o){if("null"===s)throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(nt).includes(s.toUpperCase())?s.toUpperCase():nt.TYPE_UNSPECIFIED}else if(n.includes(o))t[o]=kn(s);else if(i.includes(o)){const e=[];for(const n of s)"null"!=n.type?e.push(kn(n)):t.nullable=!0;t[o]=e}else if(a.includes(o)){const e={};for(const[t,n]of Object.entries(s))e[t]=kn(n);t[o]=e}else{if("additionalProperties"===o)continue;t[o]=s}return t}function _n(e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=Be(()=>{const n=He({type:xn.optional(),format:De().optional(),title:De().optional(),description:De().optional(),default:Fe().optional(),items:t.optional(),minItems:Ke().optional(),maxItems:Ke().optional(),enum:Ue(Fe()).optional(),properties:ze(De(),t).optional(),required:Ue(De()).optional(),minProperties:Ke().optional(),maxProperties:Ke().optional(),propertyOrdering:Ue(De()).optional(),minimum:Le().optional(),maximum:Le().optional(),minLength:Ke().optional(),maxLength:Ke().optional(),pattern:De().optional(),anyOf:Ue(t).optional(),additionalProperties:qe().optional()});return e?n.strict():n});return t}().parse(e);return kn(t)}return kn(e)}function wn(e){if("object"===typeof e)return e;if("string"===typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: ".concat(typeof e))}function Cn(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Sn(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=_n(t.parameters)),t.response&&(t.response=_n(t.response));return e}function Tn(e){if(void 0===e||null===e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function An(e,t){if("string"!==typeof t)throw new Error("name must be a string");return function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=!t.startsWith("".concat(n,"/"))&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?"projects/".concat(e.getProject(),"/").concat(t):t.startsWith("".concat(n,"/"))?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(t):a?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(n,"/").concat(t):t:a?"".concat(n,"/").concat(t):t}(e,t,"cachedContents")}function En(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Nn(e){if("string"!==typeof e)throw new Error("fromImageBytes must be a string");return e}function jn(e){var t;let n;var i;if(null!==(i=e)&&void 0!==i&&"object"===typeof i&&"name"in i&&(n=e.name),(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"uri"in e}(e)||(n=e.uri,void 0!==n))&&(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"video"in e}(e)||(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0!==n))){if("string"===typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error("Could not extract file name from URI ".concat(n));n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function On(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function In(e){for(const t of["models","tunedModels","publisherModels"])if(Pn(e,t))return e[t];return[]}function Pn(e,t){return null!==e&&"object"===typeof e&&t in e}function Mn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e,i={name:n.name,description:n.description,parameters:kn(Ln(n.inputSchema))};t.behavior&&(i.behavior=t.behavior);return{functionDeclarations:[i]}}function Rn(e){const t=[];for(const n of e)t.push(Ln(n));return t}function Dn(e){const t={};for(const[n,i]of Object.entries(e)){const e=i;t[n]=Ln(e)}return t}function Ln(e){const t=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),a={};for(const[r,o]of Object.entries(e))if(t.has(r))a[r]=Ln(o);else if(n.has(r))a[r]=Rn(o);else if(i.has(r))a[r]=Dn(o);else if("type"===r){const e=o.toUpperCase();a[r]=Object.values(nt).includes(e)?e:nt.TYPE_UNSPECIFIED}else vn.has(r)&&(a[r]=o);return a}function qn(e,t){if("string"!==typeof t&&!Array.isArray(t)){if(e&&e.isVertexAI()){if(t.gcsUri&&t.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!t.gcsUri&&!t.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(t.inlinedRequests&&t.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!t.inlinedRequests&&!t.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return t}if(Array.isArray(t))return{inlinedRequests:t};if("string"===typeof t){if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:[t]};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};if(t.startsWith("files/"))return{fileName:t}}throw new Error("Unsupported source: ".concat(t))}function Fn(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error("Invalid batch job name: ".concat(n,"."))}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error("Invalid batch job name: ".concat(n,"."))}function Un(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":e}function Hn(e){const t={},n=Xe(e,["videoMetadata"]);null!=n&&Qe(t,["videoMetadata"],function(e){const t={},n=Xe(e,["fps"]);null!=n&&Qe(t,["fps"],n);const i=Xe(e,["endOffset"]);null!=i&&Qe(t,["endOffset"],i);const a=Xe(e,["startOffset"]);return null!=a&&Qe(t,["startOffset"],a),t}(n));const i=Xe(e,["thought"]);null!=i&&Qe(t,["thought"],i);const a=Xe(e,["inlineData"]);null!=a&&Qe(t,["inlineData"],function(e){const t={};if(void 0!==Xe(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xe(e,["data"]);null!=n&&Qe(t,["data"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(a));const r=Xe(e,["fileData"]);null!=r&&Qe(t,["fileData"],function(e){const t={};if(void 0!==Xe(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xe(e,["fileUri"]);null!=n&&Qe(t,["fileUri"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(r));const o=Xe(e,["thoughtSignature"]);null!=o&&Qe(t,["thoughtSignature"],o);const s=Xe(e,["codeExecutionResult"]);null!=s&&Qe(t,["codeExecutionResult"],s);const l=Xe(e,["executableCode"]);null!=l&&Qe(t,["executableCode"],l);const u=Xe(e,["functionCall"]);null!=u&&Qe(t,["functionCall"],u);const c=Xe(e,["functionResponse"]);null!=c&&Qe(t,["functionResponse"],c);const d=Xe(e,["text"]);return null!=d&&Qe(t,["text"],d),t}function Vn(e){const t={},n=Xe(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Hn(e))),Qe(t,["parts"],e)}const i=Xe(e,["role"]);return null!=i&&Qe(t,["role"],i),t}function zn(e){const t={},n=Xe(e,["timeRangeFilter"]);return null!=n&&Qe(t,["timeRangeFilter"],function(e){const t={},n=Xe(e,["startTime"]);null!=n&&Qe(t,["startTime"],n);const i=Xe(e,["endTime"]);return null!=i&&Qe(t,["endTime"],i),t}(n)),t}function Bn(e){const t={},n=Xe(e,["dynamicRetrievalConfig"]);return null!=n&&Qe(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xe(e,["mode"]);null!=n&&Qe(t,["mode"],n);const i=Xe(e,["dynamicThreshold"]);return null!=i&&Qe(t,["dynamicThreshold"],i),t}(n)),t}function Gn(e){const t={},n=Xe(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["behavior"]);null!=n&&Qe(t,["behavior"],n);const i=Xe(e,["description"]);null!=i&&Qe(t,["description"],i);const a=Xe(e,["name"]);null!=a&&Qe(t,["name"],a);const r=Xe(e,["parameters"]);null!=r&&Qe(t,["parameters"],r);const o=Xe(e,["parametersJsonSchema"]);null!=o&&Qe(t,["parametersJsonSchema"],o);const s=Xe(e,["response"]);null!=s&&Qe(t,["response"],s);const l=Xe(e,["responseJsonSchema"]);return null!=l&&Qe(t,["responseJsonSchema"],l),t}(e))),Qe(t,["functionDeclarations"],e)}if(void 0!==Xe(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const i=Xe(e,["googleSearch"]);null!=i&&Qe(t,["googleSearch"],zn(i));const a=Xe(e,["googleSearchRetrieval"]);if(null!=a&&Qe(t,["googleSearchRetrieval"],Bn(a)),void 0!==Xe(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==Xe(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=Xe(e,["urlContext"])&&Qe(t,["urlContext"],{});const r=Xe(e,["codeExecution"]);return null!=r&&Qe(t,["codeExecution"],r),t}function Kn(e){const t={},n=Xe(e,["latLng"]);null!=n&&Qe(t,["latLng"],function(e){const t={},n=Xe(e,["latitude"]);null!=n&&Qe(t,["latitude"],n);const i=Xe(e,["longitude"]);return null!=i&&Qe(t,["longitude"],i),t}(n));const i=Xe(e,["languageCode"]);return null!=i&&Qe(t,["languageCode"],i),t}function Jn(e){const t={},n=Xe(e,["functionCallingConfig"]);null!=n&&Qe(t,["functionCallingConfig"],function(e){const t={},n=Xe(e,["mode"]);null!=n&&Qe(t,["mode"],n);const i=Xe(e,["allowedFunctionNames"]);return null!=i&&Qe(t,["allowedFunctionNames"],i),t}(n));const i=Xe(e,["retrievalConfig"]);return null!=i&&Qe(t,["retrievalConfig"],Kn(i)),t}function Wn(e){const t={},n=Xe(e,["prebuiltVoiceConfig"]);return null!=n&&Qe(t,["prebuiltVoiceConfig"],function(e){const t={},n=Xe(e,["voiceName"]);return null!=n&&Qe(t,["voiceName"],n),t}(n)),t}function Yn(e){const t={},n=Xe(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["speaker"]);null!=n&&Qe(t,["speaker"],n);const i=Xe(e,["voiceConfig"]);return null!=i&&Qe(t,["voiceConfig"],Wn(i)),t}(e))),Qe(t,["speakerVoiceConfigs"],e)}return t}function Zn(e,t,n){const i={},a=Xe(t,["systemInstruction"]);void 0!==n&&null!=a&&Qe(n,["systemInstruction"],Vn(hn(a)));const r=Xe(t,["temperature"]);null!=r&&Qe(i,["temperature"],r);const o=Xe(t,["topP"]);null!=o&&Qe(i,["topP"],o);const s=Xe(t,["topK"]);null!=s&&Qe(i,["topK"],s);const l=Xe(t,["candidateCount"]);null!=l&&Qe(i,["candidateCount"],l);const u=Xe(t,["maxOutputTokens"]);null!=u&&Qe(i,["maxOutputTokens"],u);const c=Xe(t,["stopSequences"]);null!=c&&Qe(i,["stopSequences"],c);const d=Xe(t,["responseLogprobs"]);null!=d&&Qe(i,["responseLogprobs"],d);const p=Xe(t,["logprobs"]);null!=p&&Qe(i,["logprobs"],p);const m=Xe(t,["presencePenalty"]);null!=m&&Qe(i,["presencePenalty"],m);const f=Xe(t,["frequencyPenalty"]);null!=f&&Qe(i,["frequencyPenalty"],f);const h=Xe(t,["seed"]);null!=h&&Qe(i,["seed"],h);const g=Xe(t,["responseMimeType"]);null!=g&&Qe(i,["responseMimeType"],g);const y=Xe(t,["responseSchema"]);null!=y&&Qe(i,["responseSchema"],function(e){const t={},n=Xe(e,["anyOf"]);null!=n&&Qe(t,["anyOf"],n);const i=Xe(e,["default"]);null!=i&&Qe(t,["default"],i);const a=Xe(e,["description"]);null!=a&&Qe(t,["description"],a);const r=Xe(e,["enum"]);null!=r&&Qe(t,["enum"],r);const o=Xe(e,["example"]);null!=o&&Qe(t,["example"],o);const s=Xe(e,["format"]);null!=s&&Qe(t,["format"],s);const l=Xe(e,["items"]);null!=l&&Qe(t,["items"],l);const u=Xe(e,["maxItems"]);null!=u&&Qe(t,["maxItems"],u);const c=Xe(e,["maxLength"]);null!=c&&Qe(t,["maxLength"],c);const d=Xe(e,["maxProperties"]);null!=d&&Qe(t,["maxProperties"],d);const p=Xe(e,["maximum"]);null!=p&&Qe(t,["maximum"],p);const m=Xe(e,["minItems"]);null!=m&&Qe(t,["minItems"],m);const f=Xe(e,["minLength"]);null!=f&&Qe(t,["minLength"],f);const h=Xe(e,["minProperties"]);null!=h&&Qe(t,["minProperties"],h);const g=Xe(e,["minimum"]);null!=g&&Qe(t,["minimum"],g);const y=Xe(e,["nullable"]);null!=y&&Qe(t,["nullable"],y);const v=Xe(e,["pattern"]);null!=v&&Qe(t,["pattern"],v);const b=Xe(e,["properties"]);null!=b&&Qe(t,["properties"],b);const x=Xe(e,["propertyOrdering"]);null!=x&&Qe(t,["propertyOrdering"],x);const k=Xe(e,["required"]);null!=k&&Qe(t,["required"],k);const _=Xe(e,["title"]);null!=_&&Qe(t,["title"],_);const w=Xe(e,["type"]);return null!=w&&Qe(t,["type"],w),t}(_n(y)));const v=Xe(t,["responseJsonSchema"]);if(null!=v&&Qe(i,["responseJsonSchema"],v),void 0!==Xe(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==Xe(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=Xe(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Xe(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const n=Xe(e,["category"]);null!=n&&Qe(t,["category"],n);const i=Xe(e,["threshold"]);return null!=i&&Qe(t,["threshold"],i),t}(e))),Qe(n,["safetySettings"],e)}const x=Xe(t,["tools"]);if(void 0!==n&&null!=x){let e=Tn(x);Array.isArray(e)&&(e=e.map(e=>Gn(Sn(e)))),Qe(n,["tools"],e)}const k=Xe(t,["toolConfig"]);if(void 0!==n&&null!=k&&Qe(n,["toolConfig"],Jn(k)),void 0!==Xe(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const _=Xe(t,["cachedContent"]);void 0!==n&&null!=_&&Qe(n,["cachedContent"],An(e,_));const w=Xe(t,["responseModalities"]);null!=w&&Qe(i,["responseModalities"],w);const C=Xe(t,["mediaResolution"]);null!=C&&Qe(i,["mediaResolution"],C);const S=Xe(t,["speechConfig"]);if(null!=S&&Qe(i,["speechConfig"],function(e){const t={},n=Xe(e,["voiceConfig"]);null!=n&&Qe(t,["voiceConfig"],Wn(n));const i=Xe(e,["multiSpeakerVoiceConfig"]);null!=i&&Qe(t,["multiSpeakerVoiceConfig"],Yn(i));const a=Xe(e,["languageCode"]);return null!=a&&Qe(t,["languageCode"],a),t}(wn(S))),void 0!==Xe(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const T=Xe(t,["thinkingConfig"]);return null!=T&&Qe(i,["thinkingConfig"],function(e){const t={},n=Xe(e,["includeThoughts"]);null!=n&&Qe(t,["includeThoughts"],n);const i=Xe(e,["thinkingBudget"]);return null!=i&&Qe(t,["thinkingBudget"],i),t}(T)),i}function $n(e,t){const n={};if(void 0!==Xe(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==Xe(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==Xe(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=Xe(t,["fileName"]);null!=i&&Qe(n,["fileName"],i);const a=Xe(t,["inlinedRequests"]);if(null!=a){let t=a;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["request","model"],on(e,i));const a=Xe(t,["contents"]);if(null!=a){let e=yn(a);Array.isArray(e)&&(e=e.map(e=>Vn(e))),Qe(n,["request","contents"],e)}const r=Xe(t,["config"]);return null!=r&&Qe(n,["request","generationConfig"],Zn(e,r,n)),n}(e,t))),Qe(n,["requests","requests"],t)}return n}function Qn(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","model"],on(e,i));const a=Xe(t,["src"]);null!=a&&Qe(n,["batch","inputConfig"],$n(e,qn(e,a)));const r=Xe(t,["config"]);return null!=r&&Qe(n,["config"],function(e,t){const n=Xe(e,["displayName"]);if(void 0!==t&&null!=n&&Qe(t,["batch","displayName"],n),void 0!==Xe(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.");return{}}(r,n)),n}function Xn(e){const t={},n=Xe(e,["config"]);return null!=n&&Qe(t,["config"],function(e,t){const n=Xe(e,["pageSize"]);void 0!==t&&null!=n&&Qe(t,["_query","pageSize"],n);const i=Xe(e,["pageToken"]);if(void 0!==t&&null!=i&&Qe(t,["_query","pageToken"],i),void 0!==Xe(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.");return{}}(n,t)),t}function ei(e,t){const n=Xe(e,["displayName"]);void 0!==t&&null!=n&&Qe(t,["displayName"],n);const i=Xe(e,["dest"]);return void 0!==t&&null!=i&&Qe(t,["outputConfig"],function(e){const t={},n=Xe(e,["format"]);null!=n&&Qe(t,["predictionsFormat"],n);const i=Xe(e,["gcsUri"]);null!=i&&Qe(t,["gcsDestination","outputUriPrefix"],i);const a=Xe(e,["bigqueryUri"]);if(null!=a&&Qe(t,["bigqueryDestination","outputUri"],a),void 0!==Xe(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==Xe(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return t}(function(e){const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error("Unsupported destination: ".concat(t))}(i))),{}}function ti(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["model"],on(e,i));const a=Xe(t,["src"]);null!=a&&Qe(n,["inputConfig"],function(e){const t={},n=Xe(e,["format"]);null!=n&&Qe(t,["instancesFormat"],n);const i=Xe(e,["gcsUri"]);null!=i&&Qe(t,["gcsSource","uris"],i);const a=Xe(e,["bigqueryUri"]);if(null!=a&&Qe(t,["bigquerySource","inputUri"],a),void 0!==Xe(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==Xe(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(qn(e,a)));const r=Xe(t,["config"]);return null!=r&&Qe(n,["config"],ei(r,n)),n}function ni(e){const t={},n=Xe(e,["config"]);return null!=n&&Qe(t,["config"],function(e,t){const n=Xe(e,["pageSize"]);void 0!==t&&null!=n&&Qe(t,["_query","pageSize"],n);const i=Xe(e,["pageToken"]);void 0!==t&&null!=i&&Qe(t,["_query","pageToken"],i);const a=Xe(e,["filter"]);return void 0!==t&&null!=a&&Qe(t,["_query","filter"],a),{}}(n,t)),t}function ii(e){const t={},n=Xe(e,["videoMetadata"]);null!=n&&Qe(t,["videoMetadata"],function(e){const t={},n=Xe(e,["fps"]);null!=n&&Qe(t,["fps"],n);const i=Xe(e,["endOffset"]);null!=i&&Qe(t,["endOffset"],i);const a=Xe(e,["startOffset"]);return null!=a&&Qe(t,["startOffset"],a),t}(n));const i=Xe(e,["thought"]);null!=i&&Qe(t,["thought"],i);const a=Xe(e,["inlineData"]);null!=a&&Qe(t,["inlineData"],function(e){const t={},n=Xe(e,["data"]);null!=n&&Qe(t,["data"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(a));const r=Xe(e,["fileData"]);null!=r&&Qe(t,["fileData"],function(e){const t={},n=Xe(e,["fileUri"]);null!=n&&Qe(t,["fileUri"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(r));const o=Xe(e,["thoughtSignature"]);null!=o&&Qe(t,["thoughtSignature"],o);const s=Xe(e,["codeExecutionResult"]);null!=s&&Qe(t,["codeExecutionResult"],s);const l=Xe(e,["executableCode"]);null!=l&&Qe(t,["executableCode"],l);const u=Xe(e,["functionCall"]);null!=u&&Qe(t,["functionCall"],u);const c=Xe(e,["functionResponse"]);null!=c&&Qe(t,["functionResponse"],c);const d=Xe(e,["text"]);return null!=d&&Qe(t,["text"],d),t}function ai(e){const t={},n=Xe(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["retrievedUrl"]);null!=n&&Qe(t,["retrievedUrl"],n);const i=Xe(e,["urlRetrievalStatus"]);return null!=i&&Qe(t,["urlRetrievalStatus"],i),t}(e))),Qe(t,["urlMetadata"],e)}return t}function ri(e){const t={},n=Xe(e,["content"]);null!=n&&Qe(t,["content"],function(e){const t={},n=Xe(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ii(e))),Qe(t,["parts"],e)}const i=Xe(e,["role"]);return null!=i&&Qe(t,["role"],i),t}(n));const i=Xe(e,["citationMetadata"]);null!=i&&Qe(t,["citationMetadata"],function(e){const t={},n=Xe(e,["citationSources"]);return null!=n&&Qe(t,["citations"],n),t}(i));const a=Xe(e,["tokenCount"]);null!=a&&Qe(t,["tokenCount"],a);const r=Xe(e,["finishReason"]);null!=r&&Qe(t,["finishReason"],r);const o=Xe(e,["urlContextMetadata"]);null!=o&&Qe(t,["urlContextMetadata"],ai(o));const s=Xe(e,["avgLogprobs"]);null!=s&&Qe(t,["avgLogprobs"],s);const l=Xe(e,["groundingMetadata"]);null!=l&&Qe(t,["groundingMetadata"],l);const u=Xe(e,["index"]);null!=u&&Qe(t,["index"],u);const c=Xe(e,["logprobsResult"]);null!=c&&Qe(t,["logprobsResult"],c);const d=Xe(e,["safetyRatings"]);return null!=d&&Qe(t,["safetyRatings"],d),t}function oi(e){const t={},n=Xe(e,["response"]);null!=n&&Qe(t,["response"],function(e){const t={},n=Xe(e,["candidates"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ri(e))),Qe(t,["candidates"],e)}const i=Xe(e,["modelVersion"]);null!=i&&Qe(t,["modelVersion"],i);const a=Xe(e,["promptFeedback"]);null!=a&&Qe(t,["promptFeedback"],a);const r=Xe(e,["usageMetadata"]);return null!=r&&Qe(t,["usageMetadata"],r),t}(n));return null!=Xe(e,["error"])&&Qe(t,["error"],{}),t}function si(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["metadata","displayName"]);null!=i&&Qe(t,["displayName"],i);const a=Xe(e,["metadata","state"]);null!=a&&Qe(t,["state"],Un(a));const r=Xe(e,["metadata","createTime"]);null!=r&&Qe(t,["createTime"],r);const o=Xe(e,["metadata","endTime"]);null!=o&&Qe(t,["endTime"],o);const s=Xe(e,["metadata","updateTime"]);null!=s&&Qe(t,["updateTime"],s);const l=Xe(e,["metadata","model"]);null!=l&&Qe(t,["model"],l);const u=Xe(e,["metadata","output"]);return null!=u&&Qe(t,["dest"],function(e){const t={},n=Xe(e,["responsesFile"]);null!=n&&Qe(t,["fileName"],n);const i=Xe(e,["inlinedResponses","inlinedResponses"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>oi(e))),Qe(t,["inlinedResponses"],e)}return t}(u)),t}function li(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["displayName"]);null!=i&&Qe(t,["displayName"],i);const a=Xe(e,["state"]);null!=a&&Qe(t,["state"],Un(a));const r=Xe(e,["error"]);null!=r&&Qe(t,["error"],function(e){const t={},n=Xe(e,["details"]);null!=n&&Qe(t,["details"],n);const i=Xe(e,["code"]);null!=i&&Qe(t,["code"],i);const a=Xe(e,["message"]);return null!=a&&Qe(t,["message"],a),t}(r));const o=Xe(e,["createTime"]);null!=o&&Qe(t,["createTime"],o);const s=Xe(e,["startTime"]);null!=s&&Qe(t,["startTime"],s);const l=Xe(e,["endTime"]);null!=l&&Qe(t,["endTime"],l);const u=Xe(e,["updateTime"]);null!=u&&Qe(t,["updateTime"],u);const c=Xe(e,["model"]);null!=c&&Qe(t,["model"],c);const d=Xe(e,["inputConfig"]);null!=d&&Qe(t,["src"],function(e){const t={},n=Xe(e,["instancesFormat"]);null!=n&&Qe(t,["format"],n);const i=Xe(e,["gcsSource","uris"]);null!=i&&Qe(t,["gcsUri"],i);const a=Xe(e,["bigquerySource","inputUri"]);return null!=a&&Qe(t,["bigqueryUri"],a),t}(d));const p=Xe(e,["outputConfig"]);return null!=p&&Qe(t,["dest"],function(e){const t={},n=Xe(e,["predictionsFormat"]);null!=n&&Qe(t,["format"],n);const i=Xe(e,["gcsDestination","outputUriPrefix"]);null!=i&&Qe(t,["gcsUri"],i);const a=Xe(e,["bigqueryDestination","outputUri"]);return null!=a&&Qe(t,["bigqueryUri"],a),t}(p)),t}var ui;!function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"}(ui||(ui={}));class ci{constructor(e,t,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,i)}init(e,t,n){var i,a;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let r={config:{}};r=n?"object"===typeof n?Object.assign({},n):n:{config:{}},r.config&&(r.config.pageToken=t.nextPageToken),this.paramsInternal=r,this.pageInternalSize=null!==(a=null===(i=r.config)||void 0===i?void 0:i.pageSize)&&void 0!==a?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}class di extends Ze{constructor(e){var t;super(),t=this,this.apiClient=e,this.create=async e=>{if(this.apiClient.isVertexAI()){if(Array.isArray(e.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(e.config=e.config||{},void 0===e.config.displayName&&(e.config.displayName="genaiBatchJob_"),void 0===e.config.dest&&"string"===typeof e.src)if(e.src.startsWith("gs://")&&e.src.endsWith(".jsonl"))e.config.dest="".concat(e.src.slice(0,-6),"/dest");else{if(!e.src.startsWith("bq://"))throw new Error("Unsupported source:"+e.src);e.config.dest="".concat(e.src,"_dest_")}}return await this.createInternal(e)},this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ci(ui.PAGED_ITEM_BATCH_JOBS,e=>t.listInternal(e),await t.listInternal(e),e)}}async createInternal(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=ti(this.apiClient,e);return o=$e("batchPredictionJobs",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>li(e))}{const t=Qn(this.apiClient,e);return o=$e("{model}:batchGenerateContent",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>si(e))}}async get(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=function(e,t){const n={},i=Xe(t,["name"]);null!=i&&Qe(n,["_url","name"],Fn(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],a),n}(this.apiClient,e);return o=$e("batchPredictionJobs/{name}",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>li(e))}{const t=function(e,t){const n={},i=Xe(t,["name"]);null!=i&&Qe(n,["_url","name"],Fn(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],a),n}(this.apiClient,e);return o=$e("batches/{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>si(e))}}async cancel(e){var t,n,i,a;let r="",o={};if(this.apiClient.isVertexAI()){const i=function(e,t){const n={},i=Xe(t,["name"]);null!=i&&Qe(n,["_url","name"],Fn(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],a),n}(this.apiClient,e);r=$e("batchPredictionJobs/{name}:cancel",i._url),o=i._query,delete i.config,delete i._url,delete i._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},i=Xe(t,["name"]);null!=i&&Qe(n,["_url","name"],Fn(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],a),n}(this.apiClient,e);r=$e("batches/{name}:cancel",t._url),o=t._query,delete t.config,delete t._url,delete t._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal})}}async listInternal(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=ni(e);return o=$e("batchPredictionJobs",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Xe(e,["nextPageToken"]);null!=n&&Qe(t,["nextPageToken"],n);const i=Xe(e,["batchPredictionJobs"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>li(e))),Qe(t,["batchJobs"],e)}return t}(e),n=new nn;return Object.assign(n,t),n})}{const t=Xn(e);return o=$e("batches",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Xe(e,["nextPageToken"]);null!=n&&Qe(t,["nextPageToken"],n);const i=Xe(e,["operations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>si(e))),Qe(t,["batchJobs"],e)}return t}(e),n=new nn;return Object.assign(n,t),n})}}}function pi(e){const t={},n=Xe(e,["videoMetadata"]);null!=n&&Qe(t,["videoMetadata"],function(e){const t={},n=Xe(e,["fps"]);null!=n&&Qe(t,["fps"],n);const i=Xe(e,["endOffset"]);null!=i&&Qe(t,["endOffset"],i);const a=Xe(e,["startOffset"]);return null!=a&&Qe(t,["startOffset"],a),t}(n));const i=Xe(e,["thought"]);null!=i&&Qe(t,["thought"],i);const a=Xe(e,["inlineData"]);null!=a&&Qe(t,["inlineData"],function(e){const t={};if(void 0!==Xe(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xe(e,["data"]);null!=n&&Qe(t,["data"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(a));const r=Xe(e,["fileData"]);null!=r&&Qe(t,["fileData"],function(e){const t={};if(void 0!==Xe(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xe(e,["fileUri"]);null!=n&&Qe(t,["fileUri"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(r));const o=Xe(e,["thoughtSignature"]);null!=o&&Qe(t,["thoughtSignature"],o);const s=Xe(e,["codeExecutionResult"]);null!=s&&Qe(t,["codeExecutionResult"],s);const l=Xe(e,["executableCode"]);null!=l&&Qe(t,["executableCode"],l);const u=Xe(e,["functionCall"]);null!=u&&Qe(t,["functionCall"],u);const c=Xe(e,["functionResponse"]);null!=c&&Qe(t,["functionResponse"],c);const d=Xe(e,["text"]);return null!=d&&Qe(t,["text"],d),t}function mi(e){const t={},n=Xe(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>pi(e))),Qe(t,["parts"],e)}const i=Xe(e,["role"]);return null!=i&&Qe(t,["role"],i),t}function fi(e){const t={},n=Xe(e,["timeRangeFilter"]);return null!=n&&Qe(t,["timeRangeFilter"],function(e){const t={},n=Xe(e,["startTime"]);null!=n&&Qe(t,["startTime"],n);const i=Xe(e,["endTime"]);return null!=i&&Qe(t,["endTime"],i),t}(n)),t}function hi(e){const t={},n=Xe(e,["dynamicRetrievalConfig"]);return null!=n&&Qe(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xe(e,["mode"]);null!=n&&Qe(t,["mode"],n);const i=Xe(e,["dynamicThreshold"]);return null!=i&&Qe(t,["dynamicThreshold"],i),t}(n)),t}function gi(e){const t={},n=Xe(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["behavior"]);null!=n&&Qe(t,["behavior"],n);const i=Xe(e,["description"]);null!=i&&Qe(t,["description"],i);const a=Xe(e,["name"]);null!=a&&Qe(t,["name"],a);const r=Xe(e,["parameters"]);null!=r&&Qe(t,["parameters"],r);const o=Xe(e,["parametersJsonSchema"]);null!=o&&Qe(t,["parametersJsonSchema"],o);const s=Xe(e,["response"]);null!=s&&Qe(t,["response"],s);const l=Xe(e,["responseJsonSchema"]);return null!=l&&Qe(t,["responseJsonSchema"],l),t}(e))),Qe(t,["functionDeclarations"],e)}if(void 0!==Xe(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const i=Xe(e,["googleSearch"]);null!=i&&Qe(t,["googleSearch"],fi(i));const a=Xe(e,["googleSearchRetrieval"]);if(null!=a&&Qe(t,["googleSearchRetrieval"],hi(a)),void 0!==Xe(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==Xe(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=Xe(e,["urlContext"])&&Qe(t,["urlContext"],{});const r=Xe(e,["codeExecution"]);return null!=r&&Qe(t,["codeExecution"],r),t}function yi(e){const t={},n=Xe(e,["latLng"]);null!=n&&Qe(t,["latLng"],function(e){const t={},n=Xe(e,["latitude"]);null!=n&&Qe(t,["latitude"],n);const i=Xe(e,["longitude"]);return null!=i&&Qe(t,["longitude"],i),t}(n));const i=Xe(e,["languageCode"]);return null!=i&&Qe(t,["languageCode"],i),t}function vi(e){const t={},n=Xe(e,["functionCallingConfig"]);null!=n&&Qe(t,["functionCallingConfig"],function(e){const t={},n=Xe(e,["mode"]);null!=n&&Qe(t,["mode"],n);const i=Xe(e,["allowedFunctionNames"]);return null!=i&&Qe(t,["allowedFunctionNames"],i),t}(n));const i=Xe(e,["retrievalConfig"]);return null!=i&&Qe(t,["retrievalConfig"],yi(i)),t}function bi(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["model"],sn(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],function(e,t){const n=Xe(e,["ttl"]);void 0!==t&&null!=n&&Qe(t,["ttl"],n);const i=Xe(e,["expireTime"]);void 0!==t&&null!=i&&Qe(t,["expireTime"],i);const a=Xe(e,["displayName"]);void 0!==t&&null!=a&&Qe(t,["displayName"],a);const r=Xe(e,["contents"]);if(void 0!==t&&null!=r){let e=yn(r);Array.isArray(e)&&(e=e.map(e=>mi(e))),Qe(t,["contents"],e)}const o=Xe(e,["systemInstruction"]);void 0!==t&&null!=o&&Qe(t,["systemInstruction"],mi(hn(o)));const s=Xe(e,["tools"]);if(void 0!==t&&null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>gi(e))),Qe(t,["tools"],e)}const l=Xe(e,["toolConfig"]);if(void 0!==t&&null!=l&&Qe(t,["toolConfig"],vi(l)),void 0!==Xe(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}(a,n)),n}function xi(e,t){const n={},i=Xe(t,["name"]);null!=i&&Qe(n,["_url","name"],An(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],function(e,t){const n=Xe(e,["ttl"]);void 0!==t&&null!=n&&Qe(t,["ttl"],n);const i=Xe(e,["expireTime"]);return void 0!==t&&null!=i&&Qe(t,["expireTime"],i),{}}(a,n)),n}function ki(e){const t={},n=Xe(e,["config"]);return null!=n&&Qe(t,["config"],function(e,t){const n=Xe(e,["pageSize"]);void 0!==t&&null!=n&&Qe(t,["_query","pageSize"],n);const i=Xe(e,["pageToken"]);return void 0!==t&&null!=i&&Qe(t,["_query","pageToken"],i),{}}(n,t)),t}function _i(e){const t={},n=Xe(e,["videoMetadata"]);null!=n&&Qe(t,["videoMetadata"],function(e){const t={},n=Xe(e,["fps"]);null!=n&&Qe(t,["fps"],n);const i=Xe(e,["endOffset"]);null!=i&&Qe(t,["endOffset"],i);const a=Xe(e,["startOffset"]);return null!=a&&Qe(t,["startOffset"],a),t}(n));const i=Xe(e,["thought"]);null!=i&&Qe(t,["thought"],i);const a=Xe(e,["inlineData"]);null!=a&&Qe(t,["inlineData"],function(e){const t={},n=Xe(e,["displayName"]);null!=n&&Qe(t,["displayName"],n);const i=Xe(e,["data"]);null!=i&&Qe(t,["data"],i);const a=Xe(e,["mimeType"]);return null!=a&&Qe(t,["mimeType"],a),t}(a));const r=Xe(e,["fileData"]);null!=r&&Qe(t,["fileData"],function(e){const t={},n=Xe(e,["displayName"]);null!=n&&Qe(t,["displayName"],n);const i=Xe(e,["fileUri"]);null!=i&&Qe(t,["fileUri"],i);const a=Xe(e,["mimeType"]);return null!=a&&Qe(t,["mimeType"],a),t}(r));const o=Xe(e,["thoughtSignature"]);null!=o&&Qe(t,["thoughtSignature"],o);const s=Xe(e,["codeExecutionResult"]);null!=s&&Qe(t,["codeExecutionResult"],s);const l=Xe(e,["executableCode"]);null!=l&&Qe(t,["executableCode"],l);const u=Xe(e,["functionCall"]);null!=u&&Qe(t,["functionCall"],u);const c=Xe(e,["functionResponse"]);null!=c&&Qe(t,["functionResponse"],c);const d=Xe(e,["text"]);return null!=d&&Qe(t,["text"],d),t}function wi(e){const t={},n=Xe(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>_i(e))),Qe(t,["parts"],e)}const i=Xe(e,["role"]);return null!=i&&Qe(t,["role"],i),t}function Ci(e){const t={},n=Xe(e,["timeRangeFilter"]);return null!=n&&Qe(t,["timeRangeFilter"],function(e){const t={},n=Xe(e,["startTime"]);null!=n&&Qe(t,["startTime"],n);const i=Xe(e,["endTime"]);return null!=i&&Qe(t,["endTime"],i),t}(n)),t}function Si(e){const t={},n=Xe(e,["dynamicRetrievalConfig"]);return null!=n&&Qe(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xe(e,["mode"]);null!=n&&Qe(t,["mode"],n);const i=Xe(e,["dynamicThreshold"]);return null!=i&&Qe(t,["dynamicThreshold"],i),t}(n)),t}function Ti(e){const t={},n=Xe(e,["apiKeyConfig"]);null!=n&&Qe(t,["apiKeyConfig"],function(e){const t={},n=Xe(e,["apiKeyString"]);return null!=n&&Qe(t,["apiKeyString"],n),t}(n));const i=Xe(e,["authType"]);null!=i&&Qe(t,["authType"],i);const a=Xe(e,["googleServiceAccountConfig"]);null!=a&&Qe(t,["googleServiceAccountConfig"],a);const r=Xe(e,["httpBasicAuthConfig"]);null!=r&&Qe(t,["httpBasicAuthConfig"],r);const o=Xe(e,["oauthConfig"]);null!=o&&Qe(t,["oauthConfig"],o);const s=Xe(e,["oidcConfig"]);return null!=s&&Qe(t,["oidcConfig"],s),t}function Ai(e){const t={},n=Xe(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Xe(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=Xe(e,["description"]);null!=n&&Qe(t,["description"],n);const i=Xe(e,["name"]);null!=i&&Qe(t,["name"],i);const a=Xe(e,["parameters"]);null!=a&&Qe(t,["parameters"],a);const r=Xe(e,["parametersJsonSchema"]);null!=r&&Qe(t,["parametersJsonSchema"],r);const o=Xe(e,["response"]);null!=o&&Qe(t,["response"],o);const s=Xe(e,["responseJsonSchema"]);return null!=s&&Qe(t,["responseJsonSchema"],s),t}(e))),Qe(t,["functionDeclarations"],e)}const i=Xe(e,["retrieval"]);null!=i&&Qe(t,["retrieval"],i);const a=Xe(e,["googleSearch"]);null!=a&&Qe(t,["googleSearch"],Ci(a));const r=Xe(e,["googleSearchRetrieval"]);null!=r&&Qe(t,["googleSearchRetrieval"],Si(r));null!=Xe(e,["enterpriseWebSearch"])&&Qe(t,["enterpriseWebSearch"],{});const o=Xe(e,["googleMaps"]);null!=o&&Qe(t,["googleMaps"],function(e){const t={},n=Xe(e,["authConfig"]);return null!=n&&Qe(t,["authConfig"],Ti(n)),t}(o));null!=Xe(e,["urlContext"])&&Qe(t,["urlContext"],{});const s=Xe(e,["codeExecution"]);return null!=s&&Qe(t,["codeExecution"],s),t}function Ei(e){const t={},n=Xe(e,["latLng"]);null!=n&&Qe(t,["latLng"],function(e){const t={},n=Xe(e,["latitude"]);null!=n&&Qe(t,["latitude"],n);const i=Xe(e,["longitude"]);return null!=i&&Qe(t,["longitude"],i),t}(n));const i=Xe(e,["languageCode"]);return null!=i&&Qe(t,["languageCode"],i),t}function Ni(e){const t={},n=Xe(e,["functionCallingConfig"]);null!=n&&Qe(t,["functionCallingConfig"],function(e){const t={},n=Xe(e,["mode"]);null!=n&&Qe(t,["mode"],n);const i=Xe(e,["allowedFunctionNames"]);return null!=i&&Qe(t,["allowedFunctionNames"],i),t}(n));const i=Xe(e,["retrievalConfig"]);return null!=i&&Qe(t,["retrievalConfig"],Ei(i)),t}function ji(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["model"],sn(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],function(e,t){const n=Xe(e,["ttl"]);void 0!==t&&null!=n&&Qe(t,["ttl"],n);const i=Xe(e,["expireTime"]);void 0!==t&&null!=i&&Qe(t,["expireTime"],i);const a=Xe(e,["displayName"]);void 0!==t&&null!=a&&Qe(t,["displayName"],a);const r=Xe(e,["contents"]);if(void 0!==t&&null!=r){let e=yn(r);Array.isArray(e)&&(e=e.map(e=>wi(e))),Qe(t,["contents"],e)}const o=Xe(e,["systemInstruction"]);void 0!==t&&null!=o&&Qe(t,["systemInstruction"],wi(hn(o)));const s=Xe(e,["tools"]);if(void 0!==t&&null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>Ai(e))),Qe(t,["tools"],e)}const l=Xe(e,["toolConfig"]);void 0!==t&&null!=l&&Qe(t,["toolConfig"],Ni(l));const u=Xe(e,["kmsKeyName"]);return void 0!==t&&null!=u&&Qe(t,["encryption_spec","kmsKeyName"],u),{}}(a,n)),n}function Oi(e,t){const n={},i=Xe(t,["name"]);null!=i&&Qe(n,["_url","name"],An(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],function(e,t){const n=Xe(e,["ttl"]);void 0!==t&&null!=n&&Qe(t,["ttl"],n);const i=Xe(e,["expireTime"]);return void 0!==t&&null!=i&&Qe(t,["expireTime"],i),{}}(a,n)),n}function Ii(e){const t={},n=Xe(e,["config"]);return null!=n&&Qe(t,["config"],function(e,t){const n=Xe(e,["pageSize"]);void 0!==t&&null!=n&&Qe(t,["_query","pageSize"],n);const i=Xe(e,["pageToken"]);return void 0!==t&&null!=i&&Qe(t,["_query","pageToken"],i),{}}(n,t)),t}function Pi(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["displayName"]);null!=i&&Qe(t,["displayName"],i);const a=Xe(e,["model"]);null!=a&&Qe(t,["model"],a);const r=Xe(e,["createTime"]);null!=r&&Qe(t,["createTime"],r);const o=Xe(e,["updateTime"]);null!=o&&Qe(t,["updateTime"],o);const s=Xe(e,["expireTime"]);null!=s&&Qe(t,["expireTime"],s);const l=Xe(e,["usageMetadata"]);return null!=l&&Qe(t,["usageMetadata"],l),t}function Mi(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["displayName"]);null!=i&&Qe(t,["displayName"],i);const a=Xe(e,["model"]);null!=a&&Qe(t,["model"],a);const r=Xe(e,["createTime"]);null!=r&&Qe(t,["createTime"],r);const o=Xe(e,["updateTime"]);null!=o&&Qe(t,["updateTime"],o);const s=Xe(e,["expireTime"]);null!=s&&Qe(t,["expireTime"],s);const l=Xe(e,["usageMetadata"]);return null!=l&&Qe(t,["usageMetadata"],l),t}class Ri extends Ze{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ci(ui.PAGED_ITEM_CACHED_CONTENTS,e=>t.listInternal(e),await t.listInternal(e),e)}}async create(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=ji(this.apiClient,e);return o=$e("cachedContents",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>Mi(e))}{const t=bi(this.apiClient,e);return o=$e("cachedContents",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>Pi(e))}}async get(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=function(e,t){const n={},i=Xe(t,["name"]);null!=i&&Qe(n,["_url","name"],An(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],a),n}(this.apiClient,e);return o=$e("{name}",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>Mi(e))}{const t=function(e,t){const n={},i=Xe(t,["name"]);null!=i&&Qe(n,["_url","name"],An(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],a),n}(this.apiClient,e);return o=$e("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>Pi(e))}}async delete(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=function(e,t){const n={},i=Xe(t,["name"]);null!=i&&Qe(n,["_url","name"],An(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],a),n}(this.apiClient,e);return o=$e("{name}",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(()=>{const e={},t=new $t;return Object.assign(t,e),t})}{const t=function(e,t){const n={},i=Xe(t,["name"]);null!=i&&Qe(n,["_url","name"],An(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],a),n}(this.apiClient,e);return o=$e("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(()=>{const e={},t=new $t;return Object.assign(t,e),t})}}async update(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=Oi(this.apiClient,e);return o=$e("{name}",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>Mi(e))}{const t=xi(this.apiClient,e);return o=$e("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>Pi(e))}}async listInternal(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=Ii(e);return o=$e("cachedContents",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Xe(e,["nextPageToken"]);null!=n&&Qe(t,["nextPageToken"],n);const i=Xe(e,["cachedContents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>Mi(e))),Qe(t,["cachedContents"],e)}return t}(e),n=new Qt;return Object.assign(n,t),n})}{const t=ki(e);return o=$e("cachedContents",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Xe(e,["nextPageToken"]);null!=n&&Qe(t,["nextPageToken"],n);const i=Xe(e,["cachedContents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>Pi(e))),Qe(t,["cachedContents"],e)}return t}(e),n=new Qt;return Object.assign(n,t),n})}}}function Di(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Li(e){return this instanceof Li?(this.v=e,this):new Li(e)}function qi(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,a=n.apply(e,t||[]),r=[];return i=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),i[Symbol.asyncIterator]=function(){return this},i;function o(e,t){a[e]&&(i[e]=function(t){return new Promise(function(n,i){r.push([e,t,n,i])>1||s(e,t)})},t&&(i[e]=t(i[e])))}function s(e,t){try{(n=a[e](t)).value instanceof Li?Promise.resolve(n.value.v).then(l,u):c(r[0][2],n)}catch(i){c(r[0][3],i)}var n}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),r.shift(),r.length&&s(r[0][0],r[0][1])}}function Fi(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Di(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise(function(i,a){(function(e,t,n,i){Promise.resolve(i).then(function(t){e({value:t,done:n})},t)})(i,a,(t=e[n](t)).done,t.value)})}}}function Ui(e){var t;if(void 0==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&Hi(n)}function Hi(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts){if(void 0===t||0===Object.keys(t).length)return!1;if(!t.thought&&void 0!==t.text&&""===t.text)return!1}return!0}function Vi(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let i=0;for(;i<n;)if("user"===e[i].role)t.push(e[i]),i++;else{const a=[];let r=!0;for(;i<n&&"model"===e[i].role;)a.push(e[i]),r&&!Hi(e[i])&&(r=!1),i++;r?t.push(...a):t.pop()}return t}"function"===typeof SuppressedError&&SuppressedError;class zi{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Bi(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Bi{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this.apiClient=e,this.modelsModule=t,this.model=n,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error("Role must be user or model, but got ".concat(t.role,"."))}(a)}async sendMessage(e){var t;await this.sendPromise;const n=hn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,a;const r=await i,o=null===(t=null===(e=r.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,s=r.automaticFunctionCallingHistory,l=this.getHistory(!0).length;let u=[];null!=s&&(u=null!==(a=s.slice(l))&&void 0!==a?a:[]);const c=o?[o]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const n=hn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,n)}getHistory(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Vi(this.history):this.history;return structuredClone(e)}processStreamResponse(e,t){var n,i;return qi(this,arguments,function*(){var a,r,o,s;const l=[];try{for(var u,c=!0,d=Fi(e);!(a=(u=yield Li(d.next())).done);c=!0){s=u.value,c=!1;const e=s;if(Ui(e)){const t=null===(i=null===(n=e.candidates)||void 0===n?void 0:n[0])||void 0===i?void 0:i.content;void 0!==t&&l.push(t)}yield yield Li(e)}}catch(p){r={error:p}}finally{try{c||a||!(o=d.return)||(yield Li(o.call(d)))}finally{if(r)throw r.error}}this.recordHistory(t,l)})}recordHistory(e,t,n){let i=[];t.length>0&&t.every(e=>void 0!==e.role)?i=t:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...Vi(n)):this.history.push(e),this.history.push(...i)}}class Gi extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Gi.prototype)}}function Ki(e){const t={},n=Xe(e,["config"]);return null!=n&&Qe(t,["config"],function(e,t){const n=Xe(e,["pageSize"]);void 0!==t&&null!=n&&Qe(t,["_query","pageSize"],n);const i=Xe(e,["pageToken"]);return void 0!==t&&null!=i&&Qe(t,["_query","pageToken"],i),{}}(n,t)),t}function Ji(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["displayName"]);null!=i&&Qe(t,["displayName"],i);const a=Xe(e,["mimeType"]);null!=a&&Qe(t,["mimeType"],a);const r=Xe(e,["sizeBytes"]);null!=r&&Qe(t,["sizeBytes"],r);const o=Xe(e,["createTime"]);null!=o&&Qe(t,["createTime"],o);const s=Xe(e,["expirationTime"]);null!=s&&Qe(t,["expirationTime"],s);const l=Xe(e,["updateTime"]);null!=l&&Qe(t,["updateTime"],l);const u=Xe(e,["sha256Hash"]);null!=u&&Qe(t,["sha256Hash"],u);const c=Xe(e,["uri"]);null!=c&&Qe(t,["uri"],c);const d=Xe(e,["downloadUri"]);null!=d&&Qe(t,["downloadUri"],d);const p=Xe(e,["state"]);null!=p&&Qe(t,["state"],p);const m=Xe(e,["source"]);null!=m&&Qe(t,["source"],m);const f=Xe(e,["videoMetadata"]);null!=f&&Qe(t,["videoMetadata"],f);const h=Xe(e,["error"]);return null!=h&&Qe(t,["error"],function(e){const t={},n=Xe(e,["details"]);null!=n&&Qe(t,["details"],n);const i=Xe(e,["message"]);null!=i&&Qe(t,["message"],i);const a=Xe(e,["code"]);return null!=a&&Qe(t,["code"],a),t}(h)),t}function Wi(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["displayName"]);null!=i&&Qe(t,["displayName"],i);const a=Xe(e,["mimeType"]);null!=a&&Qe(t,["mimeType"],a);const r=Xe(e,["sizeBytes"]);null!=r&&Qe(t,["sizeBytes"],r);const o=Xe(e,["createTime"]);null!=o&&Qe(t,["createTime"],o);const s=Xe(e,["expirationTime"]);null!=s&&Qe(t,["expirationTime"],s);const l=Xe(e,["updateTime"]);null!=l&&Qe(t,["updateTime"],l);const u=Xe(e,["sha256Hash"]);null!=u&&Qe(t,["sha256Hash"],u);const c=Xe(e,["uri"]);null!=c&&Qe(t,["uri"],c);const d=Xe(e,["downloadUri"]);null!=d&&Qe(t,["downloadUri"],d);const p=Xe(e,["state"]);null!=p&&Qe(t,["state"],p);const m=Xe(e,["source"]);null!=m&&Qe(t,["source"],m);const f=Xe(e,["videoMetadata"]);null!=f&&Qe(t,["videoMetadata"],f);const h=Xe(e,["error"]);return null!=h&&Qe(t,["error"],function(e){const t={},n=Xe(e,["details"]);null!=n&&Qe(t,["details"],n);const i=Xe(e,["message"]);null!=i&&Qe(t,["message"],i);const a=Xe(e,["code"]);return null!=a&&Qe(t,["code"],a),t}(h)),t}class Yi extends Ze{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ci(ui.PAGED_ITEM_FILES,e=>t.listInternal(e),await t.listInternal(e),e)}}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>Wi(e))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let i,a="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ki(e);return a=$e("files",o._url),r=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=Xe(e,["nextPageToken"]);null!=n&&Qe(t,["nextPageToken"],n);const i=Xe(e,["files"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>Wi(e))),Qe(t,["files"],e)}return t}(e),n=new Xt;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let i,a="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=function(e){const t={},n=Xe(e,["file"]);null!=n&&Qe(t,["file"],Ji(n));const i=Xe(e,["config"]);return null!=i&&Qe(t,["config"],i),t}(e);return a=$e("upload/v1beta/files",o._url),r=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(()=>{const e={},t=new en;return Object.assign(t,e),t})}}async get(e){var t,n;let i,a="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=function(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["_url","file"],jn(n));const i=Xe(e,["config"]);return null!=i&&Qe(t,["config"],i),t}(e);return a=$e("files/{file}",o._url),r=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Wi(e))}}async delete(e){var t,n;let i,a="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=function(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["_url","file"],jn(n));const i=Xe(e,["config"]);return null!=i&&Qe(t,["config"],i),t}(e);return a=$e("files/{file}",o._url),r=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(()=>{const e={},t=new tn;return Object.assign(t,e),t})}}}function Zi(e){const t={},n=Xe(e,["prebuiltVoiceConfig"]);return null!=n&&Qe(t,["prebuiltVoiceConfig"],function(e){const t={},n=Xe(e,["voiceName"]);return null!=n&&Qe(t,["voiceName"],n),t}(n)),t}function $i(e){const t={},n=Xe(e,["prebuiltVoiceConfig"]);return null!=n&&Qe(t,["prebuiltVoiceConfig"],function(e){const t={},n=Xe(e,["voiceName"]);return null!=n&&Qe(t,["voiceName"],n),t}(n)),t}function Qi(e){const t={},n=Xe(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["speaker"]);null!=n&&Qe(t,["speaker"],n);const i=Xe(e,["voiceConfig"]);return null!=i&&Qe(t,["voiceConfig"],Zi(i)),t}(e))),Qe(t,["speakerVoiceConfigs"],e)}return t}function Xi(e){const t={},n=Xe(e,["videoMetadata"]);null!=n&&Qe(t,["videoMetadata"],function(e){const t={},n=Xe(e,["fps"]);null!=n&&Qe(t,["fps"],n);const i=Xe(e,["endOffset"]);null!=i&&Qe(t,["endOffset"],i);const a=Xe(e,["startOffset"]);return null!=a&&Qe(t,["startOffset"],a),t}(n));const i=Xe(e,["thought"]);null!=i&&Qe(t,["thought"],i);const a=Xe(e,["inlineData"]);null!=a&&Qe(t,["inlineData"],function(e){const t={};if(void 0!==Xe(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xe(e,["data"]);null!=n&&Qe(t,["data"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(a));const r=Xe(e,["fileData"]);null!=r&&Qe(t,["fileData"],function(e){const t={};if(void 0!==Xe(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xe(e,["fileUri"]);null!=n&&Qe(t,["fileUri"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(r));const o=Xe(e,["thoughtSignature"]);null!=o&&Qe(t,["thoughtSignature"],o);const s=Xe(e,["codeExecutionResult"]);null!=s&&Qe(t,["codeExecutionResult"],s);const l=Xe(e,["executableCode"]);null!=l&&Qe(t,["executableCode"],l);const u=Xe(e,["functionCall"]);null!=u&&Qe(t,["functionCall"],u);const c=Xe(e,["functionResponse"]);null!=c&&Qe(t,["functionResponse"],c);const d=Xe(e,["text"]);return null!=d&&Qe(t,["text"],d),t}function ea(e){const t={},n=Xe(e,["videoMetadata"]);null!=n&&Qe(t,["videoMetadata"],function(e){const t={},n=Xe(e,["fps"]);null!=n&&Qe(t,["fps"],n);const i=Xe(e,["endOffset"]);null!=i&&Qe(t,["endOffset"],i);const a=Xe(e,["startOffset"]);return null!=a&&Qe(t,["startOffset"],a),t}(n));const i=Xe(e,["thought"]);null!=i&&Qe(t,["thought"],i);const a=Xe(e,["inlineData"]);null!=a&&Qe(t,["inlineData"],function(e){const t={},n=Xe(e,["displayName"]);null!=n&&Qe(t,["displayName"],n);const i=Xe(e,["data"]);null!=i&&Qe(t,["data"],i);const a=Xe(e,["mimeType"]);return null!=a&&Qe(t,["mimeType"],a),t}(a));const r=Xe(e,["fileData"]);null!=r&&Qe(t,["fileData"],function(e){const t={},n=Xe(e,["displayName"]);null!=n&&Qe(t,["displayName"],n);const i=Xe(e,["fileUri"]);null!=i&&Qe(t,["fileUri"],i);const a=Xe(e,["mimeType"]);return null!=a&&Qe(t,["mimeType"],a),t}(r));const o=Xe(e,["thoughtSignature"]);null!=o&&Qe(t,["thoughtSignature"],o);const s=Xe(e,["codeExecutionResult"]);null!=s&&Qe(t,["codeExecutionResult"],s);const l=Xe(e,["executableCode"]);null!=l&&Qe(t,["executableCode"],l);const u=Xe(e,["functionCall"]);null!=u&&Qe(t,["functionCall"],u);const c=Xe(e,["functionResponse"]);null!=c&&Qe(t,["functionResponse"],c);const d=Xe(e,["text"]);return null!=d&&Qe(t,["text"],d),t}function ta(e){const t={},n=Xe(e,["timeRangeFilter"]);return null!=n&&Qe(t,["timeRangeFilter"],function(e){const t={},n=Xe(e,["startTime"]);null!=n&&Qe(t,["startTime"],n);const i=Xe(e,["endTime"]);return null!=i&&Qe(t,["endTime"],i),t}(n)),t}function na(e){const t={},n=Xe(e,["timeRangeFilter"]);return null!=n&&Qe(t,["timeRangeFilter"],function(e){const t={},n=Xe(e,["startTime"]);null!=n&&Qe(t,["startTime"],n);const i=Xe(e,["endTime"]);return null!=i&&Qe(t,["endTime"],i),t}(n)),t}function ia(e){const t={},n=Xe(e,["dynamicRetrievalConfig"]);return null!=n&&Qe(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xe(e,["mode"]);null!=n&&Qe(t,["mode"],n);const i=Xe(e,["dynamicThreshold"]);return null!=i&&Qe(t,["dynamicThreshold"],i),t}(n)),t}function aa(e){const t={},n=Xe(e,["dynamicRetrievalConfig"]);return null!=n&&Qe(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xe(e,["mode"]);null!=n&&Qe(t,["mode"],n);const i=Xe(e,["dynamicThreshold"]);return null!=i&&Qe(t,["dynamicThreshold"],i),t}(n)),t}function ra(e){const t={},n=Xe(e,["apiKeyConfig"]);null!=n&&Qe(t,["apiKeyConfig"],function(e){const t={},n=Xe(e,["apiKeyString"]);return null!=n&&Qe(t,["apiKeyString"],n),t}(n));const i=Xe(e,["authType"]);null!=i&&Qe(t,["authType"],i);const a=Xe(e,["googleServiceAccountConfig"]);null!=a&&Qe(t,["googleServiceAccountConfig"],a);const r=Xe(e,["httpBasicAuthConfig"]);null!=r&&Qe(t,["httpBasicAuthConfig"],r);const o=Xe(e,["oauthConfig"]);null!=o&&Qe(t,["oauthConfig"],o);const s=Xe(e,["oidcConfig"]);return null!=s&&Qe(t,["oidcConfig"],s),t}function oa(e){const t={},n=Xe(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["behavior"]);null!=n&&Qe(t,["behavior"],n);const i=Xe(e,["description"]);null!=i&&Qe(t,["description"],i);const a=Xe(e,["name"]);null!=a&&Qe(t,["name"],a);const r=Xe(e,["parameters"]);null!=r&&Qe(t,["parameters"],r);const o=Xe(e,["parametersJsonSchema"]);null!=o&&Qe(t,["parametersJsonSchema"],o);const s=Xe(e,["response"]);null!=s&&Qe(t,["response"],s);const l=Xe(e,["responseJsonSchema"]);return null!=l&&Qe(t,["responseJsonSchema"],l),t}(e))),Qe(t,["functionDeclarations"],e)}if(void 0!==Xe(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const i=Xe(e,["googleSearch"]);null!=i&&Qe(t,["googleSearch"],ta(i));const a=Xe(e,["googleSearchRetrieval"]);if(null!=a&&Qe(t,["googleSearchRetrieval"],ia(a)),void 0!==Xe(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==Xe(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=Xe(e,["urlContext"])&&Qe(t,["urlContext"],{});const r=Xe(e,["codeExecution"]);return null!=r&&Qe(t,["codeExecution"],r),t}function sa(e){const t={},n=Xe(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Xe(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=Xe(e,["description"]);null!=n&&Qe(t,["description"],n);const i=Xe(e,["name"]);null!=i&&Qe(t,["name"],i);const a=Xe(e,["parameters"]);null!=a&&Qe(t,["parameters"],a);const r=Xe(e,["parametersJsonSchema"]);null!=r&&Qe(t,["parametersJsonSchema"],r);const o=Xe(e,["response"]);null!=o&&Qe(t,["response"],o);const s=Xe(e,["responseJsonSchema"]);return null!=s&&Qe(t,["responseJsonSchema"],s),t}(e))),Qe(t,["functionDeclarations"],e)}const i=Xe(e,["retrieval"]);null!=i&&Qe(t,["retrieval"],i);const a=Xe(e,["googleSearch"]);null!=a&&Qe(t,["googleSearch"],na(a));const r=Xe(e,["googleSearchRetrieval"]);null!=r&&Qe(t,["googleSearchRetrieval"],aa(r));null!=Xe(e,["enterpriseWebSearch"])&&Qe(t,["enterpriseWebSearch"],{});const o=Xe(e,["googleMaps"]);null!=o&&Qe(t,["googleMaps"],function(e){const t={},n=Xe(e,["authConfig"]);return null!=n&&Qe(t,["authConfig"],ra(n)),t}(o));null!=Xe(e,["urlContext"])&&Qe(t,["urlContext"],{});const s=Xe(e,["codeExecution"]);return null!=s&&Qe(t,["codeExecution"],s),t}function la(e){const t={},n=Xe(e,["automaticActivityDetection"]);null!=n&&Qe(t,["automaticActivityDetection"],function(e){const t={},n=Xe(e,["disabled"]);null!=n&&Qe(t,["disabled"],n);const i=Xe(e,["startOfSpeechSensitivity"]);null!=i&&Qe(t,["startOfSpeechSensitivity"],i);const a=Xe(e,["endOfSpeechSensitivity"]);null!=a&&Qe(t,["endOfSpeechSensitivity"],a);const r=Xe(e,["prefixPaddingMs"]);null!=r&&Qe(t,["prefixPaddingMs"],r);const o=Xe(e,["silenceDurationMs"]);return null!=o&&Qe(t,["silenceDurationMs"],o),t}(n));const i=Xe(e,["activityHandling"]);null!=i&&Qe(t,["activityHandling"],i);const a=Xe(e,["turnCoverage"]);return null!=a&&Qe(t,["turnCoverage"],a),t}function ua(e){const t={},n=Xe(e,["automaticActivityDetection"]);null!=n&&Qe(t,["automaticActivityDetection"],function(e){const t={},n=Xe(e,["disabled"]);null!=n&&Qe(t,["disabled"],n);const i=Xe(e,["startOfSpeechSensitivity"]);null!=i&&Qe(t,["startOfSpeechSensitivity"],i);const a=Xe(e,["endOfSpeechSensitivity"]);null!=a&&Qe(t,["endOfSpeechSensitivity"],a);const r=Xe(e,["prefixPaddingMs"]);null!=r&&Qe(t,["prefixPaddingMs"],r);const o=Xe(e,["silenceDurationMs"]);return null!=o&&Qe(t,["silenceDurationMs"],o),t}(n));const i=Xe(e,["activityHandling"]);null!=i&&Qe(t,["activityHandling"],i);const a=Xe(e,["turnCoverage"]);return null!=a&&Qe(t,["turnCoverage"],a),t}function ca(e){const t={},n=Xe(e,["triggerTokens"]);null!=n&&Qe(t,["triggerTokens"],n);const i=Xe(e,["slidingWindow"]);return null!=i&&Qe(t,["slidingWindow"],function(e){const t={},n=Xe(e,["targetTokens"]);return null!=n&&Qe(t,["targetTokens"],n),t}(i)),t}function da(e){const t={},n=Xe(e,["triggerTokens"]);null!=n&&Qe(t,["triggerTokens"],n);const i=Xe(e,["slidingWindow"]);return null!=i&&Qe(t,["slidingWindow"],function(e){const t={},n=Xe(e,["targetTokens"]);return null!=n&&Qe(t,["targetTokens"],n),t}(i)),t}function pa(e,t){const n=Xe(e,["generationConfig"]);void 0!==t&&null!=n&&Qe(t,["setup","generationConfig"],n);const i=Xe(e,["responseModalities"]);void 0!==t&&null!=i&&Qe(t,["setup","generationConfig","responseModalities"],i);const a=Xe(e,["temperature"]);void 0!==t&&null!=a&&Qe(t,["setup","generationConfig","temperature"],a);const r=Xe(e,["topP"]);void 0!==t&&null!=r&&Qe(t,["setup","generationConfig","topP"],r);const o=Xe(e,["topK"]);void 0!==t&&null!=o&&Qe(t,["setup","generationConfig","topK"],o);const s=Xe(e,["maxOutputTokens"]);void 0!==t&&null!=s&&Qe(t,["setup","generationConfig","maxOutputTokens"],s);const l=Xe(e,["mediaResolution"]);void 0!==t&&null!=l&&Qe(t,["setup","generationConfig","mediaResolution"],l);const u=Xe(e,["seed"]);void 0!==t&&null!=u&&Qe(t,["setup","generationConfig","seed"],u);const c=Xe(e,["speechConfig"]);void 0!==t&&null!=c&&Qe(t,["setup","generationConfig","speechConfig"],function(e){const t={},n=Xe(e,["voiceConfig"]);null!=n&&Qe(t,["voiceConfig"],Zi(n));const i=Xe(e,["multiSpeakerVoiceConfig"]);null!=i&&Qe(t,["multiSpeakerVoiceConfig"],Qi(i));const a=Xe(e,["languageCode"]);return null!=a&&Qe(t,["languageCode"],a),t}(Cn(c)));const d=Xe(e,["enableAffectiveDialog"]);void 0!==t&&null!=d&&Qe(t,["setup","generationConfig","enableAffectiveDialog"],d);const p=Xe(e,["systemInstruction"]);void 0!==t&&null!=p&&Qe(t,["setup","systemInstruction"],function(e){const t={},n=Xe(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Xi(e))),Qe(t,["parts"],e)}const i=Xe(e,["role"]);return null!=i&&Qe(t,["role"],i),t}(hn(p)));const m=Xe(e,["tools"]);if(void 0!==t&&null!=m){let e=Tn(m);Array.isArray(e)&&(e=e.map(e=>oa(Sn(e)))),Qe(t,["setup","tools"],e)}const f=Xe(e,["sessionResumption"]);void 0!==t&&null!=f&&Qe(t,["setup","sessionResumption"],function(e){const t={},n=Xe(e,["handle"]);if(null!=n&&Qe(t,["handle"],n),void 0!==Xe(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(f));const h=Xe(e,["inputAudioTranscription"]);void 0!==t&&null!=h&&Qe(t,["setup","inputAudioTranscription"],{});const g=Xe(e,["outputAudioTranscription"]);void 0!==t&&null!=g&&Qe(t,["setup","outputAudioTranscription"],{});const y=Xe(e,["realtimeInputConfig"]);void 0!==t&&null!=y&&Qe(t,["setup","realtimeInputConfig"],la(y));const v=Xe(e,["contextWindowCompression"]);void 0!==t&&null!=v&&Qe(t,["setup","contextWindowCompression"],ca(v));const b=Xe(e,["proactivity"]);return void 0!==t&&null!=b&&Qe(t,["setup","proactivity"],function(e){const t={},n=Xe(e,["proactiveAudio"]);return null!=n&&Qe(t,["proactiveAudio"],n),t}(b)),{}}function ma(e,t){const n=Xe(e,["generationConfig"]);void 0!==t&&null!=n&&Qe(t,["setup","generationConfig"],n);const i=Xe(e,["responseModalities"]);void 0!==t&&null!=i&&Qe(t,["setup","generationConfig","responseModalities"],i);const a=Xe(e,["temperature"]);void 0!==t&&null!=a&&Qe(t,["setup","generationConfig","temperature"],a);const r=Xe(e,["topP"]);void 0!==t&&null!=r&&Qe(t,["setup","generationConfig","topP"],r);const o=Xe(e,["topK"]);void 0!==t&&null!=o&&Qe(t,["setup","generationConfig","topK"],o);const s=Xe(e,["maxOutputTokens"]);void 0!==t&&null!=s&&Qe(t,["setup","generationConfig","maxOutputTokens"],s);const l=Xe(e,["mediaResolution"]);void 0!==t&&null!=l&&Qe(t,["setup","generationConfig","mediaResolution"],l);const u=Xe(e,["seed"]);void 0!==t&&null!=u&&Qe(t,["setup","generationConfig","seed"],u);const c=Xe(e,["speechConfig"]);void 0!==t&&null!=c&&Qe(t,["setup","generationConfig","speechConfig"],function(e){const t={},n=Xe(e,["voiceConfig"]);if(null!=n&&Qe(t,["voiceConfig"],$i(n)),void 0!==Xe(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=Xe(e,["languageCode"]);return null!=i&&Qe(t,["languageCode"],i),t}(Cn(c)));const d=Xe(e,["enableAffectiveDialog"]);void 0!==t&&null!=d&&Qe(t,["setup","generationConfig","enableAffectiveDialog"],d);const p=Xe(e,["systemInstruction"]);void 0!==t&&null!=p&&Qe(t,["setup","systemInstruction"],function(e){const t={},n=Xe(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ea(e))),Qe(t,["parts"],e)}const i=Xe(e,["role"]);return null!=i&&Qe(t,["role"],i),t}(hn(p)));const m=Xe(e,["tools"]);if(void 0!==t&&null!=m){let e=Tn(m);Array.isArray(e)&&(e=e.map(e=>sa(Sn(e)))),Qe(t,["setup","tools"],e)}const f=Xe(e,["sessionResumption"]);void 0!==t&&null!=f&&Qe(t,["setup","sessionResumption"],function(e){const t={},n=Xe(e,["handle"]);null!=n&&Qe(t,["handle"],n);const i=Xe(e,["transparent"]);return null!=i&&Qe(t,["transparent"],i),t}(f));const h=Xe(e,["inputAudioTranscription"]);void 0!==t&&null!=h&&Qe(t,["setup","inputAudioTranscription"],{});const g=Xe(e,["outputAudioTranscription"]);void 0!==t&&null!=g&&Qe(t,["setup","outputAudioTranscription"],{});const y=Xe(e,["realtimeInputConfig"]);void 0!==t&&null!=y&&Qe(t,["setup","realtimeInputConfig"],ua(y));const v=Xe(e,["contextWindowCompression"]);void 0!==t&&null!=v&&Qe(t,["setup","contextWindowCompression"],da(v));const b=Xe(e,["proactivity"]);return void 0!==t&&null!=b&&Qe(t,["setup","proactivity"],function(e){const t={},n=Xe(e,["proactiveAudio"]);return null!=n&&Qe(t,["proactiveAudio"],n),t}(b)),{}}function fa(e){const t={},n=Xe(e,["media"]);null!=n&&Qe(t,["mediaChunks"],ln(n));const i=Xe(e,["audio"]);null!=i&&Qe(t,["audio"],function(e){const t=un(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error("Unsupported mime type: ".concat(t.mimeType))}(i));const a=Xe(e,["audioStreamEnd"]);null!=a&&Qe(t,["audioStreamEnd"],a);const r=Xe(e,["video"]);null!=r&&Qe(t,["video"],function(e){const t=un(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error("Unsupported mime type: ".concat(t.mimeType))}(r));const o=Xe(e,["text"]);null!=o&&Qe(t,["text"],o);null!=Xe(e,["activityStart"])&&Qe(t,["activityStart"],{});return null!=Xe(e,["activityEnd"])&&Qe(t,["activityEnd"],{}),t}function ha(e){const t={},n=Xe(e,["media"]);if(null!=n&&Qe(t,["mediaChunks"],ln(n)),void 0!==Xe(e,["audio"]))throw new Error("audio parameter is not supported in Vertex AI.");const i=Xe(e,["audioStreamEnd"]);if(null!=i&&Qe(t,["audioStreamEnd"],i),void 0!==Xe(e,["video"]))throw new Error("video parameter is not supported in Vertex AI.");if(void 0!==Xe(e,["text"]))throw new Error("text parameter is not supported in Vertex AI.");null!=Xe(e,["activityStart"])&&Qe(t,["activityStart"],{});return null!=Xe(e,["activityEnd"])&&Qe(t,["activityEnd"],{}),t}function ga(e){const t={},n=Xe(e,["text"]);null!=n&&Qe(t,["text"],n);const i=Xe(e,["weight"]);return null!=i&&Qe(t,["weight"],i),t}function ya(e){const t={},n=Xe(e,["temperature"]);null!=n&&Qe(t,["temperature"],n);const i=Xe(e,["topK"]);null!=i&&Qe(t,["topK"],i);const a=Xe(e,["seed"]);null!=a&&Qe(t,["seed"],a);const r=Xe(e,["guidance"]);null!=r&&Qe(t,["guidance"],r);const o=Xe(e,["bpm"]);null!=o&&Qe(t,["bpm"],o);const s=Xe(e,["density"]);null!=s&&Qe(t,["density"],s);const l=Xe(e,["brightness"]);null!=l&&Qe(t,["brightness"],l);const u=Xe(e,["scale"]);null!=u&&Qe(t,["scale"],u);const c=Xe(e,["muteBass"]);null!=c&&Qe(t,["muteBass"],c);const d=Xe(e,["muteDrums"]);null!=d&&Qe(t,["muteDrums"],d);const p=Xe(e,["onlyBassAndDrums"]);return null!=p&&Qe(t,["onlyBassAndDrums"],p),t}function va(e){const t={},n=Xe(e,["model"]);return null!=n&&Qe(t,["model"],n),t}function ba(e){const t={},n=Xe(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ga(e))),Qe(t,["weightedPrompts"],e)}return t}function xa(e){const t={},n=Xe(e,["setup"]);null!=n&&Qe(t,["setup"],va(n));const i=Xe(e,["clientContent"]);null!=i&&Qe(t,["clientContent"],ba(i));const a=Xe(e,["musicGenerationConfig"]);null!=a&&Qe(t,["musicGenerationConfig"],ya(a));const r=Xe(e,["playbackControl"]);return null!=r&&Qe(t,["playbackControl"],r),t}function ka(e){const t={},n=Xe(e,["videoMetadata"]);null!=n&&Qe(t,["videoMetadata"],function(e){const t={},n=Xe(e,["fps"]);null!=n&&Qe(t,["fps"],n);const i=Xe(e,["endOffset"]);null!=i&&Qe(t,["endOffset"],i);const a=Xe(e,["startOffset"]);return null!=a&&Qe(t,["startOffset"],a),t}(n));const i=Xe(e,["thought"]);null!=i&&Qe(t,["thought"],i);const a=Xe(e,["inlineData"]);null!=a&&Qe(t,["inlineData"],function(e){const t={},n=Xe(e,["data"]);null!=n&&Qe(t,["data"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(a));const r=Xe(e,["fileData"]);null!=r&&Qe(t,["fileData"],function(e){const t={},n=Xe(e,["fileUri"]);null!=n&&Qe(t,["fileUri"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(r));const o=Xe(e,["thoughtSignature"]);null!=o&&Qe(t,["thoughtSignature"],o);const s=Xe(e,["codeExecutionResult"]);null!=s&&Qe(t,["codeExecutionResult"],s);const l=Xe(e,["executableCode"]);null!=l&&Qe(t,["executableCode"],l);const u=Xe(e,["functionCall"]);null!=u&&Qe(t,["functionCall"],u);const c=Xe(e,["functionResponse"]);null!=c&&Qe(t,["functionResponse"],c);const d=Xe(e,["text"]);return null!=d&&Qe(t,["text"],d),t}function _a(e){const t={},n=Xe(e,["videoMetadata"]);null!=n&&Qe(t,["videoMetadata"],function(e){const t={},n=Xe(e,["fps"]);null!=n&&Qe(t,["fps"],n);const i=Xe(e,["endOffset"]);null!=i&&Qe(t,["endOffset"],i);const a=Xe(e,["startOffset"]);return null!=a&&Qe(t,["startOffset"],a),t}(n));const i=Xe(e,["thought"]);null!=i&&Qe(t,["thought"],i);const a=Xe(e,["inlineData"]);null!=a&&Qe(t,["inlineData"],function(e){const t={},n=Xe(e,["displayName"]);null!=n&&Qe(t,["displayName"],n);const i=Xe(e,["data"]);null!=i&&Qe(t,["data"],i);const a=Xe(e,["mimeType"]);return null!=a&&Qe(t,["mimeType"],a),t}(a));const r=Xe(e,["fileData"]);null!=r&&Qe(t,["fileData"],function(e){const t={},n=Xe(e,["displayName"]);null!=n&&Qe(t,["displayName"],n);const i=Xe(e,["fileUri"]);null!=i&&Qe(t,["fileUri"],i);const a=Xe(e,["mimeType"]);return null!=a&&Qe(t,["mimeType"],a),t}(r));const o=Xe(e,["thoughtSignature"]);null!=o&&Qe(t,["thoughtSignature"],o);const s=Xe(e,["codeExecutionResult"]);null!=s&&Qe(t,["codeExecutionResult"],s);const l=Xe(e,["executableCode"]);null!=l&&Qe(t,["executableCode"],l);const u=Xe(e,["functionCall"]);null!=u&&Qe(t,["functionCall"],u);const c=Xe(e,["functionResponse"]);null!=c&&Qe(t,["functionResponse"],c);const d=Xe(e,["text"]);return null!=d&&Qe(t,["text"],d),t}function wa(e){const t={},n=Xe(e,["text"]);null!=n&&Qe(t,["text"],n);const i=Xe(e,["finished"]);return null!=i&&Qe(t,["finished"],i),t}function Ca(e){const t={},n=Xe(e,["text"]);null!=n&&Qe(t,["text"],n);const i=Xe(e,["finished"]);return null!=i&&Qe(t,["finished"],i),t}function Sa(e){const t={},n=Xe(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["retrievedUrl"]);null!=n&&Qe(t,["retrievedUrl"],n);const i=Xe(e,["urlRetrievalStatus"]);return null!=i&&Qe(t,["urlRetrievalStatus"],i),t}(e))),Qe(t,["urlMetadata"],e)}return t}function Ta(e){const t={},n=Xe(e,["modelTurn"]);null!=n&&Qe(t,["modelTurn"],function(e){const t={},n=Xe(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ka(e))),Qe(t,["parts"],e)}const i=Xe(e,["role"]);return null!=i&&Qe(t,["role"],i),t}(n));const i=Xe(e,["turnComplete"]);null!=i&&Qe(t,["turnComplete"],i);const a=Xe(e,["interrupted"]);null!=a&&Qe(t,["interrupted"],a);const r=Xe(e,["groundingMetadata"]);null!=r&&Qe(t,["groundingMetadata"],r);const o=Xe(e,["generationComplete"]);null!=o&&Qe(t,["generationComplete"],o);const s=Xe(e,["inputTranscription"]);null!=s&&Qe(t,["inputTranscription"],wa(s));const l=Xe(e,["outputTranscription"]);null!=l&&Qe(t,["outputTranscription"],wa(l));const u=Xe(e,["urlContextMetadata"]);return null!=u&&Qe(t,["urlContextMetadata"],Sa(u)),t}function Aa(e){const t={},n=Xe(e,["modelTurn"]);null!=n&&Qe(t,["modelTurn"],function(e){const t={},n=Xe(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>_a(e))),Qe(t,["parts"],e)}const i=Xe(e,["role"]);return null!=i&&Qe(t,["role"],i),t}(n));const i=Xe(e,["turnComplete"]);null!=i&&Qe(t,["turnComplete"],i);const a=Xe(e,["interrupted"]);null!=a&&Qe(t,["interrupted"],a);const r=Xe(e,["groundingMetadata"]);null!=r&&Qe(t,["groundingMetadata"],r);const o=Xe(e,["generationComplete"]);null!=o&&Qe(t,["generationComplete"],o);const s=Xe(e,["inputTranscription"]);null!=s&&Qe(t,["inputTranscription"],Ca(s));const l=Xe(e,["outputTranscription"]);return null!=l&&Qe(t,["outputTranscription"],Ca(l)),t}function Ea(e){const t={},n=Xe(e,["functionCalls"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["id"]);null!=n&&Qe(t,["id"],n);const i=Xe(e,["args"]);null!=i&&Qe(t,["args"],i);const a=Xe(e,["name"]);return null!=a&&Qe(t,["name"],a),t}(e))),Qe(t,["functionCalls"],e)}return t}function Na(e){const t={},n=Xe(e,["functionCalls"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["args"]);null!=n&&Qe(t,["args"],n);const i=Xe(e,["name"]);return null!=i&&Qe(t,["name"],i),t}(e))),Qe(t,["functionCalls"],e)}return t}function ja(e){const t={},n=Xe(e,["modality"]);null!=n&&Qe(t,["modality"],n);const i=Xe(e,["tokenCount"]);return null!=i&&Qe(t,["tokenCount"],i),t}function Oa(e){const t={},n=Xe(e,["modality"]);null!=n&&Qe(t,["modality"],n);const i=Xe(e,["tokenCount"]);return null!=i&&Qe(t,["tokenCount"],i),t}function Ia(e){const t={};null!=Xe(e,["setupComplete"])&&Qe(t,["setupComplete"],{});const n=Xe(e,["serverContent"]);null!=n&&Qe(t,["serverContent"],Ta(n));const i=Xe(e,["toolCall"]);null!=i&&Qe(t,["toolCall"],Ea(i));const a=Xe(e,["toolCallCancellation"]);null!=a&&Qe(t,["toolCallCancellation"],function(e){const t={},n=Xe(e,["ids"]);return null!=n&&Qe(t,["ids"],n),t}(a));const r=Xe(e,["usageMetadata"]);null!=r&&Qe(t,["usageMetadata"],function(e){const t={},n=Xe(e,["promptTokenCount"]);null!=n&&Qe(t,["promptTokenCount"],n);const i=Xe(e,["cachedContentTokenCount"]);null!=i&&Qe(t,["cachedContentTokenCount"],i);const a=Xe(e,["responseTokenCount"]);null!=a&&Qe(t,["responseTokenCount"],a);const r=Xe(e,["toolUsePromptTokenCount"]);null!=r&&Qe(t,["toolUsePromptTokenCount"],r);const o=Xe(e,["thoughtsTokenCount"]);null!=o&&Qe(t,["thoughtsTokenCount"],o);const s=Xe(e,["totalTokenCount"]);null!=s&&Qe(t,["totalTokenCount"],s);const l=Xe(e,["promptTokensDetails"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>ja(e))),Qe(t,["promptTokensDetails"],e)}const u=Xe(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>ja(e))),Qe(t,["cacheTokensDetails"],e)}const c=Xe(e,["responseTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>ja(e))),Qe(t,["responseTokensDetails"],e)}const d=Xe(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>ja(e))),Qe(t,["toolUsePromptTokensDetails"],e)}return t}(r));const o=Xe(e,["goAway"]);null!=o&&Qe(t,["goAway"],function(e){const t={},n=Xe(e,["timeLeft"]);return null!=n&&Qe(t,["timeLeft"],n),t}(o));const s=Xe(e,["sessionResumptionUpdate"]);return null!=s&&Qe(t,["sessionResumptionUpdate"],function(e){const t={},n=Xe(e,["newHandle"]);null!=n&&Qe(t,["newHandle"],n);const i=Xe(e,["resumable"]);null!=i&&Qe(t,["resumable"],i);const a=Xe(e,["lastConsumedClientMessageIndex"]);return null!=a&&Qe(t,["lastConsumedClientMessageIndex"],a),t}(s)),t}function Pa(e){const t={};null!=Xe(e,["setupComplete"])&&Qe(t,["setupComplete"],{});const n=Xe(e,["serverContent"]);null!=n&&Qe(t,["serverContent"],Aa(n));const i=Xe(e,["toolCall"]);null!=i&&Qe(t,["toolCall"],Na(i));const a=Xe(e,["toolCallCancellation"]);null!=a&&Qe(t,["toolCallCancellation"],function(e){const t={},n=Xe(e,["ids"]);return null!=n&&Qe(t,["ids"],n),t}(a));const r=Xe(e,["usageMetadata"]);null!=r&&Qe(t,["usageMetadata"],function(e){const t={},n=Xe(e,["promptTokenCount"]);null!=n&&Qe(t,["promptTokenCount"],n);const i=Xe(e,["cachedContentTokenCount"]);null!=i&&Qe(t,["cachedContentTokenCount"],i);const a=Xe(e,["candidatesTokenCount"]);null!=a&&Qe(t,["responseTokenCount"],a);const r=Xe(e,["toolUsePromptTokenCount"]);null!=r&&Qe(t,["toolUsePromptTokenCount"],r);const o=Xe(e,["thoughtsTokenCount"]);null!=o&&Qe(t,["thoughtsTokenCount"],o);const s=Xe(e,["totalTokenCount"]);null!=s&&Qe(t,["totalTokenCount"],s);const l=Xe(e,["promptTokensDetails"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>Oa(e))),Qe(t,["promptTokensDetails"],e)}const u=Xe(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>Oa(e))),Qe(t,["cacheTokensDetails"],e)}const c=Xe(e,["candidatesTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>Oa(e))),Qe(t,["responseTokensDetails"],e)}const d=Xe(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>Oa(e))),Qe(t,["toolUsePromptTokensDetails"],e)}const p=Xe(e,["trafficType"]);return null!=p&&Qe(t,["trafficType"],p),t}(r));const o=Xe(e,["goAway"]);null!=o&&Qe(t,["goAway"],function(e){const t={},n=Xe(e,["timeLeft"]);return null!=n&&Qe(t,["timeLeft"],n),t}(o));const s=Xe(e,["sessionResumptionUpdate"]);return null!=s&&Qe(t,["sessionResumptionUpdate"],function(e){const t={},n=Xe(e,["newHandle"]);null!=n&&Qe(t,["newHandle"],n);const i=Xe(e,["resumable"]);null!=i&&Qe(t,["resumable"],i);const a=Xe(e,["lastConsumedClientMessageIndex"]);return null!=a&&Qe(t,["lastConsumedClientMessageIndex"],a),t}(s)),t}function Ma(e){const t={},n=Xe(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["text"]);null!=n&&Qe(t,["text"],n);const i=Xe(e,["weight"]);return null!=i&&Qe(t,["weight"],i),t}(e))),Qe(t,["weightedPrompts"],e)}return t}function Ra(e){const t={},n=Xe(e,["clientContent"]);null!=n&&Qe(t,["clientContent"],Ma(n));const i=Xe(e,["musicGenerationConfig"]);return null!=i&&Qe(t,["musicGenerationConfig"],function(e){const t={},n=Xe(e,["temperature"]);null!=n&&Qe(t,["temperature"],n);const i=Xe(e,["topK"]);null!=i&&Qe(t,["topK"],i);const a=Xe(e,["seed"]);null!=a&&Qe(t,["seed"],a);const r=Xe(e,["guidance"]);null!=r&&Qe(t,["guidance"],r);const o=Xe(e,["bpm"]);null!=o&&Qe(t,["bpm"],o);const s=Xe(e,["density"]);null!=s&&Qe(t,["density"],s);const l=Xe(e,["brightness"]);null!=l&&Qe(t,["brightness"],l);const u=Xe(e,["scale"]);null!=u&&Qe(t,["scale"],u);const c=Xe(e,["muteBass"]);null!=c&&Qe(t,["muteBass"],c);const d=Xe(e,["muteDrums"]);null!=d&&Qe(t,["muteDrums"],d);const p=Xe(e,["onlyBassAndDrums"]);return null!=p&&Qe(t,["onlyBassAndDrums"],p),t}(i)),t}function Da(e){const t={},n=Xe(e,["audioChunks"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["data"]);null!=n&&Qe(t,["data"],n);const i=Xe(e,["mimeType"]);null!=i&&Qe(t,["mimeType"],i);const a=Xe(e,["sourceMetadata"]);return null!=a&&Qe(t,["sourceMetadata"],Ra(a)),t}(e))),Qe(t,["audioChunks"],e)}return t}function La(e){const t={};null!=Xe(e,["setupComplete"])&&Qe(t,["setupComplete"],{});const n=Xe(e,["serverContent"]);null!=n&&Qe(t,["serverContent"],Da(n));const i=Xe(e,["filteredPrompt"]);return null!=i&&Qe(t,["filteredPrompt"],function(e){const t={},n=Xe(e,["text"]);null!=n&&Qe(t,["text"],n);const i=Xe(e,["filteredReason"]);return null!=i&&Qe(t,["filteredReason"],i),t}(i)),t}function qa(e){const t={},n=Xe(e,["videoMetadata"]);null!=n&&Qe(t,["videoMetadata"],function(e){const t={},n=Xe(e,["fps"]);null!=n&&Qe(t,["fps"],n);const i=Xe(e,["endOffset"]);null!=i&&Qe(t,["endOffset"],i);const a=Xe(e,["startOffset"]);return null!=a&&Qe(t,["startOffset"],a),t}(n));const i=Xe(e,["thought"]);null!=i&&Qe(t,["thought"],i);const a=Xe(e,["inlineData"]);null!=a&&Qe(t,["inlineData"],function(e){const t={};if(void 0!==Xe(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xe(e,["data"]);null!=n&&Qe(t,["data"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(a));const r=Xe(e,["fileData"]);null!=r&&Qe(t,["fileData"],function(e){const t={};if(void 0!==Xe(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xe(e,["fileUri"]);null!=n&&Qe(t,["fileUri"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(r));const o=Xe(e,["thoughtSignature"]);null!=o&&Qe(t,["thoughtSignature"],o);const s=Xe(e,["codeExecutionResult"]);null!=s&&Qe(t,["codeExecutionResult"],s);const l=Xe(e,["executableCode"]);null!=l&&Qe(t,["executableCode"],l);const u=Xe(e,["functionCall"]);null!=u&&Qe(t,["functionCall"],u);const c=Xe(e,["functionResponse"]);null!=c&&Qe(t,["functionResponse"],c);const d=Xe(e,["text"]);return null!=d&&Qe(t,["text"],d),t}function Fa(e){const t={},n=Xe(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>qa(e))),Qe(t,["parts"],e)}const i=Xe(e,["role"]);return null!=i&&Qe(t,["role"],i),t}function Ua(e){const t={},n=Xe(e,["timeRangeFilter"]);return null!=n&&Qe(t,["timeRangeFilter"],function(e){const t={},n=Xe(e,["startTime"]);null!=n&&Qe(t,["startTime"],n);const i=Xe(e,["endTime"]);return null!=i&&Qe(t,["endTime"],i),t}(n)),t}function Ha(e){const t={},n=Xe(e,["dynamicRetrievalConfig"]);return null!=n&&Qe(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xe(e,["mode"]);null!=n&&Qe(t,["mode"],n);const i=Xe(e,["dynamicThreshold"]);return null!=i&&Qe(t,["dynamicThreshold"],i),t}(n)),t}function Va(e){const t={},n=Xe(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["behavior"]);null!=n&&Qe(t,["behavior"],n);const i=Xe(e,["description"]);null!=i&&Qe(t,["description"],i);const a=Xe(e,["name"]);null!=a&&Qe(t,["name"],a);const r=Xe(e,["parameters"]);null!=r&&Qe(t,["parameters"],r);const o=Xe(e,["parametersJsonSchema"]);null!=o&&Qe(t,["parametersJsonSchema"],o);const s=Xe(e,["response"]);null!=s&&Qe(t,["response"],s);const l=Xe(e,["responseJsonSchema"]);return null!=l&&Qe(t,["responseJsonSchema"],l),t}(e))),Qe(t,["functionDeclarations"],e)}if(void 0!==Xe(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const i=Xe(e,["googleSearch"]);null!=i&&Qe(t,["googleSearch"],Ua(i));const a=Xe(e,["googleSearchRetrieval"]);if(null!=a&&Qe(t,["googleSearchRetrieval"],Ha(a)),void 0!==Xe(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==Xe(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=Xe(e,["urlContext"])&&Qe(t,["urlContext"],{});const r=Xe(e,["codeExecution"]);return null!=r&&Qe(t,["codeExecution"],r),t}function za(e){const t={},n=Xe(e,["latLng"]);null!=n&&Qe(t,["latLng"],function(e){const t={},n=Xe(e,["latitude"]);null!=n&&Qe(t,["latitude"],n);const i=Xe(e,["longitude"]);return null!=i&&Qe(t,["longitude"],i),t}(n));const i=Xe(e,["languageCode"]);return null!=i&&Qe(t,["languageCode"],i),t}function Ba(e){const t={},n=Xe(e,["functionCallingConfig"]);null!=n&&Qe(t,["functionCallingConfig"],function(e){const t={},n=Xe(e,["mode"]);null!=n&&Qe(t,["mode"],n);const i=Xe(e,["allowedFunctionNames"]);return null!=i&&Qe(t,["allowedFunctionNames"],i),t}(n));const i=Xe(e,["retrievalConfig"]);return null!=i&&Qe(t,["retrievalConfig"],za(i)),t}function Ga(e){const t={},n=Xe(e,["prebuiltVoiceConfig"]);return null!=n&&Qe(t,["prebuiltVoiceConfig"],function(e){const t={},n=Xe(e,["voiceName"]);return null!=n&&Qe(t,["voiceName"],n),t}(n)),t}function Ka(e){const t={},n=Xe(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["speaker"]);null!=n&&Qe(t,["speaker"],n);const i=Xe(e,["voiceConfig"]);return null!=i&&Qe(t,["voiceConfig"],Ga(i)),t}(e))),Qe(t,["speakerVoiceConfigs"],e)}return t}function Ja(e,t,n){const i={},a=Xe(t,["systemInstruction"]);void 0!==n&&null!=a&&Qe(n,["systemInstruction"],Fa(hn(a)));const r=Xe(t,["temperature"]);null!=r&&Qe(i,["temperature"],r);const o=Xe(t,["topP"]);null!=o&&Qe(i,["topP"],o);const s=Xe(t,["topK"]);null!=s&&Qe(i,["topK"],s);const l=Xe(t,["candidateCount"]);null!=l&&Qe(i,["candidateCount"],l);const u=Xe(t,["maxOutputTokens"]);null!=u&&Qe(i,["maxOutputTokens"],u);const c=Xe(t,["stopSequences"]);null!=c&&Qe(i,["stopSequences"],c);const d=Xe(t,["responseLogprobs"]);null!=d&&Qe(i,["responseLogprobs"],d);const p=Xe(t,["logprobs"]);null!=p&&Qe(i,["logprobs"],p);const m=Xe(t,["presencePenalty"]);null!=m&&Qe(i,["presencePenalty"],m);const f=Xe(t,["frequencyPenalty"]);null!=f&&Qe(i,["frequencyPenalty"],f);const h=Xe(t,["seed"]);null!=h&&Qe(i,["seed"],h);const g=Xe(t,["responseMimeType"]);null!=g&&Qe(i,["responseMimeType"],g);const y=Xe(t,["responseSchema"]);null!=y&&Qe(i,["responseSchema"],function(e){const t={},n=Xe(e,["anyOf"]);null!=n&&Qe(t,["anyOf"],n);const i=Xe(e,["default"]);null!=i&&Qe(t,["default"],i);const a=Xe(e,["description"]);null!=a&&Qe(t,["description"],a);const r=Xe(e,["enum"]);null!=r&&Qe(t,["enum"],r);const o=Xe(e,["example"]);null!=o&&Qe(t,["example"],o);const s=Xe(e,["format"]);null!=s&&Qe(t,["format"],s);const l=Xe(e,["items"]);null!=l&&Qe(t,["items"],l);const u=Xe(e,["maxItems"]);null!=u&&Qe(t,["maxItems"],u);const c=Xe(e,["maxLength"]);null!=c&&Qe(t,["maxLength"],c);const d=Xe(e,["maxProperties"]);null!=d&&Qe(t,["maxProperties"],d);const p=Xe(e,["maximum"]);null!=p&&Qe(t,["maximum"],p);const m=Xe(e,["minItems"]);null!=m&&Qe(t,["minItems"],m);const f=Xe(e,["minLength"]);null!=f&&Qe(t,["minLength"],f);const h=Xe(e,["minProperties"]);null!=h&&Qe(t,["minProperties"],h);const g=Xe(e,["minimum"]);null!=g&&Qe(t,["minimum"],g);const y=Xe(e,["nullable"]);null!=y&&Qe(t,["nullable"],y);const v=Xe(e,["pattern"]);null!=v&&Qe(t,["pattern"],v);const b=Xe(e,["properties"]);null!=b&&Qe(t,["properties"],b);const x=Xe(e,["propertyOrdering"]);null!=x&&Qe(t,["propertyOrdering"],x);const k=Xe(e,["required"]);null!=k&&Qe(t,["required"],k);const _=Xe(e,["title"]);null!=_&&Qe(t,["title"],_);const w=Xe(e,["type"]);return null!=w&&Qe(t,["type"],w),t}(_n(y)));const v=Xe(t,["responseJsonSchema"]);if(null!=v&&Qe(i,["responseJsonSchema"],v),void 0!==Xe(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==Xe(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=Xe(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Xe(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const n=Xe(e,["category"]);null!=n&&Qe(t,["category"],n);const i=Xe(e,["threshold"]);return null!=i&&Qe(t,["threshold"],i),t}(e))),Qe(n,["safetySettings"],e)}const x=Xe(t,["tools"]);if(void 0!==n&&null!=x){let e=Tn(x);Array.isArray(e)&&(e=e.map(e=>Va(Sn(e)))),Qe(n,["tools"],e)}const k=Xe(t,["toolConfig"]);if(void 0!==n&&null!=k&&Qe(n,["toolConfig"],Ba(k)),void 0!==Xe(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const _=Xe(t,["cachedContent"]);void 0!==n&&null!=_&&Qe(n,["cachedContent"],An(e,_));const w=Xe(t,["responseModalities"]);null!=w&&Qe(i,["responseModalities"],w);const C=Xe(t,["mediaResolution"]);null!=C&&Qe(i,["mediaResolution"],C);const S=Xe(t,["speechConfig"]);if(null!=S&&Qe(i,["speechConfig"],function(e){const t={},n=Xe(e,["voiceConfig"]);null!=n&&Qe(t,["voiceConfig"],Ga(n));const i=Xe(e,["multiSpeakerVoiceConfig"]);null!=i&&Qe(t,["multiSpeakerVoiceConfig"],Ka(i));const a=Xe(e,["languageCode"]);return null!=a&&Qe(t,["languageCode"],a),t}(wn(S))),void 0!==Xe(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const T=Xe(t,["thinkingConfig"]);return null!=T&&Qe(i,["thinkingConfig"],function(e){const t={},n=Xe(e,["includeThoughts"]);null!=n&&Qe(t,["includeThoughts"],n);const i=Xe(e,["thinkingBudget"]);return null!=i&&Qe(t,["thinkingBudget"],i),t}(T)),i}function Wa(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","model"],on(e,i));const a=Xe(t,["contents"]);if(null!=a){let e=yn(a);Array.isArray(e)&&(e=e.map(e=>Fa(e))),Qe(n,["contents"],e)}const r=Xe(t,["config"]);return null!=r&&Qe(n,["generationConfig"],Ja(e,r,n)),n}function Ya(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","model"],on(e,i));const a=Xe(t,["contents"]);null!=a&&Qe(n,["requests[]","content"],gn(e,a));const r=Xe(t,["config"]);null!=r&&Qe(n,["config"],function(e,t){const n=Xe(e,["taskType"]);void 0!==t&&null!=n&&Qe(t,["requests[]","taskType"],n);const i=Xe(e,["title"]);void 0!==t&&null!=i&&Qe(t,["requests[]","title"],i);const a=Xe(e,["outputDimensionality"]);if(void 0!==t&&null!=a&&Qe(t,["requests[]","outputDimensionality"],a),void 0!==Xe(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==Xe(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return{}}(r,n));const o=Xe(t,["model"]);return void 0!==o&&Qe(n,["requests[]","model"],on(e,o)),n}function Za(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","model"],on(e,i));const a=Xe(t,["prompt"]);null!=a&&Qe(n,["instances[0]","prompt"],a);const r=Xe(t,["config"]);return null!=r&&Qe(n,["config"],function(e,t){if(void 0!==Xe(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==Xe(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=Xe(e,["numberOfImages"]);void 0!==t&&null!=n&&Qe(t,["parameters","sampleCount"],n);const i=Xe(e,["aspectRatio"]);void 0!==t&&null!=i&&Qe(t,["parameters","aspectRatio"],i);const a=Xe(e,["guidanceScale"]);if(void 0!==t&&null!=a&&Qe(t,["parameters","guidanceScale"],a),void 0!==Xe(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const r=Xe(e,["safetyFilterLevel"]);void 0!==t&&null!=r&&Qe(t,["parameters","safetySetting"],r);const o=Xe(e,["personGeneration"]);void 0!==t&&null!=o&&Qe(t,["parameters","personGeneration"],o);const s=Xe(e,["includeSafetyAttributes"]);void 0!==t&&null!=s&&Qe(t,["parameters","includeSafetyAttributes"],s);const l=Xe(e,["includeRaiReason"]);void 0!==t&&null!=l&&Qe(t,["parameters","includeRaiReason"],l);const u=Xe(e,["language"]);void 0!==t&&null!=u&&Qe(t,["parameters","language"],u);const c=Xe(e,["outputMimeType"]);void 0!==t&&null!=c&&Qe(t,["parameters","outputOptions","mimeType"],c);const d=Xe(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&Qe(t,["parameters","outputOptions","compressionQuality"],d),void 0!==Xe(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==Xe(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.");return{}}(r,n)),n}function $a(e,t){const n={},i=Xe(t,["config"]);return null!=i&&Qe(n,["config"],function(e,t,n){const i=Xe(t,["pageSize"]);void 0!==n&&null!=i&&Qe(n,["_query","pageSize"],i);const a=Xe(t,["pageToken"]);void 0!==n&&null!=a&&Qe(n,["_query","pageToken"],a);const r=Xe(t,["filter"]);void 0!==n&&null!=r&&Qe(n,["_query","filter"],r);const o=Xe(t,["queryBase"]);return void 0!==n&&null!=o&&Qe(n,["_url","models_url"],On(e,o)),{}}(e,i,n)),n}function Qa(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","name"],on(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],function(e,t){const n=Xe(e,["displayName"]);void 0!==t&&null!=n&&Qe(t,["displayName"],n);const i=Xe(e,["description"]);void 0!==t&&null!=i&&Qe(t,["description"],i);const a=Xe(e,["defaultCheckpointId"]);return void 0!==t&&null!=a&&Qe(t,["defaultCheckpointId"],a),{}}(a,n)),n}function Xa(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","model"],on(e,i));const a=Xe(t,["contents"]);if(null!=a){let e=yn(a);Array.isArray(e)&&(e=e.map(e=>Fa(e))),Qe(n,["contents"],e)}const r=Xe(t,["config"]);return null!=r&&Qe(n,["config"],function(e){if(void 0!==Xe(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==Xe(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==Xe(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.");return{}}(r)),n}function er(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","model"],on(e,i));const a=Xe(t,["prompt"]);null!=a&&Qe(n,["instances[0]","prompt"],a);const r=Xe(t,["image"]);if(null!=r&&Qe(n,["instances[0]","image"],function(e){const t={};if(void 0!==Xe(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=Xe(e,["imageBytes"]);null!=n&&Qe(t,["bytesBase64Encoded"],Nn(n));const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(r)),void 0!==Xe(t,["video"]))throw new Error("video parameter is not supported in Gemini API.");const o=Xe(t,["config"]);return null!=o&&Qe(n,["config"],function(e,t){const n=Xe(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&Qe(t,["parameters","sampleCount"],n),void 0!==Xe(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==Xe(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const i=Xe(e,["durationSeconds"]);if(void 0!==t&&null!=i&&Qe(t,["parameters","durationSeconds"],i),void 0!==Xe(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const a=Xe(e,["aspectRatio"]);if(void 0!==t&&null!=a&&Qe(t,["parameters","aspectRatio"],a),void 0!==Xe(e,["resolution"]))throw new Error("resolution parameter is not supported in Gemini API.");const r=Xe(e,["personGeneration"]);if(void 0!==t&&null!=r&&Qe(t,["parameters","personGeneration"],r),void 0!==Xe(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const o=Xe(e,["negativePrompt"]);void 0!==t&&null!=o&&Qe(t,["parameters","negativePrompt"],o);const s=Xe(e,["enhancePrompt"]);if(void 0!==t&&null!=s&&Qe(t,["parameters","enhancePrompt"],s),void 0!==Xe(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");if(void 0!==Xe(e,["lastFrame"]))throw new Error("lastFrame parameter is not supported in Gemini API.");if(void 0!==Xe(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}(o,n)),n}function tr(e){const t={},n=Xe(e,["videoMetadata"]);null!=n&&Qe(t,["videoMetadata"],function(e){const t={},n=Xe(e,["fps"]);null!=n&&Qe(t,["fps"],n);const i=Xe(e,["endOffset"]);null!=i&&Qe(t,["endOffset"],i);const a=Xe(e,["startOffset"]);return null!=a&&Qe(t,["startOffset"],a),t}(n));const i=Xe(e,["thought"]);null!=i&&Qe(t,["thought"],i);const a=Xe(e,["inlineData"]);null!=a&&Qe(t,["inlineData"],function(e){const t={},n=Xe(e,["displayName"]);null!=n&&Qe(t,["displayName"],n);const i=Xe(e,["data"]);null!=i&&Qe(t,["data"],i);const a=Xe(e,["mimeType"]);return null!=a&&Qe(t,["mimeType"],a),t}(a));const r=Xe(e,["fileData"]);null!=r&&Qe(t,["fileData"],function(e){const t={},n=Xe(e,["displayName"]);null!=n&&Qe(t,["displayName"],n);const i=Xe(e,["fileUri"]);null!=i&&Qe(t,["fileUri"],i);const a=Xe(e,["mimeType"]);return null!=a&&Qe(t,["mimeType"],a),t}(r));const o=Xe(e,["thoughtSignature"]);null!=o&&Qe(t,["thoughtSignature"],o);const s=Xe(e,["codeExecutionResult"]);null!=s&&Qe(t,["codeExecutionResult"],s);const l=Xe(e,["executableCode"]);null!=l&&Qe(t,["executableCode"],l);const u=Xe(e,["functionCall"]);null!=u&&Qe(t,["functionCall"],u);const c=Xe(e,["functionResponse"]);null!=c&&Qe(t,["functionResponse"],c);const d=Xe(e,["text"]);return null!=d&&Qe(t,["text"],d),t}function nr(e){const t={},n=Xe(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>tr(e))),Qe(t,["parts"],e)}const i=Xe(e,["role"]);return null!=i&&Qe(t,["role"],i),t}function ir(e){const t={},n=Xe(e,["timeRangeFilter"]);return null!=n&&Qe(t,["timeRangeFilter"],function(e){const t={},n=Xe(e,["startTime"]);null!=n&&Qe(t,["startTime"],n);const i=Xe(e,["endTime"]);return null!=i&&Qe(t,["endTime"],i),t}(n)),t}function ar(e){const t={},n=Xe(e,["dynamicRetrievalConfig"]);return null!=n&&Qe(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xe(e,["mode"]);null!=n&&Qe(t,["mode"],n);const i=Xe(e,["dynamicThreshold"]);return null!=i&&Qe(t,["dynamicThreshold"],i),t}(n)),t}function rr(e){const t={},n=Xe(e,["apiKeyConfig"]);null!=n&&Qe(t,["apiKeyConfig"],function(e){const t={},n=Xe(e,["apiKeyString"]);return null!=n&&Qe(t,["apiKeyString"],n),t}(n));const i=Xe(e,["authType"]);null!=i&&Qe(t,["authType"],i);const a=Xe(e,["googleServiceAccountConfig"]);null!=a&&Qe(t,["googleServiceAccountConfig"],a);const r=Xe(e,["httpBasicAuthConfig"]);null!=r&&Qe(t,["httpBasicAuthConfig"],r);const o=Xe(e,["oauthConfig"]);null!=o&&Qe(t,["oauthConfig"],o);const s=Xe(e,["oidcConfig"]);return null!=s&&Qe(t,["oidcConfig"],s),t}function or(e){const t={},n=Xe(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Xe(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=Xe(e,["description"]);null!=n&&Qe(t,["description"],n);const i=Xe(e,["name"]);null!=i&&Qe(t,["name"],i);const a=Xe(e,["parameters"]);null!=a&&Qe(t,["parameters"],a);const r=Xe(e,["parametersJsonSchema"]);null!=r&&Qe(t,["parametersJsonSchema"],r);const o=Xe(e,["response"]);null!=o&&Qe(t,["response"],o);const s=Xe(e,["responseJsonSchema"]);return null!=s&&Qe(t,["responseJsonSchema"],s),t}(e))),Qe(t,["functionDeclarations"],e)}const i=Xe(e,["retrieval"]);null!=i&&Qe(t,["retrieval"],i);const a=Xe(e,["googleSearch"]);null!=a&&Qe(t,["googleSearch"],ir(a));const r=Xe(e,["googleSearchRetrieval"]);null!=r&&Qe(t,["googleSearchRetrieval"],ar(r));null!=Xe(e,["enterpriseWebSearch"])&&Qe(t,["enterpriseWebSearch"],{});const o=Xe(e,["googleMaps"]);null!=o&&Qe(t,["googleMaps"],function(e){const t={},n=Xe(e,["authConfig"]);return null!=n&&Qe(t,["authConfig"],rr(n)),t}(o));null!=Xe(e,["urlContext"])&&Qe(t,["urlContext"],{});const s=Xe(e,["codeExecution"]);return null!=s&&Qe(t,["codeExecution"],s),t}function sr(e){const t={},n=Xe(e,["latLng"]);null!=n&&Qe(t,["latLng"],function(e){const t={},n=Xe(e,["latitude"]);null!=n&&Qe(t,["latitude"],n);const i=Xe(e,["longitude"]);return null!=i&&Qe(t,["longitude"],i),t}(n));const i=Xe(e,["languageCode"]);return null!=i&&Qe(t,["languageCode"],i),t}function lr(e){const t={},n=Xe(e,["functionCallingConfig"]);null!=n&&Qe(t,["functionCallingConfig"],function(e){const t={},n=Xe(e,["mode"]);null!=n&&Qe(t,["mode"],n);const i=Xe(e,["allowedFunctionNames"]);return null!=i&&Qe(t,["allowedFunctionNames"],i),t}(n));const i=Xe(e,["retrievalConfig"]);return null!=i&&Qe(t,["retrievalConfig"],sr(i)),t}function ur(e){const t={},n=Xe(e,["prebuiltVoiceConfig"]);return null!=n&&Qe(t,["prebuiltVoiceConfig"],function(e){const t={},n=Xe(e,["voiceName"]);return null!=n&&Qe(t,["voiceName"],n),t}(n)),t}function cr(e,t,n){const i={},a=Xe(t,["systemInstruction"]);void 0!==n&&null!=a&&Qe(n,["systemInstruction"],nr(hn(a)));const r=Xe(t,["temperature"]);null!=r&&Qe(i,["temperature"],r);const o=Xe(t,["topP"]);null!=o&&Qe(i,["topP"],o);const s=Xe(t,["topK"]);null!=s&&Qe(i,["topK"],s);const l=Xe(t,["candidateCount"]);null!=l&&Qe(i,["candidateCount"],l);const u=Xe(t,["maxOutputTokens"]);null!=u&&Qe(i,["maxOutputTokens"],u);const c=Xe(t,["stopSequences"]);null!=c&&Qe(i,["stopSequences"],c);const d=Xe(t,["responseLogprobs"]);null!=d&&Qe(i,["responseLogprobs"],d);const p=Xe(t,["logprobs"]);null!=p&&Qe(i,["logprobs"],p);const m=Xe(t,["presencePenalty"]);null!=m&&Qe(i,["presencePenalty"],m);const f=Xe(t,["frequencyPenalty"]);null!=f&&Qe(i,["frequencyPenalty"],f);const h=Xe(t,["seed"]);null!=h&&Qe(i,["seed"],h);const g=Xe(t,["responseMimeType"]);null!=g&&Qe(i,["responseMimeType"],g);const y=Xe(t,["responseSchema"]);null!=y&&Qe(i,["responseSchema"],function(e){const t={},n=Xe(e,["anyOf"]);null!=n&&Qe(t,["anyOf"],n);const i=Xe(e,["default"]);null!=i&&Qe(t,["default"],i);const a=Xe(e,["description"]);null!=a&&Qe(t,["description"],a);const r=Xe(e,["enum"]);null!=r&&Qe(t,["enum"],r);const o=Xe(e,["example"]);null!=o&&Qe(t,["example"],o);const s=Xe(e,["format"]);null!=s&&Qe(t,["format"],s);const l=Xe(e,["items"]);null!=l&&Qe(t,["items"],l);const u=Xe(e,["maxItems"]);null!=u&&Qe(t,["maxItems"],u);const c=Xe(e,["maxLength"]);null!=c&&Qe(t,["maxLength"],c);const d=Xe(e,["maxProperties"]);null!=d&&Qe(t,["maxProperties"],d);const p=Xe(e,["maximum"]);null!=p&&Qe(t,["maximum"],p);const m=Xe(e,["minItems"]);null!=m&&Qe(t,["minItems"],m);const f=Xe(e,["minLength"]);null!=f&&Qe(t,["minLength"],f);const h=Xe(e,["minProperties"]);null!=h&&Qe(t,["minProperties"],h);const g=Xe(e,["minimum"]);null!=g&&Qe(t,["minimum"],g);const y=Xe(e,["nullable"]);null!=y&&Qe(t,["nullable"],y);const v=Xe(e,["pattern"]);null!=v&&Qe(t,["pattern"],v);const b=Xe(e,["properties"]);null!=b&&Qe(t,["properties"],b);const x=Xe(e,["propertyOrdering"]);null!=x&&Qe(t,["propertyOrdering"],x);const k=Xe(e,["required"]);null!=k&&Qe(t,["required"],k);const _=Xe(e,["title"]);null!=_&&Qe(t,["title"],_);const w=Xe(e,["type"]);return null!=w&&Qe(t,["type"],w),t}(_n(y)));const v=Xe(t,["responseJsonSchema"]);null!=v&&Qe(i,["responseJsonSchema"],v);const b=Xe(t,["routingConfig"]);null!=b&&Qe(i,["routingConfig"],b);const x=Xe(t,["modelSelectionConfig"]);null!=x&&Qe(i,["modelConfig"],function(e){const t={},n=Xe(e,["featureSelectionPreference"]);return null!=n&&Qe(t,["featureSelectionPreference"],n),t}(x));const k=Xe(t,["safetySettings"]);if(void 0!==n&&null!=k){let e=k;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["method"]);null!=n&&Qe(t,["method"],n);const i=Xe(e,["category"]);null!=i&&Qe(t,["category"],i);const a=Xe(e,["threshold"]);return null!=a&&Qe(t,["threshold"],a),t}(e))),Qe(n,["safetySettings"],e)}const _=Xe(t,["tools"]);if(void 0!==n&&null!=_){let e=Tn(_);Array.isArray(e)&&(e=e.map(e=>or(Sn(e)))),Qe(n,["tools"],e)}const w=Xe(t,["toolConfig"]);void 0!==n&&null!=w&&Qe(n,["toolConfig"],lr(w));const C=Xe(t,["labels"]);void 0!==n&&null!=C&&Qe(n,["labels"],C);const S=Xe(t,["cachedContent"]);void 0!==n&&null!=S&&Qe(n,["cachedContent"],An(e,S));const T=Xe(t,["responseModalities"]);null!=T&&Qe(i,["responseModalities"],T);const A=Xe(t,["mediaResolution"]);null!=A&&Qe(i,["mediaResolution"],A);const E=Xe(t,["speechConfig"]);null!=E&&Qe(i,["speechConfig"],function(e){const t={},n=Xe(e,["voiceConfig"]);if(null!=n&&Qe(t,["voiceConfig"],ur(n)),void 0!==Xe(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=Xe(e,["languageCode"]);return null!=i&&Qe(t,["languageCode"],i),t}(wn(E)));const N=Xe(t,["audioTimestamp"]);null!=N&&Qe(i,["audioTimestamp"],N);const j=Xe(t,["thinkingConfig"]);return null!=j&&Qe(i,["thinkingConfig"],function(e){const t={},n=Xe(e,["includeThoughts"]);null!=n&&Qe(t,["includeThoughts"],n);const i=Xe(e,["thinkingBudget"]);return null!=i&&Qe(t,["thinkingBudget"],i),t}(j)),i}function dr(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","model"],on(e,i));const a=Xe(t,["contents"]);if(null!=a){let e=yn(a);Array.isArray(e)&&(e=e.map(e=>nr(e))),Qe(n,["contents"],e)}const r=Xe(t,["config"]);return null!=r&&Qe(n,["generationConfig"],cr(e,r,n)),n}function pr(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","model"],on(e,i));const a=Xe(t,["contents"]);null!=a&&Qe(n,["instances[]","content"],gn(e,a));const r=Xe(t,["config"]);return null!=r&&Qe(n,["config"],function(e,t){const n=Xe(e,["taskType"]);void 0!==t&&null!=n&&Qe(t,["instances[]","task_type"],n);const i=Xe(e,["title"]);void 0!==t&&null!=i&&Qe(t,["instances[]","title"],i);const a=Xe(e,["outputDimensionality"]);void 0!==t&&null!=a&&Qe(t,["parameters","outputDimensionality"],a);const r=Xe(e,["mimeType"]);void 0!==t&&null!=r&&Qe(t,["instances[]","mimeType"],r);const o=Xe(e,["autoTruncate"]);return void 0!==t&&null!=o&&Qe(t,["parameters","autoTruncate"],o),{}}(r,n)),n}function mr(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","model"],on(e,i));const a=Xe(t,["prompt"]);null!=a&&Qe(n,["instances[0]","prompt"],a);const r=Xe(t,["config"]);return null!=r&&Qe(n,["config"],function(e,t){const n=Xe(e,["outputGcsUri"]);void 0!==t&&null!=n&&Qe(t,["parameters","storageUri"],n);const i=Xe(e,["negativePrompt"]);void 0!==t&&null!=i&&Qe(t,["parameters","negativePrompt"],i);const a=Xe(e,["numberOfImages"]);void 0!==t&&null!=a&&Qe(t,["parameters","sampleCount"],a);const r=Xe(e,["aspectRatio"]);void 0!==t&&null!=r&&Qe(t,["parameters","aspectRatio"],r);const o=Xe(e,["guidanceScale"]);void 0!==t&&null!=o&&Qe(t,["parameters","guidanceScale"],o);const s=Xe(e,["seed"]);void 0!==t&&null!=s&&Qe(t,["parameters","seed"],s);const l=Xe(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&Qe(t,["parameters","safetySetting"],l);const u=Xe(e,["personGeneration"]);void 0!==t&&null!=u&&Qe(t,["parameters","personGeneration"],u);const c=Xe(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&Qe(t,["parameters","includeSafetyAttributes"],c);const d=Xe(e,["includeRaiReason"]);void 0!==t&&null!=d&&Qe(t,["parameters","includeRaiReason"],d);const p=Xe(e,["language"]);void 0!==t&&null!=p&&Qe(t,["parameters","language"],p);const m=Xe(e,["outputMimeType"]);void 0!==t&&null!=m&&Qe(t,["parameters","outputOptions","mimeType"],m);const f=Xe(e,["outputCompressionQuality"]);void 0!==t&&null!=f&&Qe(t,["parameters","outputOptions","compressionQuality"],f);const h=Xe(e,["addWatermark"]);void 0!==t&&null!=h&&Qe(t,["parameters","addWatermark"],h);const g=Xe(e,["enhancePrompt"]);return void 0!==t&&null!=g&&Qe(t,["parameters","enhancePrompt"],g),{}}(r,n)),n}function fr(e){const t={},n=Xe(e,["gcsUri"]);null!=n&&Qe(t,["gcsUri"],n);const i=Xe(e,["imageBytes"]);null!=i&&Qe(t,["bytesBase64Encoded"],Nn(i));const a=Xe(e,["mimeType"]);return null!=a&&Qe(t,["mimeType"],a),t}function hr(e){const t={},n=Xe(e,["referenceImage"]);null!=n&&Qe(t,["referenceImage"],fr(n));const i=Xe(e,["referenceId"]);null!=i&&Qe(t,["referenceId"],i);const a=Xe(e,["referenceType"]);null!=a&&Qe(t,["referenceType"],a);const r=Xe(e,["maskImageConfig"]);null!=r&&Qe(t,["maskImageConfig"],function(e){const t={},n=Xe(e,["maskMode"]);null!=n&&Qe(t,["maskMode"],n);const i=Xe(e,["segmentationClasses"]);null!=i&&Qe(t,["maskClasses"],i);const a=Xe(e,["maskDilation"]);return null!=a&&Qe(t,["dilation"],a),t}(r));const o=Xe(e,["controlImageConfig"]);null!=o&&Qe(t,["controlImageConfig"],function(e){const t={},n=Xe(e,["controlType"]);null!=n&&Qe(t,["controlType"],n);const i=Xe(e,["enableControlImageComputation"]);return null!=i&&Qe(t,["computeControl"],i),t}(o));const s=Xe(e,["styleImageConfig"]);null!=s&&Qe(t,["styleImageConfig"],function(e){const t={},n=Xe(e,["styleDescription"]);return null!=n&&Qe(t,["styleDescription"],n),t}(s));const l=Xe(e,["subjectImageConfig"]);return null!=l&&Qe(t,["subjectImageConfig"],function(e){const t={},n=Xe(e,["subjectType"]);null!=n&&Qe(t,["subjectType"],n);const i=Xe(e,["subjectDescription"]);return null!=i&&Qe(t,["subjectDescription"],i),t}(l)),t}function gr(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","model"],on(e,i));const a=Xe(t,["prompt"]);null!=a&&Qe(n,["instances[0]","prompt"],a);const r=Xe(t,["referenceImages"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>hr(e))),Qe(n,["instances[0]","referenceImages"],e)}const o=Xe(t,["config"]);return null!=o&&Qe(n,["config"],function(e,t){const n=Xe(e,["outputGcsUri"]);void 0!==t&&null!=n&&Qe(t,["parameters","storageUri"],n);const i=Xe(e,["negativePrompt"]);void 0!==t&&null!=i&&Qe(t,["parameters","negativePrompt"],i);const a=Xe(e,["numberOfImages"]);void 0!==t&&null!=a&&Qe(t,["parameters","sampleCount"],a);const r=Xe(e,["aspectRatio"]);void 0!==t&&null!=r&&Qe(t,["parameters","aspectRatio"],r);const o=Xe(e,["guidanceScale"]);void 0!==t&&null!=o&&Qe(t,["parameters","guidanceScale"],o);const s=Xe(e,["seed"]);void 0!==t&&null!=s&&Qe(t,["parameters","seed"],s);const l=Xe(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&Qe(t,["parameters","safetySetting"],l);const u=Xe(e,["personGeneration"]);void 0!==t&&null!=u&&Qe(t,["parameters","personGeneration"],u);const c=Xe(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&Qe(t,["parameters","includeSafetyAttributes"],c);const d=Xe(e,["includeRaiReason"]);void 0!==t&&null!=d&&Qe(t,["parameters","includeRaiReason"],d);const p=Xe(e,["language"]);void 0!==t&&null!=p&&Qe(t,["parameters","language"],p);const m=Xe(e,["outputMimeType"]);void 0!==t&&null!=m&&Qe(t,["parameters","outputOptions","mimeType"],m);const f=Xe(e,["outputCompressionQuality"]);void 0!==t&&null!=f&&Qe(t,["parameters","outputOptions","compressionQuality"],f);const h=Xe(e,["editMode"]);void 0!==t&&null!=h&&Qe(t,["parameters","editMode"],h);const g=Xe(e,["baseSteps"]);return void 0!==t&&null!=g&&Qe(t,["parameters","editConfig","baseSteps"],g),{}}(o,n)),n}function yr(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","model"],on(e,i));const a=Xe(t,["image"]);null!=a&&Qe(n,["instances[0]","image"],fr(a));const r=Xe(t,["upscaleFactor"]);null!=r&&Qe(n,["parameters","upscaleConfig","upscaleFactor"],r);const o=Xe(t,["config"]);return null!=o&&Qe(n,["config"],function(e,t){const n=Xe(e,["includeRaiReason"]);void 0!==t&&null!=n&&Qe(t,["parameters","includeRaiReason"],n);const i=Xe(e,["outputMimeType"]);void 0!==t&&null!=i&&Qe(t,["parameters","outputOptions","mimeType"],i);const a=Xe(e,["outputCompressionQuality"]);void 0!==t&&null!=a&&Qe(t,["parameters","outputOptions","compressionQuality"],a);const r=Xe(e,["enhanceInputImage"]);void 0!==t&&null!=r&&Qe(t,["parameters","upscaleConfig","enhanceInputImage"],r);const o=Xe(e,["imagePreservationFactor"]);void 0!==t&&null!=o&&Qe(t,["parameters","upscaleConfig","imagePreservationFactor"],o);const s=Xe(e,["numberOfImages"]);void 0!==t&&null!=s&&Qe(t,["parameters","sampleCount"],s);const l=Xe(e,["mode"]);return void 0!==t&&null!=l&&Qe(t,["parameters","mode"],l),{}}(o,n)),n}function vr(e,t){const n={},i=Xe(t,["config"]);return null!=i&&Qe(n,["config"],function(e,t,n){const i=Xe(t,["pageSize"]);void 0!==n&&null!=i&&Qe(n,["_query","pageSize"],i);const a=Xe(t,["pageToken"]);void 0!==n&&null!=a&&Qe(n,["_query","pageToken"],a);const r=Xe(t,["filter"]);void 0!==n&&null!=r&&Qe(n,["_query","filter"],r);const o=Xe(t,["queryBase"]);return void 0!==n&&null!=o&&Qe(n,["_url","models_url"],On(e,o)),{}}(e,i,n)),n}function br(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","model"],on(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],function(e,t){const n=Xe(e,["displayName"]);void 0!==t&&null!=n&&Qe(t,["displayName"],n);const i=Xe(e,["description"]);void 0!==t&&null!=i&&Qe(t,["description"],i);const a=Xe(e,["defaultCheckpointId"]);return void 0!==t&&null!=a&&Qe(t,["defaultCheckpointId"],a),{}}(a,n)),n}function xr(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","model"],on(e,i));const a=Xe(t,["contents"]);if(null!=a){let e=yn(a);Array.isArray(e)&&(e=e.map(e=>nr(e))),Qe(n,["contents"],e)}const r=Xe(t,["config"]);return null!=r&&Qe(n,["config"],function(e,t){const n=Xe(e,["systemInstruction"]);void 0!==t&&null!=n&&Qe(t,["systemInstruction"],nr(hn(n)));const i=Xe(e,["tools"]);if(void 0!==t&&null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>or(e))),Qe(t,["tools"],e)}const a=Xe(e,["generationConfig"]);return void 0!==t&&null!=a&&Qe(t,["generationConfig"],a),{}}(r,n)),n}function kr(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","model"],on(e,i));const a=Xe(t,["prompt"]);null!=a&&Qe(n,["instances[0]","prompt"],a);const r=Xe(t,["image"]);null!=r&&Qe(n,["instances[0]","image"],fr(r));const o=Xe(t,["video"]);null!=o&&Qe(n,["instances[0]","video"],function(e){const t={},n=Xe(e,["uri"]);null!=n&&Qe(t,["gcsUri"],n);const i=Xe(e,["videoBytes"]);null!=i&&Qe(t,["bytesBase64Encoded"],Nn(i));const a=Xe(e,["mimeType"]);return null!=a&&Qe(t,["mimeType"],a),t}(o));const s=Xe(t,["config"]);return null!=s&&Qe(n,["config"],function(e,t){const n=Xe(e,["numberOfVideos"]);void 0!==t&&null!=n&&Qe(t,["parameters","sampleCount"],n);const i=Xe(e,["outputGcsUri"]);void 0!==t&&null!=i&&Qe(t,["parameters","storageUri"],i);const a=Xe(e,["fps"]);void 0!==t&&null!=a&&Qe(t,["parameters","fps"],a);const r=Xe(e,["durationSeconds"]);void 0!==t&&null!=r&&Qe(t,["parameters","durationSeconds"],r);const o=Xe(e,["seed"]);void 0!==t&&null!=o&&Qe(t,["parameters","seed"],o);const s=Xe(e,["aspectRatio"]);void 0!==t&&null!=s&&Qe(t,["parameters","aspectRatio"],s);const l=Xe(e,["resolution"]);void 0!==t&&null!=l&&Qe(t,["parameters","resolution"],l);const u=Xe(e,["personGeneration"]);void 0!==t&&null!=u&&Qe(t,["parameters","personGeneration"],u);const c=Xe(e,["pubsubTopic"]);void 0!==t&&null!=c&&Qe(t,["parameters","pubsubTopic"],c);const d=Xe(e,["negativePrompt"]);void 0!==t&&null!=d&&Qe(t,["parameters","negativePrompt"],d);const p=Xe(e,["enhancePrompt"]);void 0!==t&&null!=p&&Qe(t,["parameters","enhancePrompt"],p);const m=Xe(e,["generateAudio"]);void 0!==t&&null!=m&&Qe(t,["parameters","generateAudio"],m);const f=Xe(e,["lastFrame"]);void 0!==t&&null!=f&&Qe(t,["instances[0]","lastFrame"],fr(f));const h=Xe(e,["compressionQuality"]);return void 0!==t&&null!=h&&Qe(t,["parameters","compressionQuality"],h),{}}(s,n)),n}function _r(e){const t={},n=Xe(e,["videoMetadata"]);null!=n&&Qe(t,["videoMetadata"],function(e){const t={},n=Xe(e,["fps"]);null!=n&&Qe(t,["fps"],n);const i=Xe(e,["endOffset"]);null!=i&&Qe(t,["endOffset"],i);const a=Xe(e,["startOffset"]);return null!=a&&Qe(t,["startOffset"],a),t}(n));const i=Xe(e,["thought"]);null!=i&&Qe(t,["thought"],i);const a=Xe(e,["inlineData"]);null!=a&&Qe(t,["inlineData"],function(e){const t={},n=Xe(e,["data"]);null!=n&&Qe(t,["data"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(a));const r=Xe(e,["fileData"]);null!=r&&Qe(t,["fileData"],function(e){const t={},n=Xe(e,["fileUri"]);null!=n&&Qe(t,["fileUri"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(r));const o=Xe(e,["thoughtSignature"]);null!=o&&Qe(t,["thoughtSignature"],o);const s=Xe(e,["codeExecutionResult"]);null!=s&&Qe(t,["codeExecutionResult"],s);const l=Xe(e,["executableCode"]);null!=l&&Qe(t,["executableCode"],l);const u=Xe(e,["functionCall"]);null!=u&&Qe(t,["functionCall"],u);const c=Xe(e,["functionResponse"]);null!=c&&Qe(t,["functionResponse"],c);const d=Xe(e,["text"]);return null!=d&&Qe(t,["text"],d),t}function wr(e){const t={},n=Xe(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["retrievedUrl"]);null!=n&&Qe(t,["retrievedUrl"],n);const i=Xe(e,["urlRetrievalStatus"]);return null!=i&&Qe(t,["urlRetrievalStatus"],i),t}(e))),Qe(t,["urlMetadata"],e)}return t}function Cr(e){const t={},n=Xe(e,["content"]);null!=n&&Qe(t,["content"],function(e){const t={},n=Xe(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>_r(e))),Qe(t,["parts"],e)}const i=Xe(e,["role"]);return null!=i&&Qe(t,["role"],i),t}(n));const i=Xe(e,["citationMetadata"]);null!=i&&Qe(t,["citationMetadata"],function(e){const t={},n=Xe(e,["citationSources"]);return null!=n&&Qe(t,["citations"],n),t}(i));const a=Xe(e,["tokenCount"]);null!=a&&Qe(t,["tokenCount"],a);const r=Xe(e,["finishReason"]);null!=r&&Qe(t,["finishReason"],r);const o=Xe(e,["urlContextMetadata"]);null!=o&&Qe(t,["urlContextMetadata"],wr(o));const s=Xe(e,["avgLogprobs"]);null!=s&&Qe(t,["avgLogprobs"],s);const l=Xe(e,["groundingMetadata"]);null!=l&&Qe(t,["groundingMetadata"],l);const u=Xe(e,["index"]);null!=u&&Qe(t,["index"],u);const c=Xe(e,["logprobsResult"]);null!=c&&Qe(t,["logprobsResult"],c);const d=Xe(e,["safetyRatings"]);return null!=d&&Qe(t,["safetyRatings"],d),t}function Sr(e){const t={},n=Xe(e,["candidates"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Cr(e))),Qe(t,["candidates"],e)}const i=Xe(e,["modelVersion"]);null!=i&&Qe(t,["modelVersion"],i);const a=Xe(e,["promptFeedback"]);null!=a&&Qe(t,["promptFeedback"],a);const r=Xe(e,["usageMetadata"]);return null!=r&&Qe(t,["usageMetadata"],r),t}function Tr(e){const t={},n=Xe(e,["embeddings"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["values"]);return null!=n&&Qe(t,["values"],n),t}(e))),Qe(t,["embeddings"],e)}return null!=Xe(e,["metadata"])&&Qe(t,["metadata"],{}),t}function Ar(e){const t={},n=Xe(e,["safetyAttributes","categories"]);null!=n&&Qe(t,["categories"],n);const i=Xe(e,["safetyAttributes","scores"]);null!=i&&Qe(t,["scores"],i);const a=Xe(e,["contentType"]);return null!=a&&Qe(t,["contentType"],a),t}function Er(e){const t={},n=Xe(e,["_self"]);null!=n&&Qe(t,["image"],function(e){const t={},n=Xe(e,["bytesBase64Encoded"]);null!=n&&Qe(t,["imageBytes"],Nn(n));const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(n));const i=Xe(e,["raiFilteredReason"]);null!=i&&Qe(t,["raiFilteredReason"],i);const a=Xe(e,["_self"]);return null!=a&&Qe(t,["safetyAttributes"],Ar(a)),t}function Nr(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["displayName"]);null!=i&&Qe(t,["displayName"],i);const a=Xe(e,["description"]);null!=a&&Qe(t,["description"],a);const r=Xe(e,["version"]);null!=r&&Qe(t,["version"],r);const o=Xe(e,["_self"]);null!=o&&Qe(t,["tunedModelInfo"],function(e){const t={},n=Xe(e,["baseModel"]);null!=n&&Qe(t,["baseModel"],n);const i=Xe(e,["createTime"]);null!=i&&Qe(t,["createTime"],i);const a=Xe(e,["updateTime"]);return null!=a&&Qe(t,["updateTime"],a),t}(o));const s=Xe(e,["inputTokenLimit"]);null!=s&&Qe(t,["inputTokenLimit"],s);const l=Xe(e,["outputTokenLimit"]);null!=l&&Qe(t,["outputTokenLimit"],l);const u=Xe(e,["supportedGenerationMethods"]);return null!=u&&Qe(t,["supportedActions"],u),t}function jr(e){const t={},n=Xe(e,["_self"]);return null!=n&&Qe(t,["video"],function(e){const t={},n=Xe(e,["video","uri"]);null!=n&&Qe(t,["uri"],n);const i=Xe(e,["video","encodedVideo"]);null!=i&&Qe(t,["videoBytes"],Nn(i));const a=Xe(e,["encoding"]);return null!=a&&Qe(t,["mimeType"],a),t}(n)),t}function Or(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["metadata"]);null!=i&&Qe(t,["metadata"],i);const a=Xe(e,["done"]);null!=a&&Qe(t,["done"],a);const r=Xe(e,["error"]);null!=r&&Qe(t,["error"],r);const o=Xe(e,["response","generateVideoResponse"]);return null!=o&&Qe(t,["response"],function(e){const t={},n=Xe(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>jr(e))),Qe(t,["generatedVideos"],e)}const i=Xe(e,["raiMediaFilteredCount"]);null!=i&&Qe(t,["raiMediaFilteredCount"],i);const a=Xe(e,["raiMediaFilteredReasons"]);return null!=a&&Qe(t,["raiMediaFilteredReasons"],a),t}(o)),t}function Ir(e){const t={},n=Xe(e,["videoMetadata"]);null!=n&&Qe(t,["videoMetadata"],function(e){const t={},n=Xe(e,["fps"]);null!=n&&Qe(t,["fps"],n);const i=Xe(e,["endOffset"]);null!=i&&Qe(t,["endOffset"],i);const a=Xe(e,["startOffset"]);return null!=a&&Qe(t,["startOffset"],a),t}(n));const i=Xe(e,["thought"]);null!=i&&Qe(t,["thought"],i);const a=Xe(e,["inlineData"]);null!=a&&Qe(t,["inlineData"],function(e){const t={},n=Xe(e,["displayName"]);null!=n&&Qe(t,["displayName"],n);const i=Xe(e,["data"]);null!=i&&Qe(t,["data"],i);const a=Xe(e,["mimeType"]);return null!=a&&Qe(t,["mimeType"],a),t}(a));const r=Xe(e,["fileData"]);null!=r&&Qe(t,["fileData"],function(e){const t={},n=Xe(e,["displayName"]);null!=n&&Qe(t,["displayName"],n);const i=Xe(e,["fileUri"]);null!=i&&Qe(t,["fileUri"],i);const a=Xe(e,["mimeType"]);return null!=a&&Qe(t,["mimeType"],a),t}(r));const o=Xe(e,["thoughtSignature"]);null!=o&&Qe(t,["thoughtSignature"],o);const s=Xe(e,["codeExecutionResult"]);null!=s&&Qe(t,["codeExecutionResult"],s);const l=Xe(e,["executableCode"]);null!=l&&Qe(t,["executableCode"],l);const u=Xe(e,["functionCall"]);null!=u&&Qe(t,["functionCall"],u);const c=Xe(e,["functionResponse"]);null!=c&&Qe(t,["functionResponse"],c);const d=Xe(e,["text"]);return null!=d&&Qe(t,["text"],d),t}function Pr(e){const t={},n=Xe(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["retrievedUrl"]);null!=n&&Qe(t,["retrievedUrl"],n);const i=Xe(e,["urlRetrievalStatus"]);return null!=i&&Qe(t,["urlRetrievalStatus"],i),t}(e))),Qe(t,["urlMetadata"],e)}return t}function Mr(e){const t={},n=Xe(e,["content"]);null!=n&&Qe(t,["content"],function(e){const t={},n=Xe(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Ir(e))),Qe(t,["parts"],e)}const i=Xe(e,["role"]);return null!=i&&Qe(t,["role"],i),t}(n));const i=Xe(e,["citationMetadata"]);null!=i&&Qe(t,["citationMetadata"],function(e){const t={},n=Xe(e,["citations"]);return null!=n&&Qe(t,["citations"],n),t}(i));const a=Xe(e,["finishMessage"]);null!=a&&Qe(t,["finishMessage"],a);const r=Xe(e,["finishReason"]);null!=r&&Qe(t,["finishReason"],r);const o=Xe(e,["urlContextMetadata"]);null!=o&&Qe(t,["urlContextMetadata"],Pr(o));const s=Xe(e,["avgLogprobs"]);null!=s&&Qe(t,["avgLogprobs"],s);const l=Xe(e,["groundingMetadata"]);null!=l&&Qe(t,["groundingMetadata"],l);const u=Xe(e,["index"]);null!=u&&Qe(t,["index"],u);const c=Xe(e,["logprobsResult"]);null!=c&&Qe(t,["logprobsResult"],c);const d=Xe(e,["safetyRatings"]);return null!=d&&Qe(t,["safetyRatings"],d),t}function Rr(e){const t={},n=Xe(e,["candidates"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Mr(e))),Qe(t,["candidates"],e)}const i=Xe(e,["createTime"]);null!=i&&Qe(t,["createTime"],i);const a=Xe(e,["responseId"]);null!=a&&Qe(t,["responseId"],a);const r=Xe(e,["modelVersion"]);null!=r&&Qe(t,["modelVersion"],r);const o=Xe(e,["promptFeedback"]);null!=o&&Qe(t,["promptFeedback"],o);const s=Xe(e,["usageMetadata"]);return null!=s&&Qe(t,["usageMetadata"],s),t}function Dr(e){const t={},n=Xe(e,["values"]);null!=n&&Qe(t,["values"],n);const i=Xe(e,["statistics"]);return null!=i&&Qe(t,["statistics"],function(e){const t={},n=Xe(e,["truncated"]);null!=n&&Qe(t,["truncated"],n);const i=Xe(e,["token_count"]);return null!=i&&Qe(t,["tokenCount"],i),t}(i)),t}function Lr(e){const t={},n=Xe(e,["predictions[]","embeddings"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Dr(e))),Qe(t,["embeddings"],e)}const i=Xe(e,["metadata"]);return null!=i&&Qe(t,["metadata"],function(e){const t={},n=Xe(e,["billableCharacterCount"]);return null!=n&&Qe(t,["billableCharacterCount"],n),t}(i)),t}function qr(e){const t={},n=Xe(e,["safetyAttributes","categories"]);null!=n&&Qe(t,["categories"],n);const i=Xe(e,["safetyAttributes","scores"]);null!=i&&Qe(t,["scores"],i);const a=Xe(e,["contentType"]);return null!=a&&Qe(t,["contentType"],a),t}function Fr(e){const t={},n=Xe(e,["_self"]);null!=n&&Qe(t,["image"],function(e){const t={},n=Xe(e,["gcsUri"]);null!=n&&Qe(t,["gcsUri"],n);const i=Xe(e,["bytesBase64Encoded"]);null!=i&&Qe(t,["imageBytes"],Nn(i));const a=Xe(e,["mimeType"]);return null!=a&&Qe(t,["mimeType"],a),t}(n));const i=Xe(e,["raiFilteredReason"]);null!=i&&Qe(t,["raiFilteredReason"],i);const a=Xe(e,["_self"]);null!=a&&Qe(t,["safetyAttributes"],qr(a));const r=Xe(e,["prompt"]);return null!=r&&Qe(t,["enhancedPrompt"],r),t}function Ur(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["displayName"]);null!=i&&Qe(t,["displayName"],i);const a=Xe(e,["description"]);null!=a&&Qe(t,["description"],a);const r=Xe(e,["versionId"]);null!=r&&Qe(t,["version"],r);const o=Xe(e,["deployedModels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["endpoint"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["deployedModelId"]);return null!=i&&Qe(t,["deployedModelId"],i),t}(e))),Qe(t,["endpoints"],e)}const s=Xe(e,["labels"]);null!=s&&Qe(t,["labels"],s);const l=Xe(e,["_self"]);null!=l&&Qe(t,["tunedModelInfo"],function(e){const t={},n=Xe(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&Qe(t,["baseModel"],n);const i=Xe(e,["createTime"]);null!=i&&Qe(t,["createTime"],i);const a=Xe(e,["updateTime"]);return null!=a&&Qe(t,["updateTime"],a),t}(l));const u=Xe(e,["defaultCheckpointId"]);null!=u&&Qe(t,["defaultCheckpointId"],u);const c=Xe(e,["checkpoints"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["checkpointId"]);null!=n&&Qe(t,["checkpointId"],n);const i=Xe(e,["epoch"]);null!=i&&Qe(t,["epoch"],i);const a=Xe(e,["step"]);return null!=a&&Qe(t,["step"],a),t}(e))),Qe(t,["checkpoints"],e)}return t}function Hr(e){const t={},n=Xe(e,["_self"]);return null!=n&&Qe(t,["video"],function(e){const t={},n=Xe(e,["gcsUri"]);null!=n&&Qe(t,["uri"],n);const i=Xe(e,["bytesBase64Encoded"]);null!=i&&Qe(t,["videoBytes"],Nn(i));const a=Xe(e,["mimeType"]);return null!=a&&Qe(t,["mimeType"],a),t}(n)),t}function Vr(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["metadata"]);null!=i&&Qe(t,["metadata"],i);const a=Xe(e,["done"]);null!=a&&Qe(t,["done"],a);const r=Xe(e,["error"]);null!=r&&Qe(t,["error"],r);const o=Xe(e,["response"]);return null!=o&&Qe(t,["response"],function(e){const t={},n=Xe(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Hr(e))),Qe(t,["generatedVideos"],e)}const i=Xe(e,["raiMediaFilteredCount"]);null!=i&&Qe(t,["raiMediaFilteredCount"],i);const a=Xe(e,["raiMediaFilteredReasons"]);return null!=a&&Qe(t,["raiMediaFilteredReasons"],a),t}(o)),t}const zr="x-goog-api-client",Br="google-genai-sdk/".concat("1.7.0"),Gr=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Kr{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?"https://".concat(this.clientOptions.location,"-aiplatform.googleapis.com/"):"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return"projects/".concat(this.clientOptions.project,"/locations/").concat(this.clientOptions.location)}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const i=[this.getRequestUrlInternal(t)];n&&i.push(this.getBaseResourcePath()),""!==e&&i.push(e);return new URL("".concat(i.join("/")))}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[r,o]of Object.entries(e.queryParams))i.searchParams.append(r,String(o));let a={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,t,e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(t))"object"===typeof a?n[i]=Object.assign(Object.assign({},n[i]),a):void 0!==a&&(n[i]=a);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,n);i.searchParams.has("alt")&&"sse"===i.searchParams.get("alt")||i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,t,e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n){if(t&&t.timeout||n){const i=new AbortController,a=i.signal;t.timeout&&(null===t||void 0===t?void 0:t.timeout)>0&&setTimeout(()=>i.abort(),t.timeout),n&&n.addEventListener("abort",()=>{i.abort()}),e.signal=a}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return void console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let n={};if("string"===typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!==typeof t||null===t||Array.isArray(t))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");n=t}catch(r){return void console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.")}function i(e,t){const n=Object.assign({},e);for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const e=t[a],r=n[a];e&&"object"===typeof e&&!Array.isArray(e)&&r&&"object"===typeof r&&!Array.isArray(r)?n[a]=i(r,e):(r&&e&&typeof r!==typeof e&&console.warn('includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "'.concat(a,'". Original type: ').concat(typeof r,", New type: ").concat(typeof e,". Overwriting.")),n[a]=e)}return n}const a=i(n,t);e.body=JSON.stringify(a)}(e,t.extraBody),e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Jr(e),new Ut(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Jr(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){var t;return qi(this,arguments,function*(){const n=null===(t=null===e||void 0===e?void 0:e.body)||void 0===t?void 0:t.getReader(),i=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";for(;;){const{done:r,value:o}=yield Li(n.read());if(r){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const s=i.decode(o);try{const e=JSON.parse(s);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,i=t.code,a="got status: ".concat(n,". ").concat(JSON.stringify(e));if(i>=400&&i<600){throw new Gi({message:a,status:i})}}}catch(a){if("ApiError"===a.name)throw a}t+=s;let l=t.match(Gr);for(;l;){const n=l[1];try{const i=new Response(n,{headers:null===e||void 0===e?void 0:e.headers,status:null===e||void 0===e?void 0:e.status,statusText:null===e||void 0===e?void 0:e.statusText});yield yield Li(new Ut(i)),t=t.slice(l[0].length),l=t.match(Gr)}catch(a){throw new Error("exception parsing stream chunk ".concat(n,". ").concat(a))}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error("exception ".concat(e," sending request"))})}getDefaultHeaders(){const e={},t=Br+" "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[zr]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[n,i]of Object.entries(e.headers))t.append(n,i);e.timeout&&e.timeout>0&&t.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var n;const i={};null!=t&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name="files/".concat(i.name));const a=this.clientOptions.uploader,r=await a.stat(e);i.sizeBytes=String(r.size);const o=null!==(n=null===t||void 0===t?void 0:t.mimeType)&&void 0!==n?n:r.type;if(void 0===o||""===o)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const s=await this.fetchUploadUrl(i,t);return a.upload(e,s,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t){var n;let i={};i=(null===t||void 0===t?void 0:t.httpOptions)?t.httpOptions:{apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(e.sizeBytes),"X-Goog-Upload-Header-Content-Type":"".concat(e.mimeType)}};const a={file:e},r=await this.request({path:$e("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:i});if(!r||!(null===r||void 0===r?void 0:r.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=null===(n=null===r||void 0===r?void 0:r.headers)||void 0===n?void 0:n["x-goog-upload-url"];if(void 0===o)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function Jr(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let i;i=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(i);if(n>=400&&n<600){throw new Gi({message:a,status:n})}throw new Error(a)}}function Wr(e){for(const t of e){if(Zr(t))return!0;if("object"===typeof t&&"inputSchema"in t)return!0}return!1}function Yr(e){var t;const n=null!==(t=e[zr])&&void 0!==t?t:"";e[zr]=(n+" ".concat("mcp_used/unknown")).trimStart()}function Zr(e){return null!==e&&"object"===typeof e&&e instanceof Qr}function $r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return qi(this,arguments,function*(){let n,i=0;for(;i<t;){const t=yield Li(e.listTools({cursor:n}));for(const e of t.tools)yield yield Li(e),i++;if(!t.nextCursor)break;n=t.nextCursor}})}class Qr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Qr(e,t)}async initialize(){var e,t,n,i;if(this.mcpTools.length>0)return;const a={},r=[];for(const c of this.mcpClients)try{for(var o,s=!0,l=(t=void 0,Fi($r(c)));!(e=(o=await l.next()).done);s=!0){i=o.value,s=!1;const e=i;r.push(e);const t=e.name;if(a[t])throw new Error("Duplicate function name ".concat(t," found in MCP tools. Please ensure function names are unique."));a[t]=c}}catch(u){t={error:u}}finally{try{s||e||!(n=l.return)||await n.call(l)}finally{if(t)throw t.error}}this.mcpTools=r,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],i=new Set;for(const a of e){const e=a.name;if(i.has(e))throw new Error("Duplicate function name ".concat(e," found in MCP tools. Please ensure function names are unique."));i.add(e);const r=Mn(a,t);r.functionDeclarations&&n.push(...r.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const a=await e.callTool({name:n.name,arguments:n.args},void 0,i);t.push({functionResponse:{name:n.name,response:a.isError?{error:a}:a}})}return t}}class Xr{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),r=function(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),s="".concat(i,"/ws/google.ai.generativelanguage.").concat(a,".GenerativeService.BidiGenerateMusic?key=").concat(o);let l=()=>{};const u=new Promise(e=>{l=e}),c=e.callbacks,d=(this.apiClient,{onopen:function(){l({})},onmessage:e=>{!async function(e,t,n){const i=new rn;let a;a=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data);const r=La(a);Object.assign(i,r),t(i)}(0,c.onmessage,e)},onerror:null!==(t=null===c||void 0===c?void 0:c.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===c||void 0===c?void 0:c.onclose)&&void 0!==n?n:function(e){}}),p=this.webSocketFactory.create(s,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(r),d);p.connect(),await u;const m=xa({setup:va({model:on(this.apiClient,e.model)})});return p.send(JSON.stringify(m)),new eo(p,this.apiClient)}}class eo{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=ba(function(e){const t={},n=Xe(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ga(e))),Qe(t,["weightedPrompts"],e)}return t}(e));this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=xa(function(e){const t={},n=Xe(e,["musicGenerationConfig"]);return null!=n&&Qe(t,["musicGenerationConfig"],ya(n)),t}(e));this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t=xa({playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Ft.PLAY)}pause(){this.sendPlaybackControl(Ft.PAUSE)}stop(){this.sendPlaybackControl(Ft.STOP)}resetContext(){this.sendPlaybackControl(Ft.RESET_CONTEXT)}close(){this.conn.close()}}class to{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new Xr(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,i,a,r,o;const s=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion();let u;const c=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Wr(e.config.tools)&&Yr(c);const d=function(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}(c);if(this.apiClient.isVertexAI())u="".concat(s,"/ws/google.cloud.aiplatform.").concat(l,".LlmBidiService/BidiGenerateContent"),await this.auth.addAuthHeaders(d);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null===e||void 0===e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),t="BidiGenerateContentConstrained",n="access_token"),u="".concat(s,"/ws/google.ai.generativelanguage.").concat(l,".GenerativeService.").concat(t,"?").concat(n,"=").concat(e)}let p=()=>{};const m=new Promise(e=>{p=e}),f=e.callbacks,h=this.apiClient,g={onopen:function(){var e;null===(e=null===f||void 0===f?void 0:f.onopen)||void 0===e||e.call(f),p({})},onmessage:e=>{!async function(e,t,n){const i=new an;let a;a=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const r=JSON.parse(a);if(e.isVertexAI()){const e=Pa(r);Object.assign(i,e)}else{const e=Ia(r);Object.assign(i,e)}t(i)}(h,f.onmessage,e)},onerror:null!==(t=null===f||void 0===f?void 0:f.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===f||void 0===f?void 0:f.onclose)&&void 0!==n?n:function(e){}},y=this.webSocketFactory.create(u,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),g);y.connect(),await m;let v=on(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&v.startsWith("publishers/")){const e=this.apiClient.getProject(),t=this.apiClient.getLocation();v="projects/".concat(e,"/locations/").concat(t,"/")+v}let b={};this.apiClient.isVertexAI()&&void 0===(null===(i=e.config)||void 0===i?void 0:i.responseModalities)&&(void 0===e.config?e.config={responseModalities:[mt.AUDIO]}:e.config.responseModalities=[mt.AUDIO]),(null===(a=e.config)||void 0===a?void 0:a.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const x=null!==(o=null===(r=e.config)||void 0===r?void 0:r.tools)&&void 0!==o?o:[],k=[];for(const w of x)if(this.isCallableTool(w)){const e=w;k.push(await e.tool())}else k.push(w);k.length>0&&(e.config.tools=k);const _={model:v,config:e.config,callbacks:e.callbacks};return b=this.apiClient.isVertexAI()?function(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["setup","model"],on(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],ma(a,n)),n}(this.apiClient,_):function(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["setup","model"],on(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],pa(a,n)),n}(this.apiClient,_),delete b.config,y.send(JSON.stringify(b)),new io(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"===typeof e.callTool}}const no={turnComplete:!0};class io{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let i=[];try{i=yn(t.turns),i=e.isVertexAI()?i.map(e=>nr(e)):i.map(e=>Fa(e))}catch(n){throw new Error('Failed to parse client content "turns", type: \''.concat(typeof t.turns,"'"))}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const i of n){if("object"!==typeof i||null===i||!("name"in i)||!("response"in i))throw new Error("Could not parse function response, type '".concat(typeof i,"'."));if(!e.isVertexAI()&&!("id"in i))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},no),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:ha(e)}:{realtimeInput:fa(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function ao(e){var t,n,i;if(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let a=!1;for(const o of null!==(n=null===e||void 0===e?void 0:e.tools)&&void 0!==n?n:[])if(ro(o)){a=!0;break}if(!a)return!0;const r=null===(i=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===i?void 0:i.maximumRemoteCalls;return!!(r&&(r<0||!Number.isInteger(r))||0==r)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0)}function ro(e){return"callTool"in e&&"function"===typeof e.callTool}function oo(e){var t;return!(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}class so extends Ze{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,i,a,r;const o=await this.processParamsForMcpUsage(e);if(!function(e){var t,n,i;return null!==(i=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>Zr(e)))&&void 0!==i&&i}(e)||ao(e.config))return await this.generateContentInternal(o);if(function(e){var t,n,i;return null!==(i=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>!Zr(e)))&&void 0!==i&&i}(e))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let s,l;const u=yn(o.contents),c=null!==(i=null===(n=null===(t=o.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==i?i:10;let d=0;for(;d<c&&(s=await this.generateContentInternal(o),s.functionCalls&&0!==s.functionCalls.length);){const t=s.candidates[0].content,n=[];for(const i of null!==(r=null===(a=e.config)||void 0===a?void 0:a.tools)&&void 0!==r?r:[])if(ro(i)){const e=i,t=await e.callTool(s.functionCalls);n.push(...t)}d++,l={role:"user",parts:n},o.contents=yn(o.contents),o.contents.push(t),o.contents.push(l),oo(o.config)&&(u.push(t),u.push(l))}return oo(o.config)&&(s.automaticFunctionCallingHistory=u),s},this.generateContentStream=async e=>{if(ao(e.config)){const t=await this.processParamsForMcpUsage(e);return await this.generateContentStreamInternal(t)}return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const i=[];if(null===e||void 0===e?void 0:e.generatedImages)for(const r of e.generatedImages)r&&(null===r||void 0===r?void 0:r.safetyAttributes)&&"Positive Prompt"===(null===(t=null===r||void 0===r?void 0:r.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null===r||void 0===r?void 0:r.safetyAttributes:i.push(r);let a;return a=n?{generatedImages:i,positivePromptSafetyAttributes:n}:{generatedImages:i},a}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null===e||void 0===e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new ci(ui.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)}}async processParamsForMcpUsage(e){var t,n,i;const a=null===(t=e.config)||void 0===t?void 0:t.tools;if(!a)return e;const r=await Promise.all(a.map(async e=>{if(ro(e)){const t=e;return await t.tool()}return e})),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:r})};if(o.config.tools=r,e.config&&e.config.tools&&Wr(e.config.tools)){const t=null!==(i=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==i?i:{};let a=Object.assign({},t);0===Object.keys(a).length&&(a=this.apiClient.getDefaultHeaders()),Yr(a),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:a})}return o}async initAfcToolsMap(e){var t,n,i;const a=new Map;for(const r of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(ro(r)){const e=r,t=await e.tool();for(const n of null!==(i=t.functionDeclarations)&&void 0!==i?i:[]){if(!n.name)throw new Error("Function declaration name is required.");if(a.has(n.name))throw new Error("Duplicate tool declaration name: ".concat(n.name));a.set(n.name,e)}}return a}async processAfcStream(e){var t,n,i;const a=null!==(i=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==i?i:10;let r=!1,o=0;return function(e,t,n){var i,s;return qi(this,arguments,function*(){for(var l,u,c,d;o<a;){r&&(o++,r=!1);const g=yield Li(e.processParamsForMcpUsage(n)),y=yield Li(e.generateContentStreamInternal(g)),v=[],b=[];try{for(var p,m=!0,f=(u=void 0,Fi(y));!(l=(p=yield Li(f.next())).done);m=!0){d=p.value,m=!1;const e=d;if(yield yield Li(e),e.candidates&&(null===(i=e.candidates[0])||void 0===i?void 0:i.content)){b.push(e.candidates[0].content);for(const n of null!==(s=e.candidates[0].content.parts)&&void 0!==s?s:[])if(o<a&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error("Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ".concat(t.keys(),", mising tool: ").concat(n.functionCall.name));{const e=yield Li(t.get(n.functionCall.name).callTool([n.functionCall]));v.push(...e)}}}}}catch(h){u={error:h}}finally{try{m||l||!(c=f.return)||(yield Li(c.call(f)))}finally{if(u)throw u.error}}if(!(v.length>0))break;{r=!0;const e=new Ht;e.candidates=[{content:{role:"user",parts:v}}],yield yield Li(e);const t=[];t.push(...b),t.push({role:"user",parts:v});const i=yn(n.contents).concat(t);n.contents=i}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=dr(this.apiClient,e);return o=$e("{model}:generateContent",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=Rr(e),n=new Ht;return Object.assign(n,t),n})}{const t=Wa(this.apiClient,e);return o=$e("{model}:generateContent",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>{const t=Sr(e),n=new Ht;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=dr(this.apiClient,e);o=$e("{model}:streamGenerateContent?alt=sse",i._url),s=i._query,delete i.config,delete i._url,delete i._query;return r=this.apiClient.requestStream({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),r.then(function(e){return qi(this,arguments,function*(){var t,n,i,a;try{for(var r,o=!0,s=Fi(e);!(t=(r=yield Li(s.next())).done);o=!0){a=r.value,o=!1;const e=a,t=Rr(yield Li(e.json())),n=new Ht;Object.assign(n,t),yield yield Li(n)}}catch(l){n={error:l}}finally{try{o||t||!(i=s.return)||(yield Li(i.call(s)))}finally{if(n)throw n.error}}})})}{const t=Wa(this.apiClient,e);o=$e("{model}:streamGenerateContent?alt=sse",t._url),s=t._query,delete t.config,delete t._url,delete t._query;return r=this.apiClient.requestStream({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}),r.then(function(e){return qi(this,arguments,function*(){var t,n,i,a;try{for(var r,o=!0,s=Fi(e);!(t=(r=yield Li(s.next())).done);o=!0){a=r.value,o=!1;const e=a,t=Sr(yield Li(e.json())),n=new Ht;Object.assign(n,t),yield yield Li(n)}}catch(l){n={error:l}}finally{try{o||t||!(i=s.return)||(yield Li(i.call(s)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=pr(this.apiClient,e);return o=$e("{model}:predict",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=Lr(e),n=new Vt;return Object.assign(n,t),n})}{const t=Ya(this.apiClient,e);return o=$e("{model}:batchEmbedContents",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>{const t=Tr(e),n=new Vt;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=mr(this.apiClient,e);return o=$e("{model}:predict",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Xe(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Fr(e))),Qe(t,["generatedImages"],e)}const i=Xe(e,["positivePromptSafetyAttributes"]);return null!=i&&Qe(t,["positivePromptSafetyAttributes"],qr(i)),t}(e),n=new zt;return Object.assign(n,t),n})}{const t=Za(this.apiClient,e);return o=$e("{model}:predict",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Xe(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Er(e))),Qe(t,["generatedImages"],e)}const i=Xe(e,["positivePromptSafetyAttributes"]);return null!=i&&Qe(t,["positivePromptSafetyAttributes"],Ar(i)),t}(e),n=new zt;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let i,a="",r={};if(this.apiClient.isVertexAI()){const o=gr(this.apiClient,e);return a=$e("{model}:predict",o._url),r=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=Xe(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Fr(e))),Qe(t,["generatedImages"],e)}return t}(e),n=new Bt;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let i,a="",r={};if(this.apiClient.isVertexAI()){const o=yr(this.apiClient,e);return a=$e("{model}:predict",o._url),r=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=Xe(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Fr(e))),Qe(t,["generatedImages"],e)}return t}(e),n=new Gt;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=function(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","name"],on(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],a),n}(this.apiClient,e);return o=$e("{name}",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>Ur(e))}{const t=function(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","name"],on(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],a),n}(this.apiClient,e);return o=$e("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>Nr(e))}}async listInternal(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=vr(this.apiClient,e);return o=$e("{models_url}",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e,t){const n={},i=Xe(t,["nextPageToken"]);null!=i&&Qe(n,["nextPageToken"],i);const a=Xe(t,["_self"]);if(null!=a){let e=In(a);Array.isArray(e)&&(e=e.map(e=>Ur(e))),Qe(n,["models"],e)}return n}(this.apiClient,e),n=new Kt;return Object.assign(n,t),n})}{const t=$a(this.apiClient,e);return o=$e("{models_url}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e,t){const n={},i=Xe(t,["nextPageToken"]);null!=i&&Qe(n,["nextPageToken"],i);const a=Xe(t,["_self"]);if(null!=a){let e=In(a);Array.isArray(e)&&(e=e.map(e=>Nr(e))),Qe(n,["models"],e)}return n}(this.apiClient,e),n=new Kt;return Object.assign(n,t),n})}}async update(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=br(this.apiClient,e);return o=$e("{model}",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>Ur(e))}{const t=Qa(this.apiClient,e);return o=$e("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>Nr(e))}}async delete(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=function(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","name"],on(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],a),n}(this.apiClient,e);return o=$e("{name}",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(()=>{const e={},t=new Jt;return Object.assign(t,e),t})}{const t=function(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","name"],on(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],a),n}(this.apiClient,e);return o=$e("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(()=>{const e={},t=new Jt;return Object.assign(t,e),t})}}async countTokens(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=xr(this.apiClient,e);return o=$e("{model}:countTokens",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Xe(e,["totalTokens"]);return null!=n&&Qe(t,["totalTokens"],n),t}(e),n=new Wt;return Object.assign(n,t),n})}{const t=Xa(this.apiClient,e);return o=$e("{model}:countTokens",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Xe(e,["totalTokens"]);null!=n&&Qe(t,["totalTokens"],n);const i=Xe(e,["cachedContentTokenCount"]);return null!=i&&Qe(t,["cachedContentTokenCount"],i),t}(e),n=new Wt;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let i,a="",r={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["_url","model"],on(e,i));const a=Xe(t,["contents"]);if(null!=a){let e=yn(a);Array.isArray(e)&&(e=e.map(e=>nr(e))),Qe(n,["contents"],e)}const r=Xe(t,["config"]);return null!=r&&Qe(n,["config"],r),n}(this.apiClient,e);return a=$e("{model}:computeTokens",o._url),r=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=Xe(e,["tokensInfo"]);return null!=n&&Qe(t,["tokensInfo"],n),t}(e),n=new Yt;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=kr(this.apiClient,e);return o=$e("{model}:predictLongRunning",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>Vr(e))}{const t=er(this.apiClient,e);return o=$e("{model}:predictLongRunning",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>Or(e))}}}function lo(e){const t={},n=Xe(e,["_self"]);return null!=n&&Qe(t,["video"],function(e){const t={},n=Xe(e,["video","uri"]);null!=n&&Qe(t,["uri"],n);const i=Xe(e,["video","encodedVideo"]);null!=i&&Qe(t,["videoBytes"],Nn(i));const a=Xe(e,["encoding"]);return null!=a&&Qe(t,["mimeType"],a),t}(n)),t}function uo(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["metadata"]);null!=i&&Qe(t,["metadata"],i);const a=Xe(e,["done"]);null!=a&&Qe(t,["done"],a);const r=Xe(e,["error"]);null!=r&&Qe(t,["error"],r);const o=Xe(e,["response","generateVideoResponse"]);return null!=o&&Qe(t,["response"],function(e){const t={},n=Xe(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>lo(e))),Qe(t,["generatedVideos"],e)}const i=Xe(e,["raiMediaFilteredCount"]);null!=i&&Qe(t,["raiMediaFilteredCount"],i);const a=Xe(e,["raiMediaFilteredReasons"]);return null!=a&&Qe(t,["raiMediaFilteredReasons"],a),t}(o)),t}function co(e){const t={},n=Xe(e,["_self"]);return null!=n&&Qe(t,["video"],function(e){const t={},n=Xe(e,["gcsUri"]);null!=n&&Qe(t,["uri"],n);const i=Xe(e,["bytesBase64Encoded"]);null!=i&&Qe(t,["videoBytes"],Nn(i));const a=Xe(e,["mimeType"]);return null!=a&&Qe(t,["mimeType"],a),t}(n)),t}function po(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["metadata"]);null!=i&&Qe(t,["metadata"],i);const a=Xe(e,["done"]);null!=a&&Qe(t,["done"],a);const r=Xe(e,["error"]);null!=r&&Qe(t,["error"],r);const o=Xe(e,["response"]);return null!=o&&Qe(t,["response"],function(e){const t={},n=Xe(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>co(e))),Qe(t,["generatedVideos"],e)}const i=Xe(e,["raiMediaFilteredCount"]);null!=i&&Qe(t,["raiMediaFilteredCount"],i);const a=Xe(e,["raiMediaFilteredReasons"]);return null!=a&&Qe(t,["raiMediaFilteredReasons"],a),t}(o)),t}class mo extends Ze{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let i;return n&&"httpOptions"in n&&(i=n.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:i}})}return this.getVideosOperationInternal({operationName:t.name,config:n})}async getVideosOperationInternal(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=function(e){const t={},n=Xe(e,["operationName"]);null!=n&&Qe(t,["_url","operationName"],n);const i=Xe(e,["config"]);return null!=i&&Qe(t,["config"],i),t}(e);return o=$e("{operationName}",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>po(e))}{const t=function(e){const t={},n=Xe(e,["operationName"]);null!=n&&Qe(t,["_url","operationName"],n);const i=Xe(e,["config"]);return null!=i&&Qe(t,["config"],i),t}(e);return o=$e("{operationName}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>uo(e))}}async fetchPredictVideosOperationInternal(e){var t,n;let i,a="",r={};if(this.apiClient.isVertexAI()){const o=function(e){const t={},n=Xe(e,["operationName"]);null!=n&&Qe(t,["operationName"],n);const i=Xe(e,["resourceName"]);null!=i&&Qe(t,["_url","resourceName"],i);const a=Xe(e,["config"]);return null!=a&&Qe(t,["config"],a),t}(e);return a=$e("{resourceName}:fetchPredictOperation",o._url),r=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>po(e))}throw new Error("This method is only supported by the Vertex AI.")}}function fo(e){const t={},n=Xe(e,["prebuiltVoiceConfig"]);return null!=n&&Qe(t,["prebuiltVoiceConfig"],function(e){const t={},n=Xe(e,["voiceName"]);return null!=n&&Qe(t,["voiceName"],n),t}(n)),t}function ho(e){const t={},n=Xe(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["speaker"]);null!=n&&Qe(t,["speaker"],n);const i=Xe(e,["voiceConfig"]);return null!=i&&Qe(t,["voiceConfig"],fo(i)),t}(e))),Qe(t,["speakerVoiceConfigs"],e)}return t}function go(e){const t={},n=Xe(e,["videoMetadata"]);null!=n&&Qe(t,["videoMetadata"],function(e){const t={},n=Xe(e,["fps"]);null!=n&&Qe(t,["fps"],n);const i=Xe(e,["endOffset"]);null!=i&&Qe(t,["endOffset"],i);const a=Xe(e,["startOffset"]);return null!=a&&Qe(t,["startOffset"],a),t}(n));const i=Xe(e,["thought"]);null!=i&&Qe(t,["thought"],i);const a=Xe(e,["inlineData"]);null!=a&&Qe(t,["inlineData"],function(e){const t={};if(void 0!==Xe(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xe(e,["data"]);null!=n&&Qe(t,["data"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(a));const r=Xe(e,["fileData"]);null!=r&&Qe(t,["fileData"],function(e){const t={};if(void 0!==Xe(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xe(e,["fileUri"]);null!=n&&Qe(t,["fileUri"],n);const i=Xe(e,["mimeType"]);return null!=i&&Qe(t,["mimeType"],i),t}(r));const o=Xe(e,["thoughtSignature"]);null!=o&&Qe(t,["thoughtSignature"],o);const s=Xe(e,["codeExecutionResult"]);null!=s&&Qe(t,["codeExecutionResult"],s);const l=Xe(e,["executableCode"]);null!=l&&Qe(t,["executableCode"],l);const u=Xe(e,["functionCall"]);null!=u&&Qe(t,["functionCall"],u);const c=Xe(e,["functionResponse"]);null!=c&&Qe(t,["functionResponse"],c);const d=Xe(e,["text"]);return null!=d&&Qe(t,["text"],d),t}function yo(e){const t={},n=Xe(e,["timeRangeFilter"]);return null!=n&&Qe(t,["timeRangeFilter"],function(e){const t={},n=Xe(e,["startTime"]);null!=n&&Qe(t,["startTime"],n);const i=Xe(e,["endTime"]);return null!=i&&Qe(t,["endTime"],i),t}(n)),t}function vo(e){const t={},n=Xe(e,["dynamicRetrievalConfig"]);return null!=n&&Qe(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xe(e,["mode"]);null!=n&&Qe(t,["mode"],n);const i=Xe(e,["dynamicThreshold"]);return null!=i&&Qe(t,["dynamicThreshold"],i),t}(n)),t}function bo(e){const t={},n=Xe(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["behavior"]);null!=n&&Qe(t,["behavior"],n);const i=Xe(e,["description"]);null!=i&&Qe(t,["description"],i);const a=Xe(e,["name"]);null!=a&&Qe(t,["name"],a);const r=Xe(e,["parameters"]);null!=r&&Qe(t,["parameters"],r);const o=Xe(e,["parametersJsonSchema"]);null!=o&&Qe(t,["parametersJsonSchema"],o);const s=Xe(e,["response"]);null!=s&&Qe(t,["response"],s);const l=Xe(e,["responseJsonSchema"]);return null!=l&&Qe(t,["responseJsonSchema"],l),t}(e))),Qe(t,["functionDeclarations"],e)}if(void 0!==Xe(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const i=Xe(e,["googleSearch"]);null!=i&&Qe(t,["googleSearch"],yo(i));const a=Xe(e,["googleSearchRetrieval"]);if(null!=a&&Qe(t,["googleSearchRetrieval"],vo(a)),void 0!==Xe(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==Xe(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=Xe(e,["urlContext"])&&Qe(t,["urlContext"],{});const r=Xe(e,["codeExecution"]);return null!=r&&Qe(t,["codeExecution"],r),t}function xo(e){const t={},n=Xe(e,["automaticActivityDetection"]);null!=n&&Qe(t,["automaticActivityDetection"],function(e){const t={},n=Xe(e,["disabled"]);null!=n&&Qe(t,["disabled"],n);const i=Xe(e,["startOfSpeechSensitivity"]);null!=i&&Qe(t,["startOfSpeechSensitivity"],i);const a=Xe(e,["endOfSpeechSensitivity"]);null!=a&&Qe(t,["endOfSpeechSensitivity"],a);const r=Xe(e,["prefixPaddingMs"]);null!=r&&Qe(t,["prefixPaddingMs"],r);const o=Xe(e,["silenceDurationMs"]);return null!=o&&Qe(t,["silenceDurationMs"],o),t}(n));const i=Xe(e,["activityHandling"]);null!=i&&Qe(t,["activityHandling"],i);const a=Xe(e,["turnCoverage"]);return null!=a&&Qe(t,["turnCoverage"],a),t}function ko(e){const t={},n=Xe(e,["triggerTokens"]);null!=n&&Qe(t,["triggerTokens"],n);const i=Xe(e,["slidingWindow"]);return null!=i&&Qe(t,["slidingWindow"],function(e){const t={},n=Xe(e,["targetTokens"]);return null!=n&&Qe(t,["targetTokens"],n),t}(i)),t}function _o(e,t){const n=Xe(e,["generationConfig"]);void 0!==t&&null!=n&&Qe(t,["setup","generationConfig"],n);const i=Xe(e,["responseModalities"]);void 0!==t&&null!=i&&Qe(t,["setup","generationConfig","responseModalities"],i);const a=Xe(e,["temperature"]);void 0!==t&&null!=a&&Qe(t,["setup","generationConfig","temperature"],a);const r=Xe(e,["topP"]);void 0!==t&&null!=r&&Qe(t,["setup","generationConfig","topP"],r);const o=Xe(e,["topK"]);void 0!==t&&null!=o&&Qe(t,["setup","generationConfig","topK"],o);const s=Xe(e,["maxOutputTokens"]);void 0!==t&&null!=s&&Qe(t,["setup","generationConfig","maxOutputTokens"],s);const l=Xe(e,["mediaResolution"]);void 0!==t&&null!=l&&Qe(t,["setup","generationConfig","mediaResolution"],l);const u=Xe(e,["seed"]);void 0!==t&&null!=u&&Qe(t,["setup","generationConfig","seed"],u);const c=Xe(e,["speechConfig"]);void 0!==t&&null!=c&&Qe(t,["setup","generationConfig","speechConfig"],function(e){const t={},n=Xe(e,["voiceConfig"]);null!=n&&Qe(t,["voiceConfig"],fo(n));const i=Xe(e,["multiSpeakerVoiceConfig"]);null!=i&&Qe(t,["multiSpeakerVoiceConfig"],ho(i));const a=Xe(e,["languageCode"]);return null!=a&&Qe(t,["languageCode"],a),t}(Cn(c)));const d=Xe(e,["enableAffectiveDialog"]);void 0!==t&&null!=d&&Qe(t,["setup","generationConfig","enableAffectiveDialog"],d);const p=Xe(e,["systemInstruction"]);void 0!==t&&null!=p&&Qe(t,["setup","systemInstruction"],function(e){const t={},n=Xe(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>go(e))),Qe(t,["parts"],e)}const i=Xe(e,["role"]);return null!=i&&Qe(t,["role"],i),t}(hn(p)));const m=Xe(e,["tools"]);if(void 0!==t&&null!=m){let e=Tn(m);Array.isArray(e)&&(e=e.map(e=>bo(Sn(e)))),Qe(t,["setup","tools"],e)}const f=Xe(e,["sessionResumption"]);void 0!==t&&null!=f&&Qe(t,["setup","sessionResumption"],function(e){const t={},n=Xe(e,["handle"]);if(null!=n&&Qe(t,["handle"],n),void 0!==Xe(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(f));const h=Xe(e,["inputAudioTranscription"]);void 0!==t&&null!=h&&Qe(t,["setup","inputAudioTranscription"],{});const g=Xe(e,["outputAudioTranscription"]);void 0!==t&&null!=g&&Qe(t,["setup","outputAudioTranscription"],{});const y=Xe(e,["realtimeInputConfig"]);void 0!==t&&null!=y&&Qe(t,["setup","realtimeInputConfig"],xo(y));const v=Xe(e,["contextWindowCompression"]);void 0!==t&&null!=v&&Qe(t,["setup","contextWindowCompression"],ko(v));const b=Xe(e,["proactivity"]);return void 0!==t&&null!=b&&Qe(t,["setup","proactivity"],function(e){const t={},n=Xe(e,["proactiveAudio"]);return null!=n&&Qe(t,["proactiveAudio"],n),t}(b)),{}}function wo(e,t,n){const i=Xe(t,["expireTime"]);void 0!==n&&null!=i&&Qe(n,["expireTime"],i);const a=Xe(t,["newSessionExpireTime"]);void 0!==n&&null!=a&&Qe(n,["newSessionExpireTime"],a);const r=Xe(t,["uses"]);void 0!==n&&null!=r&&Qe(n,["uses"],r);const o=Xe(t,["liveConnectConstraints"]);void 0!==n&&null!=o&&Qe(n,["bidiGenerateContentSetup"],function(e,t){const n={},i=Xe(t,["model"]);null!=i&&Qe(n,["setup","model"],on(e,i));const a=Xe(t,["config"]);return null!=a&&Qe(n,["config"],_o(a,n)),n}(e,o));const s=Xe(t,["lockAdditionalFields"]);return void 0!==n&&null!=s&&Qe(n,["fieldMask"],s),{}}function Co(e,t){let n=null;const i=e.bidiGenerateContentSetup;if("object"===typeof i&&null!==i&&"setup"in i){const t=i.setup;"object"===typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==i&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(n){const i=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];if("object"===typeof i&&null!=i&&Object.keys(i).length>0){const e=Object.keys(i).map(e=>"".concat(n,".").concat(e));t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null===t||void 0===t?void 0:t.lockAdditionalFields)&&0===(null===t||void 0===t?void 0:t.lockAdditionalFields.length))i?e.fieldMask=i:delete e.fieldMask;else if((null===t||void 0===t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==a&&Array.isArray(a)&&a.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];a.length>0&&(n=a.map(e=>t.includes(e)?"generationConfig.".concat(e):e));const r=[];i&&r.push(i),n.length>0&&r.push(...n),r.length>0?e.fieldMask=r.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==a&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class So extends Ze{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let i,a="",r={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=function(e,t){const n={},i=Xe(t,["config"]);return null!=i&&Qe(n,["config"],wo(e,i,n)),n}(this.apiClient,e);a=$e("auth_tokens",o._url),r=o._query,delete o.config,delete o._url,delete o._query;const s=Co(o,e.config);return i=this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>function(e){const t={},n=Xe(e,["name"]);return null!=n&&Qe(t,["name"],n),t}(e))}}}function To(e){const t={},n=Xe(e,["config"]);return null!=n&&Qe(t,["config"],function(e,t){const n=Xe(e,["pageSize"]);void 0!==t&&null!=n&&Qe(t,["_query","pageSize"],n);const i=Xe(e,["pageToken"]);void 0!==t&&null!=i&&Qe(t,["_query","pageToken"],i);const a=Xe(e,["filter"]);return void 0!==t&&null!=a&&Qe(t,["_query","filter"],a),{}}(n,t)),t}function Ao(e){const t={};if(void 0!==Xe(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=Xe(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["textInput"]);null!=n&&Qe(t,["textInput"],n);const i=Xe(e,["output"]);return null!=i&&Qe(t,["output"],i),t}(e))),Qe(t,["examples","examples"],e)}return t}function Eo(e){const t={},n=Xe(e,["baseModel"]);null!=n&&Qe(t,["baseModel"],n);const i=Xe(e,["trainingDataset"]);null!=i&&Qe(t,["tuningTask","trainingData"],Ao(i));const a=Xe(e,["config"]);return null!=a&&Qe(t,["config"],function(e,t){const n={};if(void 0!==Xe(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const i=Xe(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=i&&Qe(t,["displayName"],i),void 0!==Xe(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const a=Xe(e,["epochCount"]);void 0!==t&&null!=a&&Qe(t,["tuningTask","hyperparameters","epochCount"],a);const r=Xe(e,["learningRateMultiplier"]);if(null!=r&&Qe(n,["tuningTask","hyperparameters","learningRateMultiplier"],r),void 0!==Xe(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==Xe(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const o=Xe(e,["batchSize"]);void 0!==t&&null!=o&&Qe(t,["tuningTask","hyperparameters","batchSize"],o);const s=Xe(e,["learningRate"]);return void 0!==t&&null!=s&&Qe(t,["tuningTask","hyperparameters","learningRate"],s),n}(a,t)),t}function No(e){const t={},n=Xe(e,["config"]);return null!=n&&Qe(t,["config"],function(e,t){const n=Xe(e,["pageSize"]);void 0!==t&&null!=n&&Qe(t,["_query","pageSize"],n);const i=Xe(e,["pageToken"]);void 0!==t&&null!=i&&Qe(t,["_query","pageToken"],i);const a=Xe(e,["filter"]);return void 0!==t&&null!=a&&Qe(t,["_query","filter"],a),{}}(n,t)),t}function jo(e,t){const n=Xe(e,["validationDataset"]);void 0!==t&&null!=n&&Qe(t,["supervisedTuningSpec"],function(e){const t={},n=Xe(e,["gcsUri"]);return null!=n&&Qe(t,["validationDatasetUri"],n),t}(n));const i=Xe(e,["tunedModelDisplayName"]);void 0!==t&&null!=i&&Qe(t,["tunedModelDisplayName"],i);const a=Xe(e,["description"]);void 0!==t&&null!=a&&Qe(t,["description"],a);const r=Xe(e,["epochCount"]);void 0!==t&&null!=r&&Qe(t,["supervisedTuningSpec","hyperParameters","epochCount"],r);const o=Xe(e,["learningRateMultiplier"]);void 0!==t&&null!=o&&Qe(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],o);const s=Xe(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=s&&Qe(t,["supervisedTuningSpec","exportLastCheckpointOnly"],s);const l=Xe(e,["adapterSize"]);if(void 0!==t&&null!=l&&Qe(t,["supervisedTuningSpec","hyperParameters","adapterSize"],l),void 0!==Xe(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==Xe(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");return{}}function Oo(e){const t={},n=Xe(e,["baseModel"]);null!=n&&Qe(t,["baseModel"],n);const i=Xe(e,["trainingDataset"]);null!=i&&Qe(t,["supervisedTuningSpec","trainingDatasetUri"],function(e,t){const n=Xe(e,["gcsUri"]);if(void 0!==t&&null!=n&&Qe(t,["supervisedTuningSpec","trainingDatasetUri"],n),void 0!==Xe(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.");return{}}(i,t));const a=Xe(e,["config"]);return null!=a&&Qe(t,["config"],jo(a,t)),t}function Io(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["state"]);null!=i&&Qe(t,["state"],En(i));const a=Xe(e,["createTime"]);null!=a&&Qe(t,["createTime"],a);const r=Xe(e,["tuningTask","startTime"]);null!=r&&Qe(t,["startTime"],r);const o=Xe(e,["tuningTask","completeTime"]);null!=o&&Qe(t,["endTime"],o);const s=Xe(e,["updateTime"]);null!=s&&Qe(t,["updateTime"],s);const l=Xe(e,["description"]);null!=l&&Qe(t,["description"],l);const u=Xe(e,["baseModel"]);null!=u&&Qe(t,["baseModel"],u);const c=Xe(e,["_self"]);null!=c&&Qe(t,["tunedModel"],function(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["model"],n);const i=Xe(e,["name"]);return null!=i&&Qe(t,["endpoint"],i),t}(c));const d=Xe(e,["distillationSpec"]);null!=d&&Qe(t,["distillationSpec"],d);const p=Xe(e,["experiment"]);null!=p&&Qe(t,["experiment"],p);const m=Xe(e,["labels"]);null!=m&&Qe(t,["labels"],m);const f=Xe(e,["pipelineJob"]);null!=f&&Qe(t,["pipelineJob"],f);const h=Xe(e,["serviceAccount"]);null!=h&&Qe(t,["serviceAccount"],h);const g=Xe(e,["tunedModelDisplayName"]);return null!=g&&Qe(t,["tunedModelDisplayName"],g),t}function Po(e){const t={},n=Xe(e,["model"]);null!=n&&Qe(t,["model"],n);const i=Xe(e,["endpoint"]);null!=i&&Qe(t,["endpoint"],i);const a=Xe(e,["checkpoints"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Xe(e,["checkpointId"]);null!=n&&Qe(t,["checkpointId"],n);const i=Xe(e,["epoch"]);null!=i&&Qe(t,["epoch"],i);const a=Xe(e,["step"]);null!=a&&Qe(t,["step"],a);const r=Xe(e,["endpoint"]);return null!=r&&Qe(t,["endpoint"],r),t}(e))),Qe(t,["checkpoints"],e)}return t}function Mo(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["state"]);null!=i&&Qe(t,["state"],En(i));const a=Xe(e,["createTime"]);null!=a&&Qe(t,["createTime"],a);const r=Xe(e,["startTime"]);null!=r&&Qe(t,["startTime"],r);const o=Xe(e,["endTime"]);null!=o&&Qe(t,["endTime"],o);const s=Xe(e,["updateTime"]);null!=s&&Qe(t,["updateTime"],s);const l=Xe(e,["error"]);null!=l&&Qe(t,["error"],l);const u=Xe(e,["description"]);null!=u&&Qe(t,["description"],u);const c=Xe(e,["baseModel"]);null!=c&&Qe(t,["baseModel"],c);const d=Xe(e,["tunedModel"]);null!=d&&Qe(t,["tunedModel"],Po(d));const p=Xe(e,["supervisedTuningSpec"]);null!=p&&Qe(t,["supervisedTuningSpec"],p);const m=Xe(e,["tuningDataStats"]);null!=m&&Qe(t,["tuningDataStats"],m);const f=Xe(e,["encryptionSpec"]);null!=f&&Qe(t,["encryptionSpec"],f);const h=Xe(e,["partnerModelTuningSpec"]);null!=h&&Qe(t,["partnerModelTuningSpec"],h);const g=Xe(e,["distillationSpec"]);null!=g&&Qe(t,["distillationSpec"],g);const y=Xe(e,["experiment"]);null!=y&&Qe(t,["experiment"],y);const v=Xe(e,["labels"]);null!=v&&Qe(t,["labels"],v);const b=Xe(e,["pipelineJob"]);null!=b&&Qe(t,["pipelineJob"],b);const x=Xe(e,["serviceAccount"]);null!=x&&Qe(t,["serviceAccount"],x);const k=Xe(e,["tunedModelDisplayName"]);return null!=k&&Qe(t,["tunedModelDisplayName"],k),t}class Ro extends Ze{constructor(e){var t;super(),t=this,this.apiClient=e,this.get=async e=>await this.getInternal(e),this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ci(ui.PAGED_ITEM_TUNING_JOBS,e=>t.listInternal(e),await t.listInternal(e),e)},this.tune=async e=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(e);{const t=await this.tuneMldevInternal(e);let n="";void 0!==t.metadata&&void 0!==t.metadata.tunedModel?n=t.metadata.tunedModel:void 0!==t.name&&t.name.includes("/operations/")&&(n=t.name.split("/operations/")[0]);return{name:n,state:ht.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=function(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["_url","name"],n);const i=Xe(e,["config"]);return null!=i&&Qe(t,["config"],i),t}(e);return o=$e("{name}",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>Mo(e))}{const t=function(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["_url","name"],n);const i=Xe(e,["config"]);return null!=i&&Qe(t,["config"],i),t}(e);return o=$e("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>Io(e))}}async listInternal(e){var t,n,i,a;let r,o="",s={};if(this.apiClient.isVertexAI()){const i=No(e);return o=$e("tuningJobs",i._url),s=i._query,delete i.config,delete i._url,delete i._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(i),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Xe(e,["nextPageToken"]);null!=n&&Qe(t,["nextPageToken"],n);const i=Xe(e,["tuningJobs"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>Mo(e))),Qe(t,["tuningJobs"],e)}return t}(e),n=new Zt;return Object.assign(n,t),n})}{const t=To(e);return o=$e("tunedModels",t._url),s=t._query,delete t.config,delete t._url,delete t._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(i=e.config)||void 0===i?void 0:i.httpOptions,abortSignal:null===(a=e.config)||void 0===a?void 0:a.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Xe(e,["nextPageToken"]);null!=n&&Qe(t,["nextPageToken"],n);const i=Xe(e,["tunedModels"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>Io(e))),Qe(t,["tuningJobs"],e)}return t}(e),n=new Zt;return Object.assign(n,t),n})}}async tuneInternal(e){var t,n;let i,a="",r={};if(this.apiClient.isVertexAI()){const o=Oo(e);return a=$e("tuningJobs",o._url),r=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Mo(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let i,a="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Eo(e);return a=$e("tunedModels",o._url),r=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:r,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>function(e){const t={},n=Xe(e,["name"]);null!=n&&Qe(t,["name"],n);const i=Xe(e,["metadata"]);null!=i&&Qe(t,["metadata"],i);const a=Xe(e,["done"]);null!=a&&Qe(t,["done"],a);const r=Xe(e,["error"]);return null!=r&&Qe(t,["error"],r),t}(e))}}}class Do{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Lo="x-goog-upload-status";function qo(e){return new Promise(t=>setTimeout(t,e))}class Fo{async upload(e,t,n){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var i,a,r;let o=0,s=0,l=new Ut(new Response),u="upload";for(o=e.size;s<o;){const r=Math.min(8388608,o-s),c=e.slice(s,s+r);s+r>=o&&(u+=", finalize");let d=0,p=1e3;for(;d<3&&(l=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(r)}}}),!(null===(i=null===l||void 0===l?void 0:l.headers)||void 0===i?void 0:i[Lo]));)d++,await qo(p),p*=2;if(s+=r,"active"!==(null===(a=null===l||void 0===l?void 0:l.headers)||void 0===a?void 0:a[Lo]))break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(null===l||void 0===l?void 0:l.json());if("final"!==(null===(r=null===l||void 0===l?void 0:l.headers)||void 0===r?void 0:r[Lo]))throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}(e,t,n)}async stat(e){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}class Uo{create(e,t,n){return new Ho(e,t,n)}}class Ho{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}const Vo="x-goog-api-key";class zo{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(null===e.get(Vo)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Vo,this.apiKey)}}}const Bo=new class{constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=Ye(e,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const i=new zo(this.apiKey);this.apiClient=new Kr({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:"gl-node/web",uploader:new Fo,downloader:new Do}),this.models=new so(this.apiClient),this.live=new to(this.apiClient,i,new Uo),this.batches=new di(this.apiClient),this.chats=new zi(this.models,this.apiClient),this.caches=new Ri(this.apiClient),this.files=new Yi(this.apiClient),this.operations=new mo(this.apiClient),this.authTokens=new So(this.apiClient),this.tunings=new Ro(this.apiClient)}}({apiKey:"AIzaSyC41CeNrq4uCeO5tfLXyqB8WheHH3aLeIM"}),Go=e=>{let t=e.replace(/``````|``````\s*/g,"");return t=t.trim(),65279===t.charCodeAt(0)&&(t=t.slice(1)),t},Ko=e=>{if(e.response&&e.response.text)return e.response.text();if(e.text)return e.text;if(e.candidates&&e.candidates[0])return e.candidates[0].content.parts[0].text;throw new Error("Unexpected response structure from Gemini API")},Jo=e=>new Promise(t=>setTimeout(t,e));const Wo=new class{constructor(){this.queue=[],this.processing=!1,this.requestTimes=[],this.maxRequestsPerMinute=10,this.maxRequestsPerDay=50,this.dailyRequestCount=this.getDailyRequestCount()}getDailyRequestCount(){const e=(new Date).toDateString(),t=localStorage.getItem("gemini_daily_requests");if(t){const n=JSON.parse(t);if(n.date===e)return n.count}return 0}updateDailyRequestCount(){const e=(new Date).toDateString();this.dailyRequestCount++,localStorage.setItem("gemini_daily_requests",JSON.stringify({date:e,count:this.dailyRequestCount}))}async addRequest(e){if(this.dailyRequestCount>=this.maxRequestsPerDay)throw new Error("Daily API limit reached. Please try again tomorrow.");return new Promise((t,n)=>{this.queue.push({requestFn:e,resolve:t,reject:n}),this.processQueue()})}async processQueue(){if(!this.processing&&0!==this.queue.length){for(this.processing=!0;this.queue.length>0;){const t=Date.now();if(this.requestTimes=this.requestTimes.filter(e=>t-e<6e4),this.requestTimes.length>=this.maxRequestsPerMinute){const e=Math.min(...this.requestTimes),n=6e4-(t-e)+2e3;await Jo(n);continue}const{requestFn:n,resolve:i,reject:a}=this.queue.shift();try{this.requestTimes.push(t),this.updateDailyRequestCount();i(await n()),await Jo(3e3)}catch(e){a(e)}}this.processing=!1}}};const Yo=new class{constructor(){this.dbName="FinnishLearningAudioCache",this.storeName="audioBlobs",this.version=1,this.db=null}async init(){return new Promise((e,t)=>{const n=indexedDB.open(this.dbName,this.version);n.onerror=()=>t(n.error),n.onsuccess=()=>{this.db=n.result,e()},n.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains(this.storeName)){t.createObjectStore(this.storeName,{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1})}}})}async generateKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Kore";const n=(new TextEncoder).encode("".concat(e,"-").concat(t)),i=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(i)).map(e=>e.toString(16).padStart(2,"0")).join("")}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Kore";this.db||await this.init();const n=await this.generateKey(e,t);return new Promise((t,i)=>{const a=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).get(n);a.onerror=()=>i(a.error),a.onsuccess=()=>{const i=a.result;if(i){console.log("\ud83c\udfb5 Found cached audio for:",e.substring(0,50)+"...");Date.now()-i.timestamp>6048e5?(console.log("\u23f0 Cached audio expired, will regenerate"),this.delete(n),t(null)):t(i.audioBlob)}else t(null)}})}async set(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Kore";this.db||await this.init();const i=await this.generateKey(e,n);return new Promise((a,r)=>{const o=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName),s={id:i,text:e,speaker:n,audioBlob:t,timestamp:Date.now()},l=o.put(s);l.onerror=()=>r(l.error),l.onsuccess=()=>{console.log("\ud83d\udcbe Cached audio for:",e.substring(0,50)+"..."),a()}})}async delete(e){return this.db||await this.init(),new Promise((t,n)=>{const i=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(e);i.onerror=()=>n(i.error),i.onsuccess=()=>t()})}async clear(){return this.db||await this.init(),new Promise((e,t)=>{const n=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).clear();n.onerror=()=>t(n.error),n.onsuccess=()=>{console.log("\ud83d\uddd1\ufe0f Audio cache cleared"),e()}})}async getStats(){return this.db||await this.init(),new Promise((e,t)=>{const n=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();n.onerror=()=>t(n.error),n.onsuccess=()=>{const t=n.result,i=t.reduce((e,t)=>e+t.audioBlob.size,0);e({count:t.length,totalSize:i,totalSizeMB:(i/1024/1024).toFixed(2)})}})}},Zo=async e=>{try{return await Wo.addRequest(async()=>{const t='Translate Finnish word "'.concat(e,'" to Russian. \n\nIMPORTANT: Respond with ONLY the JSON object, no markdown formatting, no code blocks, no explanations.\n\n{"word":"').concat(e,'","translation":"Russian translation","partOfSpeech":"noun/verb/adj","difficulty":"beginner/intermediate/advanced","examples":["example1","example2"],"etymology":"brief origin"}'),n=await Bo.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:t}]}],generationConfig:{maxOutputTokens:120,temperature:.1}}),i=Ko(n),a=Go(i);let r;try{r=JSON.parse(a)}catch(o){throw console.error("JSON Parse Error:",o),console.error("Cleaned text that failed to parse:",a),new Error("AI returned invalid JSON format")}return{success:!0,data:r}})}catch(t){return console.error("Gemini translation failed:",t),t.message.includes("429")||t.message.includes("quota")?{success:!1,error:"Free tier limit reached. Please wait or try again later.",retryAfter:36e5}:t.message.includes("Daily API limit")?{success:!1,error:"Daily free tier limit reached. Try again tomorrow.",retryAfter:864e5}:{success:!1,error:"Translation unavailable. Using offline mode.",fallback:'Translation for "'.concat(e,'" not available')}}},$o=async(e,t)=>{try{return await Wo.addRequest(async()=>{const n='Analyze Finnish "'.concat(e,'". \n\nIMPORTANT: Respond with ONLY the JSON object, no markdown formatting, no code blocks, no explanations.\n\n{"partOfSpeech":"noun/verb/adj","case":"nom/part/gen/null","difficulty":"beginner/intermediate/advanced","note":"brief usage note","examples":["example1","example2"],"etymology":"brief origin"}'),i=await Bo.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:n}]}],generationConfig:{maxOutputTokens:120,temperature:.1}}),a=Ko(i),r=Go(a);let o;try{o=JSON.parse(r)}catch(s){return console.error("JSON Parse Error in AI analysis:",s),{base:t,ai:{grammaticalInfo:{partOfSpeech:"unknown",case:null,number:null,wordType:"basic"},difficulty:"beginner",usageNotes:"Analysis temporarily unavailable",examples:[],relatedWords:[],pronunciation:null},enhanced:!0}}return{base:t,ai:{grammaticalInfo:{partOfSpeech:o.partOfSpeech||"unknown",case:o.case||null,number:null,wordType:"basic"},difficulty:o.difficulty||"beginner",usageNotes:o.note||"No usage notes available",etymology:o.etymology&&"brief origin"!==o.etymology?o.etymology:null,formationRules:o.etymology&&"brief origin"!==o.etymology?"Word formation: ".concat(o.etymology):null,examples:o.examples&&o.examples.length>0?o.examples.map(t=>({finnish:t,english:'Example using "'.concat(e,'"')})):[],relatedWords:[],pronunciation:null},enhanced:!0}})}catch(n){return console.error("AI enhancement failed:",n),{base:t,ai:null,enhanced:!1,error:n.message.includes("limit")?"Free tier limit reached":"Analysis unavailable"}}};const Qo=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Kore",n=arguments.length>2?arguments[2]:void 0;console.log("\ud83e\udd16 Using Gemini 2.5 Flash TTS for Finnish:",e);try{n(e),console.log("\ud83d\udd0d Checking audio cache...");const r=await Yo.get(e,t);if(r){console.log("\u26a1 Playing cached audio");const e=URL.createObjectURL(r),t=new Audio(e);return t.onended=()=>{n(""),URL.revokeObjectURL(e)},t.onerror=()=>{console.error("\u274c Cached audio playback failed"),n(""),URL.revokeObjectURL(e)},void await t.play()}let o;console.log("\ud83d\ude80 Generating new audio with Gemini...");let s=0;o=setInterval(()=>{s+=1e3,s<=3e4&&console.log("\u23f3 Generating enhanced audio... ".concat(s/1e3,"s"))},1e3);const l=new Promise((e,t)=>{setTimeout(()=>{clearInterval(o),t(new Error("Gemini TTS timeout after 30 seconds"))},3e4)}),u=Bo.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:e}]}],config:{responseModalities:["AUDIO"],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}},audioConfig:{sampleRateHertz:24e3,audioEncoding:"LINEAR16"}}}}),c=await Promise.race([u,l]);if(clearInterval(o),c&&c.candidates&&c.candidates[0]){const r=c.candidates[0].content.parts[0].inlineData;if(r&&r.data){console.log("\u2705 Gemini TTS successful, audio format:",r.mimeType);const o=Uint8Array.from(atob(r.data),e=>e.charCodeAt(0));console.log("\ud83c\udfb5 PCM data size:",o.length,"bytes");const s=function(e,t,n,i){const a=e.length,r=t*n*i/8,o=n*i/8,s=new ArrayBuffer(44),l=new DataView(s);function u(e,t,n){for(let i=0;i<n.length;i++)e.setUint8(t+i,n.charCodeAt(i))}u(l,0,"RIFF"),l.setUint32(4,36+a,!0),u(l,8,"WAVE"),u(l,12,"fmt "),l.setUint32(16,16,!0),l.setUint16(20,1,!0),l.setUint16(22,n,!0),l.setUint32(24,t,!0),l.setUint32(28,r,!0),l.setUint16(32,o,!0),l.setUint16(34,i,!0),u(l,36,"data"),l.setUint32(40,a,!0);const c=new Uint8Array(s.byteLength+e.length);return c.set(new Uint8Array(s),0),c.set(e,s.byteLength),new Blob([c],{type:"audio/wav"})}(o,24e3,1,16);console.log("\ud83c\udfb5 WAV blob created, size:",s.size,"bytes");try{await Yo.set(e,s,t)}catch(i){console.warn("\u26a0\ufe0f Failed to cache audio:",i)}const l=URL.createObjectURL(s),u=new Audio(l);u.onloadstart=()=>console.log("\ud83d\udd04 Audio loading started"),u.oncanplay=()=>console.log("\u2705 Audio can play"),u.onplay=()=>console.log("\u25b6\ufe0f Audio started playing"),u.onended=()=>{console.log("\u23f9\ufe0f Audio playback ended"),n(""),URL.revokeObjectURL(l)},u.onerror=e=>{var t;throw console.error("\u274c Audio playback failed:",e),n(""),URL.revokeObjectURL(l),new Error("Audio playback failed: ".concat((null===(t=u.error)||void 0===t?void 0:t.message)||"Unknown error"))};try{await u.play(),console.log("\ud83c\udfb5 Audio playing successfully")}catch(a){throw console.error("\u274c Play method failed:",a),a}return}}throw new Error("No audio data received from Gemini")}catch(r){throw console.error("\u274c Gemini TTS failed:",r),n(""),r}},Xo=async()=>await Yo.clear(),es=async()=>await Yo.getStats(),ts=()=>{const e=(new Date).toDateString(),t=localStorage.getItem("gemini_daily_requests");let n=0;if(t){const i=JSON.parse(t);i.date===e&&(n=i.count)}return{dailyUsed:n,dailyLimit:50,remaining:Math.max(0,50-n),resetTime:"Tomorrow"}}},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,h(x,y.prototype),x.isPureReactComponent=!0;var k=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},w=Object.prototype.hasOwnProperty;function C(e,t,i,a,r,o){return i=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:o}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(){}function N(e,t,a,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(s){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case i:c=!0;break;case p:return N((c=e._init)(e._payload),t,a,r,o)}}if(c)return o=o(e),c=""===r?"."+A(e,0):r,k(o)?(a="",null!=c&&(a=c.replace(T,"$&/")+"/"),N(o,t,a,"",function(e){return e})):null!=o&&(S(o)&&(l=o,u=a+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+c,o=C(l.type,u,void 0,0,0,l.props)),t.push(o)),1;c=0;var d,f=""===r?".":r+":";if(k(e))for(var h=0;h<e.length;h++)c+=N(r=e[h],t,a,s=f+A(r,h),o);else if("function"===typeof(h=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=m&&d[m]||d["@@iterator"])?d:null))for(e=h.call(e),h=0;!(r=e.next()).done;)c+=N(r=r.value,t,a,s=f+A(r,h++),o);else if("object"===s){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,r,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function j(e,t,n){if(null==e)return e;var i=[],a=0;return N(e,i,"","",function(e){return t.call(n,e,a++)}),i}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=r,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=h({},e.props),a=e.key;if(null!=t)for(r in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!w.call(t,r)||"key"===r||"__self"===r||"__source"===r||"ref"===r&&void 0===t.ref||(i[r]=t[r]);var r=arguments.length-2;if(1===r)i.children=n;else if(1<r){for(var o=Array(r),s=0;s<r;s++)o[s]=arguments[s+2];i.children=o}return C(e.type,a,void 0,0,0,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var i,a={},r=null;if(null!=t)for(i in void 0!==t.key&&(r=""+t.key),t)w.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(a[i]=t[i]);var o=arguments.length-2;if(1===o)a.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];a.children=s}if(e&&e.defaultProps)for(i in o=e.defaultProps)void 0===a[i]&&(a[i]=o[i]);return C(e,r,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var i=e(),a=_.S;null!==a&&a(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(P,I)}catch(r){I(r)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var i=_.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},555:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function r(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>s})},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var i=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,i=u(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,r="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:r}):"script"===n&&o.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:r,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,i=u(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(e,t,i){var a=null;if(void 0!==i&&(a=""+i),void 0!==t.key&&(a=""+t.key),"key"in t)for(var r in i={},t)"key"!==r&&(i[r]=t[r]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=a,t.jsxs=a},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,a=e[i];if(!(0<r(a,t)))break e;e[i]=t,e[n]=a,n=i}}function i(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,a=e.length,o=a>>>1;i<o;){var s=2*(i+1)-1,l=e[s],u=s+1,c=e[u];if(0>r(l,n))u<a&&0>r(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[s]=n,i=s);else{if(!(u<a&&0>r(c,n)))break e;e[i]=c,e[u]=n,i=u}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,m=3,f=!1,h=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=i(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function _(e){if(g=!1,k(e),!h)if(null!==i(u))h=!0,C||(C=!0,w());else{var t=i(c);null!==t&&I(_,t.startTime-e)}}var w,C=!1,S=-1,T=5,A=-1;function E(){return!!y||!(t.unstable_now()-A<T)}function N(){if(y=!1,C){var e=t.unstable_now();A=e;var n=!0;try{e:{h=!1,g&&(g=!1,b(S),S=-1),f=!0;var r=m;try{t:{for(k(e),p=i(u);null!==p&&!(p.expirationTime>e&&E());){var o=p.callback;if("function"===typeof o){p.callback=null,m=p.priorityLevel;var s=o(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){p.callback=s,k(e),n=!0;break t}p===i(u)&&a(u),k(e)}else a(u);p=i(u)}if(null!==p)n=!0;else{var l=i(c);null!==l&&I(_,l.startTime-e),n=!1}}break e}finally{p=null,m=r,f=!1}n=void 0}}finally{n?w():C=!1}}}if("function"===typeof x)w=function(){x(N)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,O=j.port2;j.port1.onmessage=N,w=function(){O.postMessage(null)}}else w=function(){v(N,0)};function I(e,n){S=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,a,r){var o=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?o+r:o:r=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:r,expirationTime:s=r+s,sortIndex:-1},r>o?(e.sortIndex=r,n(c,e),null===i(u)&&e===i(c)&&(g?(b(S),S=-1):g=!0,I(_,r-o))):(e.sortIndex=s,n(u,e),h||f||(h=!0,C||(C=!0,w()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i=n(43),a=n(391),r=n(555),o=n(579);const s=e=>{let{onHomeClick:t}=e;return(0,o.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,o.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,o.jsx)("h1",{className:"text-3xl font-bold text-center text-blue-600 cursor-pointer",onClick:t,children:"Learn Finnish with joy! \ud83c\uddeb\ud83c\uddee"})})})};function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const u=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const p=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],m=(0,i.forwardRef)((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:u="",children:m,iconNode:f}=e,h=l(e,p);return(0,i.createElement)("svg",(0,r.A)((0,r.A)((0,r.A)({ref:t},d),{},{width:a,height:a,stroke:n,strokeWidth:s?24*Number(o)/Number(a):o,className:c("lucide",u)},!m&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...f.map(e=>{let[t,n]=e;return(0,i.createElement)(t,n)}),...Array.isArray(m)?m:[m]])}),f=["className"],h=(e,t)=>{const n=(0,i.forwardRef)((n,a)=>{let{className:o}=n,s=l(n,f);return(0,i.createElement)(m,(0,r.A)({ref:a,iconNode:t,className:c("lucide-".concat((d=u(e),d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),o)},s));var d});return n.displayName=u(e),n},g=h("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),y=h("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),v=e=>{let{chapters:t,currentChapter:n,appProgress:i,onChapterSelect:a,onHomeClick:r,favoritesCount:s,onGoToFavorites:l}=e;const u=e=>{const t=i.chapters[e];if(!t)return{completed:0,total:0,percentage:0};const n=Object.values(t.lessons),a=n.filter(e=>e.lessonFullyCompleted).length,r=n.length;return{completed:a,total:r,percentage:r>0?Math.round(a/r*100):0}};return(0,o.jsxs)("div",{className:"bg-white rounded-3xl p-6 shadow-lg mb-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Finnish Chapters"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Choose a chapter to begin learning"})]}),(0,o.jsxs)("button",{onClick:l,className:"flex items-center bg-red-100 hover:bg-red-200 text-red-600 px-4 py-2 rounded-lg transition-colors",children:[(0,o.jsx)(g,{className:"w-5 h-5 mr-2"}),"Favorites (",s,")"]})]}),(0,o.jsx)("div",{className:"grid gap-4",children:t.map(e=>{const t=u(e.id),n=100===(r=t.percentage)?"bg-green-500":r>0?"bg-blue-500":"bg-gray-300";var r;const s=(e=>100===e?"\u2705":e>0?"\ud83d\udd04":"\u23f3")(t.percentage);return(0,o.jsx)("div",{className:"border rounded-xl p-4 hover:shadow-md transition-shadow cursor-pointer bg-gray-50 hover:bg-gray-100",onClick:()=>a(e),children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,o.jsx)("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:e.id}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-blue-600",children:e.title}),(0,o.jsx)("p",{className:"text-gray-600",children:e.subtitle})]}),(0,o.jsx)("span",{className:"text-2xl",children:s})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[(0,o.jsxs)("span",{children:["\ud83d\udcda ",e.lessons.length," lessons"]}),(0,o.jsxs)("span",{children:["\u23f1\ufe0f ",e.estimatedHours,"h"]}),(0,o.jsxs)("span",{children:["\ud83d\udcd6 Pages ",e.pageNumbers]}),(0,o.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:e.difficulty})]}),(0,o.jsxs)("div",{className:"mb-2",children:[(0,o.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,o.jsx)("span",{children:"Progress"}),(0,o.jsxs)("span",{children:[t.completed,"/",t.total," lessons completed"]})]}),(0,o.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,o.jsx)("div",{className:"h-2 rounded-full transition-all ".concat(n),style:{width:"".concat(t.percentage,"%")}})})]}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.lessons.slice(0,3).map((t,n)=>{var a;const r=null===(a=i.chapters[e.id])||void 0===a?void 0:a.lessons[t.id],s=null!==r&&void 0!==r&&r.lessonFullyCompleted?"\u2705":null!==r&&void 0!==r&&r.theory_completed||null!==r&&void 0!==r&&r.reading_completed||(null===r||void 0===r?void 0:r.exercises_completed)>0?"\ud83d\udd04":"\u23f3";return(0,o.jsxs)("span",{className:"text-xs bg-white px-2 py-1 rounded border",children:[s," Lesson ",n+1]},t.id)}),e.lessons.length>3&&(0,o.jsxs)("span",{className:"text-xs text-gray-500 px-2 py-1",children:["+",e.lessons.length-3," more"]})]})]}),(0,o.jsx)(y,{className:"w-6 h-6 text-gray-400 ml-4"})]})},e.id)})}),t.length>0&&(0,o.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t.reduce((e,t)=>e+u(t.id).completed,0)}),(0,o.jsx)("div",{className:"text-sm text-gray-600",children:"Lessons Completed"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.filter(e=>100===u(e.id).percentage).length}),(0,o.jsx)("div",{className:"text-sm text-gray-600",children:"Chapters Completed"})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(t.reduce((e,t)=>e+u(t.id).percentage,0)/t.length)||0,"%"]}),(0,o.jsx)("div",{className:"text-sm text-gray-600",children:"Overall Progress"})]})]})})]})},b=h("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),x=h("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),k=h("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),_=h("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),w={written_task:"\ud83d\udcdd",pronunciation_drill:"\ud83c\udfa4",listening_exercise:"\ud83c\udfa7",dialogue_complete:"\ud83d\udcac",grammar_fill:"\ud83d\udcdd",listening_comprehension:"\ud83c\udfa7",listening_repurposed:"\ud83c\udfa7"},C={written_task:"Written Task",pronunciation_drill:"Pronunciation",listening_exercise:"Listening",dialogue_complete:"Dialogue",grammar_fill:"Grammar",listening_comprehension:"Comprehension",listening_repurposed:"Listening Practice"},S=e=>{let{chapter:t,currentLesson:n,chapterProgress:i,onLessonSelect:a,onBackToChapter:r,onHomeClick:s}=e;return(0,o.jsxs)("div",{className:"bg-white rounded-3xl p-6 shadow-lg mb-6",children:[(0,o.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsxs)("button",{onClick:s,className:"flex items-center text-blue-600 hover:text-blue-800 bg-blue-50 px-3 py-2 rounded-lg transition-colors",children:[(0,o.jsx)(b,{className:"w-5 h-5 mr-2"}),"Home"]}),(0,o.jsxs)("button",{onClick:r,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[(0,o.jsx)(x,{className:"w-5 h-5 mr-1"}),"Back to Chapters"]})]})}),(0,o.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-xl",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,o.jsx)("div",{className:"bg-blue-500 text-white rounded-full w-10 h-10 flex items-center justify-center text-lg font-bold",children:t.id}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-blue-800",children:t.title}),(0,o.jsx)("p",{className:"text-blue-600",children:t.subtitle})]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-blue-600",children:[(0,o.jsxs)("span",{children:["\ud83d\udcda ",t.lessons.length," lessons"]}),(0,o.jsxs)("span",{children:["\u23f1\ufe0f ",t.estimatedHours,"h total"]}),(0,o.jsxs)("span",{children:["\ud83d\udcd6 Pages ",t.pageNumbers]}),(0,o.jsx)("span",{className:"bg-blue-200 text-blue-800 px-2 py-1 rounded",children:t.difficulty})]})]}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Lessons in this Chapter"}),t.lessons.map((e,t)=>{const r=(e=>{const t=null===i||void 0===i?void 0:i.lessons[e];return t?t.lessonFullyCompleted?"\u2705":t.theory_completed||t.reading_completed||t.exercises_completed>0?"\ud83d\udd04":"\u23f3":"\u23f3"})(e.id),s=(e=>{const t=null===i||void 0===i?void 0:i.lessons[e];return t?{theory:t.theory_completed?"\u2705":"\u23f3",reading:t.reading_completed?"\u2705":"\u23f3",exercises:t.exercises_completed>=t.total_exercises?"\u2705":t.exercises_completed>0?"\ud83d\udd04":"\u23f3"}:{theory:"\u23f3",reading:"\u23f3",exercises:"\u23f3"}})(e.id),l=(e=>{const t=e.exercises.map(e=>w[e.type]||"\ud83d\udcdd");return Array.from(new Set(t)).join(" ")})(e),u=(null===n||void 0===n?void 0:n.id)===e.id;return(0,o.jsx)("div",{className:"border rounded-xl p-4 cursor-pointer transition-all ".concat(u?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"),onClick:()=>a(e),children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,o.jsx)("div",{className:"rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold ".concat(u?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"),children:t+1}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("h4",{className:"text-lg font-semibold text-gray-800",children:e.title}),(0,o.jsx)("p",{className:"text-gray-600",children:e.subtitle})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("span",{className:"text-2xl",children:r}),(0,o.jsx)(k,{className:"w-4 h-4 text-gray-400"}),(0,o.jsxs)("span",{className:"text-sm text-gray-500",children:[e.estimatedMinutes,"min"]})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,o.jsx)(_,{className:"w-4 h-4 text-blue-500"}),(0,o.jsx)("span",{children:"Theory"}),(0,o.jsx)("span",{children:s.theory})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,o.jsx)("span",{children:"\ud83d\udc53"}),(0,o.jsx)("span",{children:"Reading"}),(0,o.jsx)("span",{children:s.reading})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,o.jsx)("span",{children:"\ud83e\udde9"}),(0,o.jsx)("span",{children:"Practice"}),(0,o.jsx)("span",{children:s.exercises}),(0,o.jsxs)("span",{className:"text-xs text-gray-500",children:["(",l,")"]})]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,o.jsxs)("span",{children:[e.exercises.length," exercises"]}),(0,o.jsxs)("span",{children:["Types: ",l]}),(null===i||void 0===i?void 0:i.lessons[e.id])&&(0,o.jsxs)("span",{children:[i.lessons[e.id].exercises_completed,"/",e.exercises.length," completed"]})]})]}),(0,o.jsx)(y,{className:"w-6 h-6 ml-4 ".concat(u?"text-blue-500":"text-gray-400")})]})},e.id)})]}),i&&(0,o.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"text-xl font-bold text-green-600",children:[Object.values(i.lessons).filter(e=>e.lessonFullyCompleted).length,"/",t.lessons.length]}),(0,o.jsx)("div",{className:"text-sm text-gray-600",children:"Lessons Completed"})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"text-xl font-bold text-blue-600",children:[Math.round(Object.values(i.lessons).filter(e=>e.lessonFullyCompleted).length/t.lessons.length*100)||0,"%"]}),(0,o.jsx)("div",{className:"text-sm text-gray-600",children:"Chapter Progress"})]})]})})]})},T=h("glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]),A=h("puzzle",[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]]),E=e=>{let{lesson:t,currentSection:n,lessonProgress:i,onSectionChange:a,onBackToLessons:r,onHomeClick:s}=e;const l=e=>{switch(e){case"theory":default:return(0,o.jsx)(_,{className:"w-4 h-4"});case"reading":return(0,o.jsx)(T,{className:"w-4 h-4"});case"exercises":return(0,o.jsx)(A,{className:"w-4 h-4"})}},u=e=>{switch(e){case"theory":return i.theory_completed?"\u2705":"\u23f3";case"reading":return i.reading_completed?"\u2705":"\u23f3";case"exercises":return i.exercises_completed>=i.total_exercises?"\u2705":i.exercises_completed>0?"\ud83d\udd04":"\u23f3";default:return"\u23f3"}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"bg-white rounded-2xl p-4 shadow-lg mb-6",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsxs)("button",{onClick:s,className:"flex items-center text-blue-600 hover:text-blue-800 bg-blue-50 px-3 py-2 rounded-lg transition-colors",children:[(0,o.jsx)(b,{className:"w-5 h-5 mr-2"}),"Home"]}),(0,o.jsxs)("button",{onClick:r,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[(0,o.jsx)(x,{className:"w-5 h-5 mr-1"}),"Back to Lessons"]})]}),(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:t.title}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:t.subtitle})]}),(0,o.jsx)("div",{className:"text-right text-sm text-gray-500",children:(0,o.jsxs)("span",{children:["\u23f1\ufe0f ",t.estimatedMinutes," min"]})})]})}),(0,o.jsxs)("div",{className:"bg-white rounded-2xl p-4 shadow-lg mb-6",children:[(0,o.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,o.jsxs)("button",{onClick:()=>a("theory"),className:"flex items-center px-6 py-3 rounded-lg transition-colors ".concat("theory"===n?"bg-blue-500 text-white shadow-md":"text-blue-600 hover:bg-blue-50"),children:[l("theory"),(0,o.jsx)("span",{className:"ml-2 font-medium",children:"Theory"}),(0,o.jsx)("span",{className:"ml-2",children:u("theory")})]}),(0,o.jsxs)("button",{onClick:()=>a("reading"),className:"flex items-center px-6 py-3 rounded-lg transition-colors ".concat("reading"===n?"bg-blue-500 text-white shadow-md":"text-blue-600 hover:bg-blue-50"),children:[l("reading"),(0,o.jsx)("span",{className:"ml-2 font-medium",children:"Reading"}),(0,o.jsx)("span",{className:"ml-2",children:u("reading")})]}),(0,o.jsxs)("button",{onClick:()=>a("exercises"),className:"flex items-center px-6 py-3 rounded-lg transition-colors ".concat("exercises"===n?"bg-blue-500 text-white shadow-md":"text-blue-600 hover:bg-blue-50"),children:[l("exercises"),(0,o.jsx)("span",{className:"ml-2 font-medium",children:"Practice"}),(0,o.jsx)("span",{className:"ml-2",children:u("exercises")}),(0,o.jsxs)("span",{className:"ml-1 text-xs opacity-75",children:["(",i.exercises_completed,"/",i.total_exercises,")"]})]})]}),"exercises"===n&&(0,o.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Exercise Types in this Lesson:"}),(0,o.jsx)("div",{className:"flex justify-center space-x-4",children:t.exercises.map((e,t)=>{const n=w[e.type]||"\ud83d\udcdd";return(0,o.jsxs)("div",{className:"flex items-center space-x-1 text-sm",children:[(0,o.jsx)("span",{children:n}),(0,o.jsx)("span",{className:"capitalize text-gray-600",children:e.type.replace("_"," ")})]},t)})}),(0,o.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Total: ",(()=>{const e=t.exercises.map(e=>w[e.type]||"\ud83d\udcdd");return Array.from(new Set(e)).join(" ")})()," (",t.exercises.length," exercises)"]})]})})]}),(0,o.jsx)("div",{className:"bg-white rounded-2xl p-4 shadow-lg mb-6",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Lesson Progress"}),(0,o.jsxs)("div",{className:"flex justify-center space-x-8",children:[(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:[(i.theory_completed?1:0)+(i.reading_completed?1:0)+(i.exercises_completed>=i.total_exercises?1:0),"/3"]}),(0,o.jsx)("div",{className:"text-xs text-gray-500",children:"Sections Done"})]}),(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[i.exercises_completed,"/",i.total_exercises]}),(0,o.jsx)("div",{className:"text-xs text-gray-500",children:"Exercises Done"})]}),(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"text-lg font-bold text-purple-600",children:i.lessonFullyCompleted?"\u2705":"\ud83d\udd04"}),(0,o.jsx)("div",{className:"text-xs text-gray-500",children:i.lessonFullyCompleted?"Complete":"In Progress"})]})]})]})})]})},N=h("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),j=h("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),O=h("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),I=h("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),P=h("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),M=h("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),R=e=>{let{lesson:t,vocabularyData:n,audioScriptsData:i,isCompleted:a,audioPlaying:r,isListening:s,onPlayAudio:l,onStartSpeechRecognition:u,onAddToFavorites:c,onCompleteTheory:d,onRestartTheory:p,isFavorited:m,renderClickableText:f}=e;if(null===t||void 0===t||!t.theory)return(0,o.jsx)("div",{className:"bg-white rounded-3xl p-8 shadow-lg",children:(0,o.jsx)("p",{className:"text-center text-gray-500",children:"No theory content available for this lesson."})});const h=e=>e.trim().split(/\s+/).length>6,y=e=>h(e)?(0,o.jsx)(N,{className:"w-4 h-4"}):(0,o.jsx)(j,{className:"w-4 h-4"}),v=e=>h(e)?"enhanced":"standard";return(0,o.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-3xl font-bold text-blue-600 mb-2",children:t.title}),(0,o.jsx)("p",{className:"text-xl text-gray-600",children:t.subtitle}),a&&(0,o.jsxs)("div",{className:"flex items-center mt-2 text-green-600",children:[(0,o.jsx)(O,{className:"w-5 h-5 mr-2"}),(0,o.jsx)("span",{className:"font-medium",children:"Theory Completed!"})]})]}),(0,o.jsxs)("div",{className:"flex space-x-2",children:[(0,o.jsx)("button",{onClick:()=>l(t.title,v(t.title)),className:"bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-full transition-colors",disabled:r===t.title,title:h(t.title)?"Enhanced AI Voice":"Browser Voice",children:r===t.title?(0,o.jsx)(I,{className:"w-6 h-6"}):y(t.title)}),(0,o.jsx)("button",{onClick:()=>u(t.title),className:"p-3 rounded-full transition-colors ".concat(s?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"," text-white"),disabled:s,title:"Practice pronunciation",children:(0,o.jsx)(P,{className:"w-6 h-6"})})]})]}),t.theory.sections.map((e,t)=>(0,o.jsxs)("div",{className:"mb-8",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-2xl font-semibold text-gray-800",children:e.title}),(0,o.jsx)("p",{className:"text-lg text-gray-600",children:e.subtitle})]}),(0,o.jsx)("button",{onClick:()=>l(e.title,v(e.title)),className:"text-blue-500 hover:text-blue-700 p-2 rounded-full hover:bg-blue-50 transition-colors",disabled:r===e.title,title:h(e.title)?"Enhanced AI Voice":"Browser Voice",children:y(e.title)})]}),e.content&&(0,o.jsx)("div",{className:"bg-blue-50 rounded-xl p-6 mb-6",children:(0,o.jsxs)("div",{className:"flex items-start justify-between",children:[(0,o.jsx)("div",{className:"flex-1",children:(0,o.jsx)("p",{className:"text-gray-700 leading-relaxed",children:f(e.content)})}),(0,o.jsx)("button",{onClick:()=>l(e.content,v(e.content)),className:"ml-4 text-blue-500 hover:text-blue-700 p-2 rounded-full hover:bg-blue-100 transition-colors flex-shrink-0",disabled:r===e.content,title:h(e.content)?"Enhanced AI Voice":"Browser Voice",children:y(e.content)})]})}),e.vocabulary&&(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("h4",{className:"text-xl font-semibold mb-4 flex items-center",children:(0,o.jsx)("span",{children:"\ud83d\udcda Vocabulary"})}),(0,o.jsx)("div",{className:"grid gap-4",children:e.vocabulary.map((e,t)=>{const i=n.vocabulary[e.finnish];return(0,o.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("span",{className:"text-lg font-semibold text-blue-600",children:e.finnish}),(0,o.jsx)("button",{onClick:()=>l(e.finnish,v(e.finnish)),className:"text-blue-500 hover:text-blue-700 p-1 rounded transition-colors",disabled:r===e.finnish,title:h(e.finnish)?"Enhanced AI Voice":"Browser Voice",children:y(e.finnish)}),(0,o.jsx)("button",{onClick:()=>u(e.finnish),className:"text-green-500 hover:text-green-700 p-1 rounded transition-colors ".concat(s?"animate-pulse":""),disabled:s,title:"Practice pronunciation",children:(0,o.jsx)(P,{className:"w-4 h-4"})}),i&&(0,o.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,o.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("high"===i.frequency?"bg-green-100 text-green-800":"medium"===i.frequency?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:i.frequency}),(0,o.jsxs)("span",{className:"text-xs text-gray-500",children:["Ch. ",i.sourceChapter]})]})]}),(0,o.jsx)("button",{onClick:()=>c(e.finnish,e.russian),className:"".concat(m(e.finnish)?"text-red-600":"text-red-500 hover:text-red-700"," p-1 rounded transition-colors"),title:"Add to favorites",children:(0,o.jsx)(g,{className:"w-5 h-5 ".concat(m(e.finnish)?"fill-current":"")})})]}),(0,o.jsx)("p",{className:"text-gray-700 mb-2",children:e.russian}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:e.usage}),i&&(0,o.jsxs)("div",{className:"mt-2 p-2 bg-white rounded border-l-4 border-blue-500",children:[(0,o.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,o.jsx)("strong",{children:"Grammar:"})," ",i.grammarInfo]}),i.pronunciation&&(0,o.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,o.jsx)("strong",{children:"Pronunciation:"})," ",i.pronunciation]}),i.tags.length>0&&(0,o.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:i.tags.map((e,t)=>(0,o.jsx)("span",{className:"bg-blue-100 text-blue-800 px-1 py-0.5 rounded text-xs",children:e},t))})]}),e.formality&&(0,o.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs mt-2 ".concat("formal"===e.formality?"bg-blue-100 text-blue-800":"informal"===e.formality?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"),children:"formal"===e.formality?"FORMAL":"informal"===e.formality?"CASUAL":"VERY CASUAL"})]},t)})})]}),e.grammar&&(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("h4",{className:"text-xl font-semibold mb-4 flex items-center",children:(0,o.jsx)("span",{children:"\ud83d\udcdd Grammar Rules"})}),(0,o.jsx)("div",{className:"grid gap-4",children:e.grammar.map((e,t)=>(0,o.jsx)("div",{className:"bg-yellow-50 rounded-xl p-4 border-l-4 border-yellow-500",children:(0,o.jsx)("div",{className:"flex items-start justify-between",children:(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("h5",{className:"text-lg font-semibold text-yellow-800 mb-2",children:e.rule}),(0,o.jsx)("p",{className:"text-gray-700 mb-3",children:e.explanation}),e.examples&&e.examples.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Examples:"}),(0,o.jsx)("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1",children:e.examples.map((e,t)=>(0,o.jsxs)("li",{className:"flex items-center justify-between",children:[(0,o.jsx)("span",{children:e}),(0,o.jsx)("button",{onClick:()=>l(e,v(e)),className:"ml-2 text-blue-500 hover:text-blue-700 p-1 rounded transition-colors",disabled:r===e,title:h(e)?"Enhanced AI Voice":"Browser Voice",children:y(e)})]},t))})]})]})})},t))})]})]},t)),(0,o.jsx)("div",{className:"flex justify-center space-x-4 mt-8 pt-6 border-t border-gray-200",children:a?(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"bg-green-500 text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,o.jsx)(O,{className:"w-8 h-8"})}),(0,o.jsx)("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"Theory Completed!"}),(0,o.jsx)("p",{className:"text-green-700 mb-4",children:"Great work! You can review or move to the next section."}),(0,o.jsxs)("button",{onClick:p,className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg flex items-center mx-auto transition-colors",children:[(0,o.jsx)(M,{className:"w-4 h-4 mr-2"}),"Review Theory"]})]}):(0,o.jsxs)("button",{onClick:d,className:"bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-semibold flex items-center transition-colors",children:[(0,o.jsx)(O,{className:"w-5 h-5 mr-2"}),"Complete Theory"]})})]})},D=h("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),L=h("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),q=e=>{let{lesson:t,audioScriptsData:n,isCompleted:i,audioPlaying:a,isListening:r,isGeneratingAudio:s,onPlayAudio:l,onStartSpeechRecognition:u,onCompleteReading:c,onRestartReading:d,onGoToExercises:p,renderClickableText:m}=e;if(null===t||void 0===t||!t.reading)return(0,o.jsx)("div",{className:"bg-white rounded-3xl p-8 shadow-lg",children:(0,o.jsx)("p",{className:"text-center text-gray-500",children:"No reading content available for this lesson."})});const f=e=>e.trim().split(/\s+/).length>6||"enhanced"===t.reading.preferredTTS,h=e=>f(e)?(0,o.jsx)(N,{className:"w-4 h-4"}):(0,o.jsx)(j,{className:"w-4 h-4"}),g=e=>f(e)?"enhanced":"standard",y=n.scripts.find(e=>e.id===t.reading.dialogue_id),v=(()=>{if(y){return y.text.split(/(?=[A-Z][a-z]+:)/).filter(e=>e.trim()).map(e=>{const[t,...n]=e.split(":");return{speaker:t.trim(),text:n.join(":").trim(),translation:"",emotion:"neutral"}})}return t.reading.dialogue||[]})();return(0,o.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-3xl font-bold text-blue-600 mb-2",children:t.reading.title}),(0,o.jsx)("p",{className:"text-xl text-gray-600",children:t.reading.subtitle}),i&&(0,o.jsxs)("div",{className:"flex items-center mt-2 text-green-600",children:[(0,o.jsx)(O,{className:"w-5 h-5 mr-2"}),(0,o.jsx)("span",{className:"font-medium",children:"Reading Completed!"})]})]}),(0,o.jsxs)("div",{className:"text-right",children:[(0,o.jsx)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-2",children:"enhanced"===t.reading.preferredTTS?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(N,{className:"w-4 h-4 text-purple-500"}),(0,o.jsx)("span",{children:"Enhanced Audio Quality"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(j,{className:"w-4 h-4 text-blue-500"}),(0,o.jsx)("span",{children:"Standard Audio Quality"})]})}),(0,o.jsxs)("p",{className:"text-xs text-gray-500",children:["\u23f1\ufe0f ",t.estimatedMinutes," min reading"]})]})]}),t.reading.description&&(0,o.jsx)("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:(0,o.jsxs)("div",{className:"flex items-start justify-between",children:[(0,o.jsx)("p",{className:"text-gray-700 flex-1",children:t.reading.description}),(0,o.jsx)("button",{onClick:()=>l(t.reading.description,g(t.reading.description)),disabled:a===t.reading.description||s&&f(t.reading.description),className:"ml-4 p-2 rounded-full transition-colors flex-shrink-0 ".concat(f(t.reading.description)?"text-purple-500 hover:text-purple-700 hover:bg-purple-100 ".concat(s?"opacity-50 cursor-not-allowed":""):"text-blue-500 hover:text-blue-700 hover:bg-blue-100"),title:f(t.reading.description)?s?"Generating Enhanced Audio...":"Enhanced AI Voice":"Browser Voice",children:s&&f(t.reading.description)?(0,o.jsx)("div",{className:"w-4 h-4 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"}):h(t.reading.description)})]})}),(0,o.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"\ud83d\udcd6 Dialogue"}),y&&(0,o.jsx)("button",{onClick:()=>l(y.text,"enhanced"===y.preferredTTS?"enhanced":"standard"),disabled:a===y.text||s&&"enhanced"===y.preferredTTS,className:"flex items-center px-4 py-2 rounded-lg transition-colors ".concat("enhanced"===y.preferredTTS?"bg-purple-500 hover:bg-purple-600 text-white ".concat(s?"opacity-50 cursor-not-allowed":""):"bg-blue-500 hover:bg-blue-600 text-white"),children:s&&"enhanced"===y.preferredTTS?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Generating..."]}):(0,o.jsxs)(o.Fragment,{children:["enhanced"===y.preferredTTS?(0,o.jsx)(N,{className:"w-4 h-4 mr-2"}):(0,o.jsx)(j,{className:"w-4 h-4 mr-2"}),"Play Full Dialogue"]})})]}),v.map((e,t)=>{const n=f(e.text);return(0,o.jsx)("div",{className:"bg-gray-50 rounded-xl p-4",children:(0,o.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,o.jsx)("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold flex-shrink-0",children:e.speaker?e.speaker[0]:"?"}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,o.jsxs)("p",{className:"font-semibold text-gray-800",children:[e.speaker,":"]}),(0,o.jsx)("button",{onClick:()=>l(e.text,g(e.text)),disabled:a===e.text||s&&n,className:"p-1 rounded transition-colors ".concat(n?"text-purple-500 hover:text-purple-700 ".concat(s?"opacity-50 cursor-not-allowed":""):"text-blue-500 hover:text-blue-700"),title:n?s?"Generating Enhanced Audio...":"Enhanced AI Voice (6+ words)":"Browser Voice",children:s&&n?(0,o.jsx)("div",{className:"w-4 h-4 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"}):h(e.text)}),(0,o.jsx)("button",{onClick:()=>u(e.text),className:"text-green-500 hover:text-green-700 p-1 rounded transition-colors ".concat(r?"animate-pulse":""),disabled:r,title:"Practice pronunciation",children:(0,o.jsx)(P,{className:"w-4 h-4"})}),(0,o.jsx)("span",{className:"text-xs text-gray-500",children:n?s?"\u26a1 Generating...":"\u26a1 Enhanced":"\ud83d\udd0a Standard"})]}),(0,o.jsx)("p",{className:"text-lg mb-2",children:m(e.text)}),e.translation&&(0,o.jsx)("p",{className:"text-sm text-gray-600 italic",children:e.translation})]})]})},t)})]}),t.reading.questions&&(0,o.jsxs)("div",{className:"bg-green-50 rounded-xl p-6 mb-8",children:[(0,o.jsx)("h4",{className:"text-xl font-semibold mb-4 flex items-center",children:(0,o.jsx)("span",{children:"\u2753 Comprehension Check"})}),t.reading.questions.map((e,t)=>(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,o.jsx)("p",{className:"font-semibold text-gray-800 flex-1",children:e.question}),(0,o.jsx)("button",{onClick:()=>l(e.question,g(e.question)),disabled:a===e.question||s&&f(e.question),className:"ml-2 p-1 rounded transition-colors ".concat(f(e.question)?"text-green-600 hover:text-green-800 ".concat(s?"opacity-50 cursor-not-allowed":""):"text-green-600 hover:text-green-800"),title:f(e.question)?s?"Generating Enhanced Audio...":"Enhanced AI Voice":"Browser Voice",children:s&&f(e.question)?(0,o.jsx)("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):h(e.question)})]}),e.translation&&(0,o.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.translation}),i&&(0,o.jsx)("div",{className:"bg-green-100 rounded-lg p-3",children:(0,o.jsxs)("p",{className:"text-green-800 font-semibold",children:["\u2713 ",e.answer]})})]},t))]}),y&&(0,o.jsx)("div",{className:"bg-purple-50 rounded-xl p-4 mb-6 border-l-4 border-purple-500",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"font-semibold text-purple-800",children:"Audio Information"}),(0,o.jsxs)("p",{className:"text-sm text-purple-600",children:["Type: ",y.type," | Duration: ~",y.estimatedDuration,"s | Quality: ","enhanced"===y.preferredTTS?"Enhanced AI":"Standard"]}),y.note&&(0,o.jsx)("p",{className:"text-xs text-purple-600 mt-1",children:y.note})]}),(0,o.jsx)("div",{className:"text-2xl",children:"enhanced"===y.preferredTTS?"\u26a1":"\ud83d\udd0a"})]})}),(0,o.jsx)("div",{className:"flex justify-center space-x-4 pt-6 border-t border-gray-200",children:i?(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"bg-green-500 text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,o.jsx)(D,{className:"w-8 h-8"})}),(0,o.jsx)("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"Reading Completed!"}),(0,o.jsx)("p",{className:"text-green-700 mb-4",children:"Excellent work! You can review or move to exercises."}),(0,o.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,o.jsxs)("button",{onClick:d,className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg flex items-center transition-colors",children:[(0,o.jsx)(M,{className:"w-4 h-4 mr-2"}),"Review Reading"]}),(0,o.jsxs)("button",{onClick:p,className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg flex items-center transition-colors",children:["Go to Exercises",(0,o.jsx)(L,{className:"w-4 h-4 ml-2"})]})]})]}):(0,o.jsxs)("button",{onClick:c,className:"bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-semibold flex items-center transition-colors",children:[(0,o.jsx)(O,{className:"w-5 h-5 mr-2"}),"Complete Reading"]})})]})},F=e=>e.trim().split(/\s+/).length>6,U=e=>F(e)?(0,o.jsx)(N,{className:"w-4 h-4"}):(0,o.jsx)(j,{className:"w-4 h-4"}),H=e=>F(e)?"enhanced":"standard",V=e=>{let{exercise:t,exerciseIndex:n,exerciseAnswers:i,exerciseSubmitted:a,audioPlaying:r,isListening:s,onAnswerChange:l,onBlankAnswerChange:u,onPlayAudio:c,onStartSpeechRecognition:d}=e;if(!t||!t.items||!Array.isArray(t.items))return t.questions&&Array.isArray(t.questions)?J({exercise:t,exerciseIndex:n,exerciseAnswers:i,exerciseSubmitted:a,audioPlaying:r,isListening:s,onAnswerChange:l,onBlankAnswerChange:u,onPlayAudio:c,onStartSpeechRecognition:d}):(0,o.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,o.jsx)("p",{className:"text-yellow-800",children:"\u26a0\ufe0f Exercise data is not available or malformed"}),(0,o.jsxs)("p",{className:"text-sm text-yellow-600 mt-1",children:["Type: ",t.type||"unknown"]})]});switch(t.type){case"pronunciation_drill":return z({exercise:t,exerciseIndex:n,exerciseAnswers:i,exerciseSubmitted:a,audioPlaying:r,isListening:s,onAnswerChange:l,onBlankAnswerChange:u,onPlayAudio:c,onStartSpeechRecognition:d});case"listening_exercise":case"listening_comprehension":case"listening_repurposed":return B({exercise:t,exerciseIndex:n,exerciseAnswers:i,exerciseSubmitted:a,audioPlaying:r,isListening:s,onAnswerChange:l,onBlankAnswerChange:u,onPlayAudio:c,onStartSpeechRecognition:d});case"grammar_fill":case"written_task":return G({exercise:t,exerciseIndex:n,exerciseAnswers:i,exerciseSubmitted:a,audioPlaying:r,isListening:s,onAnswerChange:l,onBlankAnswerChange:u,onPlayAudio:c,onStartSpeechRecognition:d});case"dialogue_complete":return K({exercise:t,exerciseIndex:n,exerciseAnswers:i,exerciseSubmitted:a,audioPlaying:r,isListening:s,onAnswerChange:l,onBlankAnswerChange:u,onPlayAudio:c,onStartSpeechRecognition:d});default:return W({exercise:t,exerciseIndex:n,exerciseAnswers:i,exerciseSubmitted:a,audioPlaying:r,isListening:s,onAnswerChange:l,onBlankAnswerChange:u,onPlayAudio:c,onStartSpeechRecognition:d})}},z=e=>{let{exercise:t,exerciseIndex:n,exerciseAnswers:i,exerciseSubmitted:a,audioPlaying:r,isListening:s,onAnswerChange:l,onBlankAnswerChange:u,onPlayAudio:c,onStartSpeechRecognition:d}=e;return(0,o.jsx)("div",{className:"space-y-4",children:t.items.map((e,t)=>e&&e.text?(0,o.jsxs)("div",{className:"bg-purple-50 rounded-lg p-6 text-center border-l-4 border-purple-500",children:[(0,o.jsx)("p",{className:"text-2xl font-bold text-purple-800 mb-2",children:e.text}),(0,o.jsx)("p",{className:"text-gray-600 mb-2",children:e.translation||"Practice pronunciation"}),e.phonetic&&(0,o.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["[",e.phonetic,"]"]}),(0,o.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,o.jsxs)("button",{onClick:()=>c(e.text,"enhanced"),className:"bg-purple-500 hover:bg-purple-600 text-white px-6 py-3 rounded-lg flex items-center transition-colors",disabled:r===e.text,title:"Enhanced AI Voice for pronunciation",children:[(0,o.jsx)(N,{className:"w-4 h-4 mr-2"}),"Enhanced Audio"]}),(0,o.jsxs)("button",{onClick:()=>d(e.text),className:"px-6 py-3 rounded-lg flex items-center text-white transition-colors ".concat(s?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"),disabled:s,title:"Practice pronunciation",children:[(0,o.jsx)(P,{className:"w-4 h-4 mr-2"}),s?"Listening...":"Practice"]})]})]},t):(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,o.jsx)("p",{className:"text-red-800",children:"\u26a0\ufe0f Pronunciation exercise data is incomplete"})},t))})},B=e=>{let{exercise:t,exerciseIndex:n,exerciseAnswers:i,exerciseSubmitted:a,audioPlaying:r,isListening:s,onAnswerChange:l,onBlankAnswerChange:u,onPlayAudio:c,onStartSpeechRecognition:d}=e;return t.questions?(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[(0,o.jsx)("p",{className:"text-blue-800 font-medium",children:"\ud83c\udfa7 Listen and answer the questions below:"}),t.script_id&&(0,o.jsxs)("p",{className:"text-sm text-blue-600 mt-1",children:["Audio script: ",t.script_id]})]}),t.questions.map((e,t)=>(0,o.jsxs)("div",{className:"bg-white border rounded-lg p-4",children:[(0,o.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,o.jsx)("p",{className:"font-semibold flex-1",children:e.question}),(0,o.jsx)("button",{onClick:()=>c(e.question,H(e.question)),className:"ml-2 text-blue-500 hover:text-blue-700 p-1 rounded transition-colors",disabled:r===e.question,title:F(e.question)?"Enhanced AI Voice":"Browser Voice",children:U(e.question)})]}),(0,o.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",placeholder:"Your answer...",onChange:e=>l(n,t,e.target.value)}),a&&e.answer&&(0,o.jsx)("div",{className:"mt-3 p-3 bg-green-100 rounded",children:(0,o.jsxs)("p",{className:"text-green-800 font-semibold",children:["\u2713 Correct answer: ",e.answer]})})]},t))]}):(0,o.jsx)("div",{className:"space-y-4",children:t.items.map((e,t)=>e?(0,o.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,o.jsx)("p",{className:"text-lg flex-1",children:e.question||e.text||"Listen and respond"}),(e.question||e.text)&&(0,o.jsx)("button",{onClick:()=>c(e.question||e.text,"enhanced"),className:"text-purple-500 hover:text-purple-700 p-2 rounded transition-colors",disabled:r===(e.question||e.text),title:"Enhanced AI Voice for listening",children:(0,o.jsx)(N,{className:"w-5 h-5"})})]}),e.options?(0,o.jsx)("div",{className:"space-y-2",children:e.options.map((e,i)=>(0,o.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,o.jsx)("input",{type:"radio",name:"exercise-".concat(n,"-").concat(t),value:i,onChange:e=>l(n,t,parseInt(e.target.value))}),(0,o.jsx)("span",{children:e})]},i))}):(0,o.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",placeholder:"Your answer...",onChange:e=>l(n,t,e.target.value)}),a&&(void 0!==e.correct||e.answer)&&(0,o.jsx)("div",{className:"mt-3 p-3 bg-green-100 rounded",children:(0,o.jsxs)("p",{className:"text-green-800 font-semibold",children:["\u2713 Correct answer: ",e.options?e.options[e.correct]:e.answer]})})]},t):(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,o.jsx)("p",{className:"text-red-800",children:"\u26a0\ufe0f Listening exercise data is incomplete"})},t))})},G=e=>{let{exercise:t,exerciseIndex:n,exerciseAnswers:i,exerciseSubmitted:a,audioPlaying:r,isListening:s,onAnswerChange:l,onBlankAnswerChange:u,onPlayAudio:c,onStartSpeechRecognition:d}=e;return(0,o.jsx)("div",{className:"space-y-4",children:t.items.map((e,t)=>e?(0,o.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:e.blanks?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,o.jsx)("p",{className:"text-lg flex-1",children:e.sentence||e.prompt||"Complete the sentence"}),(e.sentence||e.prompt)&&(0,o.jsx)("button",{onClick:()=>c(e.sentence||e.prompt,H(e.sentence||e.prompt)),className:"text-blue-500 hover:text-blue-700 p-1 rounded transition-colors",disabled:r===(e.sentence||e.prompt),title:F(e.sentence||e.prompt)?"Enhanced AI Voice":"Browser Voice",children:U(e.sentence||e.prompt)})]}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:e.blanks.map((e,i)=>(0,o.jsx)("input",{type:"text",className:"border rounded px-3 py-1 text-center w-32",placeholder:"".concat(i+1),onChange:e=>u(n,t,i,e.target.value)},i))}),a&&(0,o.jsxs)("div",{className:"mt-3 p-3 bg-green-100 rounded",children:[(0,o.jsxs)("p",{className:"text-green-800 font-semibold",children:["\u2713 Correct answers: ",e.blanks.join(", ")]}),e.explanation&&(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:e.explanation})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,o.jsx)("p",{className:"font-semibold flex-1",children:e.prompt||e.question||"Question not available"}),(e.prompt||e.question)&&(0,o.jsx)("button",{onClick:()=>c(e.prompt||e.question,H(e.prompt||e.question)),className:"text-blue-500 hover:text-blue-700 p-1 rounded transition-colors",disabled:r===(e.prompt||e.question),title:F(e.prompt||e.question)?"Enhanced AI Voice":"Browser Voice",children:U(e.prompt||e.question)})]}),(0,o.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",placeholder:"Your answer...",onChange:e=>l(n,t,e.target.value)}),a&&e.answer&&(0,o.jsx)("div",{className:"mt-3 p-3 bg-green-100 rounded",children:(0,o.jsxs)("p",{className:"text-green-800 font-semibold",children:["\u2713 Correct answer: ",e.answer]})})]})},t):(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,o.jsx)("p",{className:"text-red-800",children:"\u26a0\ufe0f Written exercise data is incomplete"})},t))})},K=e=>{let{exercise:t,exerciseIndex:n,exerciseAnswers:i,exerciseSubmitted:a,audioPlaying:r,isListening:s,onAnswerChange:l,onBlankAnswerChange:u,onPlayAudio:c,onStartSpeechRecognition:d}=e;return(0,o.jsx)("div",{className:"space-y-4",children:t.items.map((e,t)=>e&&e.missing_parts?(0,o.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 border-l-4 border-green-500",children:[(0,o.jsx)("h4",{className:"font-semibold text-green-800 mb-3",children:"\ud83d\udcac Complete the dialogue:"}),(0,o.jsx)("div",{className:"space-y-3",children:e.missing_parts.map((e,i)=>(0,o.jsxs)("div",{className:"bg-white rounded p-3",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,o.jsxs)("strong",{children:[e.speaker,":"]}),(0,o.jsx)("button",{onClick:()=>c(e.text,H(e.text)),className:"text-green-600 hover:text-green-800 p-1 rounded transition-colors",disabled:r===e.text,title:F(e.text)?"Enhanced AI Voice":"Browser Voice",children:U(e.text)})]}),e.text.includes("__")?(0,o.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",placeholder:"Fill in the missing words...",onChange:e=>l(n,t,e.target.value)}):(0,o.jsx)("p",{className:"text-gray-700",children:e.text})]},i))}),e.options&&(0,o.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-blue-800 mb-2",children:"Suggested phrases:"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2",children:e.options.map((e,t)=>(0,o.jsx)("button",{className:"bg-blue-100 hover:bg-blue-200 text-blue-800 px-3 py-1 rounded text-sm transition-colors",onClick:()=>{console.log("Selected option:",e)},children:e},t))})]}),a&&e.correct&&(0,o.jsxs)("div",{className:"mt-3 p-3 bg-green-100 rounded",children:[(0,o.jsx)("p",{className:"text-green-800 font-semibold",children:"\u2713 Correct answers:"}),Array.isArray(e.correct)?(0,o.jsx)("ul",{className:"list-disc list-inside text-sm text-green-700 mt-1",children:e.correct.map((e,t)=>(0,o.jsx)("li",{children:e},t))}):(0,o.jsx)("p",{className:"text-sm text-green-700",children:e.correct})]})]},t):(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,o.jsx)("p",{className:"text-red-800",children:"\u26a0\ufe0f Dialogue exercise data is incomplete"})},t))})},J=e=>{let{exercise:t,exerciseIndex:n,exerciseAnswers:i,exerciseSubmitted:a,audioPlaying:r,isListening:s,onAnswerChange:l,onBlankAnswerChange:u,onPlayAudio:c,onStartSpeechRecognition:d}=e;return(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[(0,o.jsx)("p",{className:"text-blue-800 font-medium",children:"\ud83c\udfa7 Listen and answer:"}),t.script_id&&(0,o.jsxs)("p",{className:"text-sm text-blue-600 mt-1",children:["Audio reference: ",t.script_id]})]}),t.questions.map((e,t)=>(0,o.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,o.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,o.jsx)("p",{className:"font-semibold flex-1",children:e.question}),(0,o.jsx)("button",{onClick:()=>c(e.question,H(e.question)),className:"ml-2 text-blue-500 hover:text-blue-700 p-1 rounded transition-colors",disabled:r===e.question,title:F(e.question)?"Enhanced AI Voice":"Browser Voice",children:U(e.question)})]}),(0,o.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",placeholder:"Your answer...",onChange:e=>l(n,t,e.target.value)}),a&&e.answer&&(0,o.jsx)("div",{className:"mt-3 p-3 bg-green-100 rounded",children:(0,o.jsxs)("p",{className:"text-green-800 font-semibold",children:["\u2713 Correct answer: ",e.answer]})})]},t))]})},W=e=>{let{exercise:t,exerciseIndex:n,exerciseAnswers:i,exerciseSubmitted:a,audioPlaying:r,isListening:s,onAnswerChange:l,onBlankAnswerChange:u,onPlayAudio:c,onStartSpeechRecognition:d}=e;return(0,o.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,o.jsxs)("p",{className:"text-yellow-800 font-medium",children:["\u26a0\ufe0f Unknown exercise type: ",t.type||"undefined"]}),(0,o.jsxs)("p",{className:"text-sm text-yellow-600 mt-1",children:['This exercise type is not yet supported. Please implement a renderer for "',t.type,'".']}),t.instruction&&(0,o.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["Instructions: ",t.instruction]})]})},Y=e=>{let{lesson:t,audioScriptsData:n,exercisesCompleted:i,totalExercises:a,isAllCompleted:r,exerciseAnswers:s,exerciseSubmitted:l,audioPlaying:u,isListening:c,onAnswerChange:d,onBlankAnswerChange:p,onPlayAudio:m,onStartSpeechRecognition:f,onSubmitExercises:h,onResetExercises:g,onCompleteExercises:y,onRestartExercises:v}=e;if(null===t||void 0===t||!t.exercises||0===t.exercises.length)return(0,o.jsx)("div",{className:"bg-white rounded-3xl p-8 shadow-lg",children:(0,o.jsx)("p",{className:"text-center text-gray-500",children:"No exercises available for this lesson."})});const b=(()=>{const e={};return t.exercises.forEach(t=>{const n=t.type;e[n]=(e[n]||0)+1}),e})();return(0,o.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-3xl font-bold text-blue-600 mb-2",children:"Practice Exercises"}),(0,o.jsxs)("p",{className:"text-xl text-gray-600",children:[t.title," - ",t.subtitle]}),r&&(0,o.jsxs)("div",{className:"flex items-center mt-2 text-green-600",children:[(0,o.jsx)(O,{className:"w-5 h-5 mr-2"}),(0,o.jsx)("span",{className:"font-medium",children:"All Exercises Completed!"})]})]}),(0,o.jsxs)("div",{className:"text-right",children:[(0,o.jsxs)("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[i,"/",a]}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"exercises completed"}),(0,o.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2 mt-2",children:(0,o.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:"".concat(a>0?i/a*100:0,"%")}})})]})]}),(0,o.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"Exercise Types in this Lesson"}),(0,o.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(b).map(e=>{let[t,n]=e;const i=w[t]||"\ud83d\udcdd",a=C[t]||t;return(0,o.jsxs)("div",{className:"flex items-center space-x-2 bg-white rounded-lg p-3",children:[(0,o.jsx)("span",{className:"text-2xl",children:i}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"font-medium text-gray-800",children:a}),(0,o.jsxs)("div",{className:"text-sm text-gray-600",children:[n," exercise",1!==n?"s":""]})]})]},t)})}),(0,o.jsx)("div",{className:"mt-3 text-center",children:(0,o.jsxs)("span",{className:"text-sm text-gray-600",children:["Total: ",(()=>{const e=t.exercises.map(e=>w[e.type]||"\ud83d\udcdd");return Array.from(new Set(e)).join(" ")})()," (",t.exercises.length," exercises)"]})})]}),(0,o.jsx)("div",{className:"space-y-8",children:t.exercises.map((e,t)=>{const n=w[e.type]||"\ud83d\udcdd",i=C[e.type]||e.type;return(0,o.jsxs)("div",{className:"border rounded-xl p-6 bg-gray-50",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:t+1}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("h3",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[(0,o.jsx)("span",{className:"mr-2",children:n}),e.title]}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:i})]})]}),(0,o.jsx)("div",{className:"text-right",children:e.status&&(0,o.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs",children:e.status})})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg p-4 mb-4",children:[(0,o.jsx)("p",{className:"font-medium text-gray-800 mb-2",children:"\ud83d\udccb Instructions:"}),(0,o.jsx)("p",{className:"text-gray-700",children:e.instruction}),e.scenario&&(0,o.jsxs)("p",{className:"text-sm text-gray-600 mt-2 italic",children:["Scenario: ",e.scenario]})]}),(0,o.jsx)("div",{className:"bg-white rounded-lg p-4",children:V({exercise:e,exerciseIndex:t,exerciseAnswers:s,exerciseSubmitted:l,audioPlaying:u,isListening:c,onAnswerChange:d,onBlankAnswerChange:p,onPlayAudio:m,onStartSpeechRecognition:f})}),e.original_exercise&&(0,o.jsxs)("div",{className:"mt-3 text-xs text-gray-500",children:["Original source: ",e.original_exercise]})]},t)})}),(0,o.jsx)("div",{className:"flex justify-center space-x-4 mt-8 pt-6 border-t border-gray-200",children:r?(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"bg-green-500 text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,o.jsx)(D,{className:"w-8 h-8"})}),(0,o.jsx)("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"All Exercises Completed!"}),(0,o.jsx)("p",{className:"text-green-700 mb-4",children:"Outstanding work! You've mastered this lesson."}),(0,o.jsxs)("button",{onClick:v,className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg flex items-center mx-auto transition-colors",children:[(0,o.jsx)(M,{className:"w-4 h-4 mr-2"}),"Practice Again"]})]}):(0,o.jsx)(o.Fragment,{children:l?(0,o.jsxs)("div",{className:"flex space-x-4",children:[(0,o.jsxs)("button",{onClick:g,className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold flex items-center transition-colors",children:[(0,o.jsx)(M,{className:"w-5 h-5 mr-2"}),"Try Again"]}),(0,o.jsxs)("button",{onClick:y,className:"bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-semibold flex items-center transition-colors",children:[(0,o.jsx)(O,{className:"w-5 h-5 mr-2"}),"Complete All Exercises"]})]}):(0,o.jsxs)("button",{onClick:h,className:"bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-semibold flex items-center transition-colors",children:[(0,o.jsx)(O,{className:"w-5 h-5 mr-2"}),"Check Answers"]})})})]})},Z=h("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$=h("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var Q=n(62);const X=e=>{let{favorites:t,vocabularyData:n,audioPlaying:a,isListening:s,onPlayAudio:l,onStartSpeechRecognition:u,onRemoveFromFavorites:c,onGoToTheory:d}=e;const p="finnishApp_aiEnhancedTranslations",m=e=>e instanceof Error?e.message:"string"===typeof e?e:"Unknown error occurred",f=()=>{try{console.log("Reading AI translation cache from localStorage...");const e=localStorage.getItem(p),t=e?JSON.parse(e):{};return console.log("Cache status:",{exists:!!e,wordCount:Object.keys(t).length,sizeKB:e?Math.round(e.length/1024*100)/100:0}),t}catch(e){const t=m(e);return console.error("Error reading AI cache:",t),{}}},h=e=>{try{console.log("Checking cache for word:",e);const t=f()[e];if(t){const n=Date.now()-new Date(t.cachedAt).getTime(),i=Math.round(n/36e5*100)/100;return console.log("Found cached AI translation!",{word:e,cachedAt:t.cachedAt,ageHours:i,hasAI:!!t.ai,version:t.version}),t}return console.log("No cached translation found for:",e),null}catch(t){const n=m(t);return console.error("Error reading cached AI translation for word:",e,n),null}},y=e=>{var t,d,g,y;let{fav:v,index:b}=e;const[x,k]=(0,i.useState)(null),[_,w]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=h(v.word);e&&k(e)},[v.word]);const C=n.vocabulary[v.word];return(0,o.jsxs)("div",{className:"border rounded-xl p-6 hover:shadow-md transition-shadow",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsx)("h3",{className:"text-2xl font-bold text-blue-600",children:v.word}),(0,o.jsx)("button",{onClick:()=>l(v.word,"standard"),className:"text-blue-500 hover:text-blue-700 p-2 rounded-full hover:bg-blue-50",disabled:a===v.word,title:"Browser Voice",children:(0,o.jsx)(j,{className:"w-5 h-5"})}),(0,o.jsx)("button",{onClick:()=>u(v.word),className:"text-green-500 hover:text-green-700 p-2 rounded-full hover:bg-green-50 ".concat(s?"animate-pulse":""),disabled:s,title:"Practice pronunciation",children:(0,o.jsx)(P,{className:"w-5 h-5"})})]}),(0,o.jsx)("button",{onClick:()=>c(v.word),className:"text-red-500 hover:text-red-700 p-2 rounded-full hover:bg-red-50",title:"Remove from favorites",children:(0,o.jsx)(Z,{className:"w-5 h-5"})})]}),(0,o.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[(0,o.jsx)("h4",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Basic Translation"}),(0,o.jsx)("p",{className:"text-gray-700 text-lg",children:"string"===typeof v.translation?v.translation:(null===(t=v.translation)||void 0===t?void 0:t.russian)||(null===(d=v.translation)||void 0===d?void 0:d.baseForm)||"Translation not available"})]}),C&&(0,o.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 mb-4",children:[(0,o.jsx)("h4",{className:"text-lg font-semibold text-green-800 mb-2",children:"\ud83d\udcda Vocabulary Details"}),(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("p",{className:"text-gray-700",children:[(0,o.jsx)("strong",{children:"Grammar:"})," ",C.grammarInfo]}),C.pronunciation&&(0,o.jsxs)("p",{className:"text-gray-700",children:[(0,o.jsx)("strong",{children:"Pronunciation:"})," ",C.pronunciation]}),C.examples&&C.examples.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-medium text-green-700 mb-1",children:"Examples:"}),(0,o.jsx)("ul",{className:"list-disc list-inside text-sm text-gray-600 space-y-1",children:C.examples.map((e,t)=>(0,o.jsx)("li",{children:e},t))})]}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3",children:[C.sourceChapter&&(0,o.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:["\ud83d\udcda Ch. ",C.sourceChapter]}),C.frequency&&(0,o.jsxs)("span",{className:"px-2 py-1 rounded text-xs ".concat("high"===C.frequency?"bg-green-100 text-green-800":"medium"===C.frequency?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:["\ud83d\udcca ",C.frequency]}),C.difficulty&&(0,o.jsxs)("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs",children:["\ud83c\udfaf ",C.difficulty]})]}),C.tags&&C.tags.length>0&&(0,o.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:C.tags.map((e,t)=>(0,o.jsx)("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs",children:e},t))})]})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("button",{onClick:async()=>{console.log("Starting AI analysis for word:",v.word);const e=h(v.word);if(e)return console.log("Using cached data, skipping API call"),void k(e);console.log("No cache found, making API request to Google Gemini..."),w(!0);try{var t,n;const e="string"===typeof v.translation?v.translation:(null===(t=v.translation)||void 0===t?void 0:t.russian)||(null===(n=v.translation)||void 0===n?void 0:n.baseForm)||"",i=await(0,Q.enhanceTranslationWithAI)(v.word,e);console.log("Received AI enhancement response:",{word:v.word,enhanced:null===i||void 0===i?void 0:i.enhanced,hasAI:!(null===i||void 0===i||!i.ai),hasError:!(null===i||void 0===i||!i.error)}),i&&i.enhanced?(console.log("Attempting to cache successful AI enhancement..."),((e,t)=>{try{console.log("Attempting to cache AI translation for word:",e);const n=f(),i=Object.keys(n).length;n[e]=(0,r.A)((0,r.A)({},t),{},{cachedAt:(new Date).toISOString(),version:"1.0"});const a=JSON.stringify(n);localStorage.setItem(p,a);const o=Object.keys(n).length,s=Math.round(a.length/1024*100)/100;console.log("Successfully cached AI translation!",{word:e,beforeCount:i,afterCount:o,isNewEntry:i<o,totalCacheSizeKB:s,timestamp:(new Date).toLocaleTimeString()})}catch(n){const t=m(n);console.error("Error updating AI cache for word:",e,t)}})(v.word,i),k(i)):(console.log("AI enhancement failed or incomplete, not caching"),k(i))}catch(i){const e=m(i);console.error("AI enhancement request failed:",e),k({base:v.translation,ai:null,enhanced:!1,error:"Enhancement failed: "+e})}finally{w(!1),console.log("AI analysis process completed for word:",v.word)}},disabled:_,className:"px-4 py-2 rounded-lg flex items-center transition-colors ".concat(x?"bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 text-white":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white"),children:_?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Analyzing with Google AI..."]}):x?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)($,{className:"w-4 h-4 mr-2 fill-current"}),"AI Enhanced (Cached)"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)($,{className:"w-4 h-4 mr-2"}),"Enhance with Google AI"]})}),x&&x.cachedAt&&(0,o.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Cached ",new Date(x.cachedAt).toLocaleDateString()]})]}),(null===x||void 0===x?void 0:x.ai)&&(0,o.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 mb-4",children:[(0,o.jsxs)("h4",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[(0,o.jsx)($,{className:"w-5 h-5 mr-2"}),"Google AI Analysis",x.cachedAt&&(0,o.jsx)("span",{className:"ml-2 text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Cached"})]}),(0,o.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,o.jsxs)("div",{className:"bg-white rounded p-3",children:[(0,o.jsx)("h5",{className:"font-medium text-blue-700 mb-2",children:"Grammar"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Part of Speech:"})," ",(null===(g=x.ai.grammaticalInfo)||void 0===g?void 0:g.partOfSpeech)||"Unknown"]}),(null===(y=x.ai.grammaticalInfo)||void 0===y?void 0:y.case)&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Case:"})," ",x.ai.grammaticalInfo.case]})]}),(0,o.jsxs)("div",{className:"bg-white rounded p-3",children:[(0,o.jsx)("h5",{className:"font-medium text-blue-700 mb-2",children:"Learning Info"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Difficulty:"})," ",x.ai.difficulty]}),x.ai.pronunciation&&(0,o.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[(0,o.jsx)("strong",{children:"Pronunciation:"})," ",x.ai.pronunciation]})]})]}),x.ai.examples&&x.ai.examples.length>0&&(0,o.jsxs)("div",{className:"bg-white rounded p-3 mb-4",children:[(0,o.jsx)("h5",{className:"font-medium text-blue-700 mb-2",children:"Usage Examples"}),x.ai.examples.map((e,t)=>(0,o.jsx)("div",{className:"mb-2 p-2 bg-gray-50 rounded",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"text-gray-800",children:e.finnish}),(0,o.jsx)("p",{className:"text-sm text-gray-600 italic",children:e.english})]}),(0,o.jsx)("button",{onClick:()=>l(e.finnish,"standard"),className:"text-blue-500 hover:text-blue-700 p-1 rounded",title:"Browser Voice",children:(0,o.jsx)(j,{className:"w-4 h-4"})})]})},t))]}),x.ai.usageNotes&&"No usage notes available"!==x.ai.usageNotes&&"Analysis temporarily unavailable"!==x.ai.usageNotes&&(0,o.jsxs)("div",{className:"bg-white rounded p-3",children:[(0,o.jsx)("h5",{className:"font-medium text-blue-700 mb-2",children:"Usage Notes"}),(0,o.jsx)("p",{className:"text-sm text-gray-700",children:x.ai.usageNotes})]})]}),(null===x||void 0===x?void 0:x.error)&&(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:(0,o.jsxs)("p",{className:"text-red-800",children:["AI Analysis failed: ",x.error]})}),(0,o.jsxs)("div",{className:"mt-4 text-sm text-gray-500 text-right",children:["Added ",v.addedAt?new Date(v.addedAt).toLocaleDateString():"recently"]})]})};return(0,o.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-lg",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-3xl font-bold text-red-600 mb-2",children:"Your Favorite Words"}),(0,o.jsx)("p",{className:"text-xl text-gray-600",children:"Saved vocabulary with detailed analysis"})]}),(0,o.jsx)("div",{className:"bg-red-100 rounded-full w-16 h-16 flex items-center justify-center",children:(0,o.jsx)(g,{className:"w-8 h-8 text-red-600"})})]}),0===t.length?(0,o.jsxs)("div",{className:"text-center py-16",children:[(0,o.jsx)(g,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),(0,o.jsx)("h3",{className:"text-2xl font-semibold text-gray-500 mb-4",children:"No favorites yet"}),(0,o.jsx)("p",{className:"text-gray-400 mb-6",children:"Click on words in lessons or use the heart button to save them here!"}),(0,o.jsx)("button",{onClick:d,className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg",children:"Start Learning"})]}):(0,o.jsx)("div",{className:"space-y-6",children:t.map((e,t)=>(0,o.jsx)(y,{fav:e,index:t},"".concat(e.word,"-").concat(t)))})]})},ee=(0,i.forwardRef)((e,t)=>{var n,i,a;let{show:r,selectedText:s,position:l,translations:u,onClose:c,onAddToFavorites:d,onPlayAudio:p,onStartSpeechRecognition:m,onEnhanceTranslation:f}=e;if(!r)return null;const h=u[s],y=e=>"string"===typeof e?e:e&&"object"===typeof e?e.russian||e.baseForm||"Translation available":"Translation not found. Click to enhance with AI!";return(0,o.jsxs)("div",{ref:t,className:"fixed bg-black text-white p-4 rounded-lg shadow-xl z-50 max-w-sm",style:{left:Math.min(l.x-150,window.innerWidth-300),top:Math.max(l.y-10,10)},children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,o.jsx)("span",{className:"font-bold text-lg",children:s}),(0,o.jsx)("button",{onClick:c,className:"text-gray-300 hover:text-white transition-colors",children:(0,o.jsx)(Z,{className:"w-5 h-5"})})]}),null!==h&&void 0!==h&&h.enhanced?(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("div",{className:"text-sm",children:[(0,o.jsx)("p",{className:"font-semibold text-blue-300",children:"Primary Translation:"}),(0,o.jsx)("p",{children:y(h.enhanced.baseTranslation)})]}),(null===(n=h.enhanced.alternativeTranslations)||void 0===n?void 0:n.length)>0&&(0,o.jsxs)("div",{className:"text-sm",children:[(0,o.jsx)("p",{className:"font-semibold text-green-300",children:"Alternatives:"}),(0,o.jsx)("p",{children:Array.isArray(h.enhanced.alternativeTranslations)?h.enhanced.alternativeTranslations.join(", "):String(h.enhanced.alternativeTranslations)})]}),(0,o.jsxs)("div",{className:"text-sm",children:[(0,o.jsx)("p",{className:"font-semibold text-yellow-300",children:"Grammar:"}),(0,o.jsx)("p",{children:String((null===(i=h.enhanced.grammaticalInfo)||void 0===i?void 0:i.partOfSpeech)||"Unknown")}),(null===(a=h.enhanced.grammaticalInfo)||void 0===a?void 0:a.case)&&(0,o.jsxs)("p",{children:["Case: ",String(h.enhanced.grammaticalInfo.case)]})]}),h.enhanced.frequency&&(0,o.jsx)("div",{className:"text-xs",children:(0,o.jsx)("span",{className:"px-2 py-1 rounded ".concat("common"===h.enhanced.frequency?"bg-green-600":"uncommon"===h.enhanced.frequency?"bg-yellow-600":"bg-red-600"),children:String(h.enhanced.frequency)})})]}):(0,o.jsx)("div",{className:"text-sm whitespace-pre-line mb-3 leading-relaxed",children:(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"font-semibold text-blue-300",children:"Translation: "}),(0,o.jsx)("span",{children:y(h)})]}),h&&"object"===typeof h&&(0,o.jsxs)(o.Fragment,{children:[h.grammarInfo&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"font-semibold text-yellow-300",children:"Grammar: "}),(0,o.jsx)("span",{className:"text-xs",children:String(h.grammarInfo)})]}),h.pronunciation&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"font-semibold text-green-300",children:"Pronunciation: "}),(0,o.jsx)("span",{className:"text-xs",children:String(h.pronunciation)})]}),h.examples&&Array.isArray(h.examples)&&h.examples.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"font-semibold text-purple-300",children:"Example: "}),(0,o.jsx)("span",{className:"text-xs italic",children:String(h.examples[0])})]})]})]})}),(0,o.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,o.jsxs)("button",{onClick:()=>{d(s,y(h)),c()},className:"text-red-400 hover:text-red-300 flex items-center transition-colors",children:[(0,o.jsx)(g,{className:"w-4 h-4 mr-1"}),"Favorite"]}),(0,o.jsxs)("button",{onClick:()=>p(s,"standard"),className:"text-blue-400 hover:text-blue-300 flex items-center transition-colors",children:[(0,o.jsx)(j,{className:"w-4 h-4 mr-1"}),"Listen"]}),(0,o.jsxs)("button",{onClick:()=>p(s,"enhanced"),className:"text-purple-400 hover:text-purple-300 flex items-center transition-colors",children:[(0,o.jsx)(N,{className:"w-4 h-4 mr-1"}),"AI Voice"]}),(0,o.jsxs)("button",{onClick:()=>m(s),className:"text-green-400 hover:text-green-300 flex items-center transition-colors",children:[(0,o.jsx)(P,{className:"w-4 h-4 mr-1"}),"Practice"]})]}),!(null!==h&&void 0!==h&&h.enhanced)&&(0,o.jsxs)("button",{onClick:()=>f(s),className:"w-full mt-2 bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded text-sm flex items-center justify-center",children:[(0,o.jsx)(N,{className:"w-3 h-3 mr-1"}),"Enhance with AI"]}),(0,o.jsx)("div",{className:"text-xs text-gray-400 mt-2 text-center",children:"Press ESC or click outside to close"})]})});ee.displayName="Tooltip";const te=ee,ne=JSON.parse('{"metadata":{"source":"Suomen Mestari 1","version":"2.0","lastUpdated":"2025-06-29","totalChapters":9,"difficultyLevel":"A1"},"chapters":[{"id":1,"title":"Hei ja tervetuloa!","subtitle":"\u041f\u0440\u0438\u0432\u0435\u0442 \u0438 \u0434\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!","pageNumbers":"10-27","difficulty":"A1","estimatedHours":3,"lessons":[{"id":"1.1","title":"First Encounters & Basic Greetings","subtitle":"\u041f\u0435\u0440\u0432\u044b\u0435 \u0432\u0441\u0442\u0440\u0435\u0447\u0438 \u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f","estimatedMinutes":30,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":4},"theory":{"sections":[{"title":"Tervehdykset ja esitt\xe4ytyminen","subtitle":"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0438 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435","content":"Suomessa tervehdykset ovat t\xe4rkeit\xe4. Perusmuodot ovat \'Hei\', \'Moi\', \'Terve\' ep\xe4muodollisesti ja \'Hyv\xe4\xe4 p\xe4iv\xe4\xe4\' muodollisesti.","grammar":[{"rule":"Kysymys \'Mik\xe4 sinun nimi on?\'","explanation":"Nimen kysyminen ja kertominen on ensimm\xe4inen askel tutustumisessa.","examples":["Mik\xe4 sinun nimi on?","Minun nimi on Alex.","Kuka sin\xe4 olet?"]}]},{"title":"Aakkoset ja numerot","subtitle":"\u0410\u043b\u0444\u0430\u0432\u0438\u0442 \u0438 \u0447\u0438\u0441\u043b\u0430","content":"Suomen aakkoset ja perusnumerot 0-20. T\xe4rke\xe4\xe4 oppia \xe4\xe4nt\xe4m\xe4\xe4n oikein.","grammar":[{"rule":"Numerot 0-20","explanation":"Perusnumerot jokap\xe4iv\xe4iseen k\xe4ytt\xf6\xf6n.","examples":["yksi, kaksi, kolme","nolla, kymmenen, kaksikymment\xe4"]}]}]},"reading":{"title":"Ensimm\xe4inen p\xe4iv\xe4 kurssilla","subtitle":"\u041f\u0435\u0440\u0432\u044b\u0439 \u0434\u0435\u043d\u044c \u043d\u0430 \u043a\u0443\u0440\u0441\u0430\u0445","description":"Alex, Olga ja Pedro tapaavat ensimm\xe4ist\xe4 kertaa suomen kurssilla ja esittelev\xe4t itsens\xe4.","dialogue_id":"dialogue_ch1","audio_type":"enhanced","preferredTTS":"enhanced"},"exercises":[{"type":"dialogue_complete","original_exercise":"Harjoitus 8","title":"Complete the Introductions","instruction":"T\xe4ydenn\xe4 keskustelut sopivilla sanoilla.","items":[{"id":"ex8_dc1","missing_parts":[{"speaker":"A","text":"Hei, ___ sinun nimi on?"},{"speaker":"B","text":"Minun nimi on Laura. ___ sin\xe4 olet?"}],"options":["mik\xe4","kuka"],"correct":["mik\xe4","Kuka"]}]},{"type":"pronunciation_practice","original_exercise":"Harjoitus 1","title":"Alphabet Practice","instruction":"Harjoittele aakkosten \xe4\xe4nt\xe4mist\xe4.","audio_type":"enhanced","items":[{"id":"ex1_pronunciation","script_id":"alphabet_practice","text":"a, b, c, d, e, f, g"}]},{"type":"written_task","original_exercise":"Harjoitus 12","title":"Numbers 1-20","instruction":"Kirjoita numerot sanoina.","items":[{"id":"ex12_wt1","prompt":"5 = ___","answer":"viisi"},{"id":"ex12_wt2","prompt":"13 = ___","answer":"kolmetoista"}]},{"type":"listening_repurposed","original_exercise":"Harjoitus 15","title":"Classroom Questions","instruction":"Kuuntele kysymykset ja vastaa.","script_id":"classroom_questions","questions":[{"id":"ex15_q1","question":"Mit\xe4 opettaja kysyy?","answer":"Mik\xe4 sinun nimi on?"}]}]},{"id":"1.2","title":"The Building Blocks","subtitle":"\u041e\u0441\u043d\u043e\u0432\u044b: \u0430\u043b\u0444\u0430\u0432\u0438\u0442 \u0438 \u0447\u0438\u0441\u043b\u0430","estimatedMinutes":25,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":3},"theory":{"sections":[{"title":"Vokaalien harmonia","subtitle":"\u0413\u0430\u0440\u043c\u043e\u043d\u0438\u044f \u0433\u043b\u0430\u0441\u043d\u044b\u0445","content":"Suomen kieless\xe4 on etuvokaalit (\xe4, \xf6, y) ja takavokaalit (a, o, u). Ne eiv\xe4t esiinny samassa sanassa.","grammar":[{"rule":"Etuvokaalit: \xe4, \xf6, y","explanation":"K\xe4ytet\xe4\xe4n sanoissa kuten \'kyl\xe4\', \'\xf6ljy\'","examples":["kyl\xe4","\xf6ljy","y\xf6"]},{"rule":"Takavokaalit: a, o, u","explanation":"K\xe4ytet\xe4\xe4n sanoissa kuten \'katu\', \'auto\'","examples":["katu","auto","kuva"]}]}]},"reading":{"title":"Aakkosten maailma","subtitle":"\u041c\u0438\u0440 \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0430","description":"Tutustuminen suomen aakkosiin ja niiden \xe4\xe4nt\xe4miseen.","dialogue_id":"alphabet_world","audio_type":"enhanced","preferredTTS":"enhanced"},"exercises":[{"type":"vowel_harmony","original_exercise":"Harjoitus 18","title":"Vowel Harmony Practice","instruction":"Valitse oikeat vokaalit sanan mukaan.","items":[{"id":"ex18_vh1","word":"k_t_","options":["a,u","\xe4,y"],"correct":"a,u","result":"katu"}]},{"type":"pronunciation_practice","original_exercise":"Harjoitus 20","title":"Difficult Sounds","instruction":"Harjoittele vaikeita \xe4\xe4nteit\xe4.","audio_type":"enhanced","items":[{"id":"ex20_pronunciation","script_id":"difficult_sounds","text":"\xe4, \xf6, y, ng, nk"}]},{"type":"written_task","original_exercise":"Harjoitus 22","title":"Word Building","instruction":"Rakenna sanoja annetuista kirjaimista.","items":[{"id":"ex22_wt1","prompt":"k, a, t, u \u2192 ___","answer":"katu"}]}]}]},{"id":2,"title":"Mink\xe4maalainen sin\xe4 olet?","subtitle":"\u041a\u0430\u043a\u043e\u0439 \u0442\u044b \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438?","pageNumbers":"28-55","difficulty":"A1","estimatedHours":4,"lessons":[{"id":"2.1","title":"Nationalities and Languages","subtitle":"\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u044f\u0437\u044b\u043a\u0438","estimatedMinutes":40,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":4},"theory":{"sections":[{"title":"Kansalaisuudet ja kielet","subtitle":"\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u044f\u0437\u044b\u043a\u0438","content":"\u0414\u043b\u044f \u043e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u0443\u0444\u0444\u0438\u043a\u0441 -lainen/-l\xe4inen. \u0412\u043e\u043f\u0440\u043e\u0441\u044b \'Mist\xe4 sin\xe4 olet kotoisin?\' (\u041e\u0442\u043a\u0443\u0434\u0430 \u0442\u044b \u0440\u043e\u0434\u043e\u043c?) \u0438 \'Mit\xe4 kielt\xe4 sin\xe4 puhut?\' (\u041d\u0430 \u043a\u0430\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 \u0442\u044b \u0433\u043e\u0432\u043e\u0440\u0438\u0448\u044c?) \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c\u0438 \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u044b.","grammar":[{"rule":"\u0421\u0443\u0444\u0444\u0438\u043a\u0441 -lainen/-l\xe4inen","explanation":"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0435\u0439 \u043e\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0439 \u0441\u0442\u0440\u0430\u043d","examples":["Suomi \u2192 suomalainen","Ven\xe4j\xe4 \u2192 ven\xe4l\xe4inen"]}]},{"title":"k-p-t-vaihtelu (Nominien)","subtitle":"\u0427\u0435\u0440\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u044b\u0445 k-p-t (\u0432 \u0438\u043c\u0435\u043d\u0430\u0445)","content":"\u0427\u0435\u0440\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u044b\u0445 k, p, t \u2014 \u0432\u0430\u0436\u043d\u043e\u0435 \u0444\u043e\u043d\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u044f\u0432\u043b\u0435\u043d\u0438\u0435. \u0421\u0438\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0443\u043f\u0435\u043d\u044c \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432 \u0438\u043c\u0435\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u043c \u043f\u0430\u0434\u0435\u0436\u0435, \u0430 \u0441\u043b\u0430\u0431\u0430\u044f \u0441\u0442\u0443\u043f\u0435\u043d\u044c \u2014 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043c\u043d\u043e\u0433\u0438\u0445 \u043f\u0430\u0434\u0435\u0436\u043d\u044b\u0445 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0439.","grammar":[{"rule":"\u0421\u0438\u043b\u044c\u043d\u0430\u044f \u2192 \u0441\u043b\u0430\u0431\u0430\u044f \u0441\u0442\u0443\u043f\u0435\u043d\u044c","explanation":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0447\u0435\u0440\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f: kk \u2192 k, p \u2192 v, t \u2192 d","examples":["Turkki \u2192 Turkissa","Eurooppa \u2192 Euroopassa"]}]}]},"reading":{"title":"Kurssin j\xe4lkeen","subtitle":"\u041f\u043e\u0441\u043b\u0435 \u043a\u0443\u0440\u0441\u043e\u0432","description":"\u0410\u043b\u0435\u043a\u0441, \u041e\u043b\u044c\u0433\u0430 \u0438 \u041f\u0435\u0434\u0440\u043e \u0438\u0434\u0443\u0442 \u0432 \u043a\u0438\u043e\u0441\u043a \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u0439 \u0438 \u0433\u043e\u0432\u043e\u0440\u044f\u0442 \u043e \u0441\u0432\u043e\u0438\u0445 \u0441\u0442\u0440\u0430\u043d\u0430\u0445 \u0438 \u044f\u0437\u044b\u043a\u0430\u0445.","dialogue_id":"dialogue_ch2","audio_type":"enhanced","preferredTTS":"enhanced"},"exercises":[{"type":"listening_exercise","original_exercise":"Harjoitus 3","title":"Consonant Pronunciation","status":"skipped_missing_audio_text","instruction":"This exercise requires an external audio file to distinguish between short and long consonants."},{"type":"grammar_fill","original_exercise":"Harjoitus 5","title":"k-p-t-vaihtelu","instruction":"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0447\u0435\u0440\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u044b\u0445.","items":[{"id":"ex5_kpt1","sentence":"Turkki + ssa = ___","blanks":["Turkissa"],"options":["Turkkissa","Turkissa"]}]},{"type":"written_task","original_exercise":"Harjoitus 13","title":"Countries and Nationalities","instruction":"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0438, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0443\u044e \u0444\u043e\u0440\u043c\u0443 \u0441\u0442\u0440\u0430\u043d\u044b, \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438\u043b\u0438 \u044f\u0437\u044b\u043a\u0430.","items":[{"id":"ex13_i1","prompt":"Laura on kotoisin Roomasta, Italiasta. H\xe4n on ___ ja h\xe4n puhuu ___.","answer":"italialainen, italiaa"}]},{"type":"listening_comprehension","original_exercise":"Harjoitus 10 (adapted)","title":"Dialogue Comprehension","instruction":"\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u0434\u0438\u0430\u043b\u043e\u0433 \u0443\u0440\u043e\u043a\u0430 \u0438 \u043e\u0442\u0432\u0435\u0442\u044c\u0442\u0435 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b.","items":[{"id":"ex10_lc1","text_id":"dialogue_ch2","question":"Miksi Olga ei osta j\xe4\xe4tel\xf6\xe4?","options":["H\xe4n ei pid\xe4 j\xe4\xe4tel\xf6st\xe4.","H\xe4n s\xe4\xe4st\xe4\xe4 rahaa.","Kioski on kiinni."],"correct":"H\xe4n s\xe4\xe4st\xe4\xe4 rahaa.","translation":"\u041f\u043e\u0447\u0435\u043c\u0443 \u041e\u043b\u044c\u0433\u0430 \u043d\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0435\u0442 \u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e\u0435?"}]}]},{"id":"2.2","title":"Puhutaan! At the Ice Cream Kiosk","subtitle":"\u0420\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u043d\u044b\u0439! \u0412 \u043a\u0438\u043e\u0441\u043a\u0435 \u0441 \u043c\u043e\u0440\u043e\u0436\u0435\u043d\u044b\u043c","estimatedMinutes":20,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":1},"theory":{"sections":[{"title":"Puhekielen numerot ja ostosfraasit","subtitle":"\u0420\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u043d\u044b\u0435 \u0447\u0438\u0441\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0438 \u0444\u0440\u0430\u0437\u044b \u0434\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043e\u043a","content":"\u0412 \u0440\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u043d\u043e\u0439 \u0440\u0435\u0447\u0438 \u0447\u0438\u0441\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0447\u0430\u0441\u0442\u043e \u0441\u043e\u043a\u0440\u0430\u0449\u0430\u044e\u0442\u0441\u044f (yksi \u2192 yks, kaksi \u2192 kaks). \u041f\u0440\u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0444\u0440\u0430\u0437\u044b \u0434\u043b\u044f \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u043e \u0446\u0435\u043d\u0435 \u0438 \u043e\u043f\u043b\u0430\u0442\u044b.","grammar":[{"rule":"\u0420\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u043d\u044b\u0435 \u0447\u0438\u0441\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435","explanation":"\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044b\u0435 \u0444\u043e\u0440\u043c\u044b \u0432 \u043d\u0435\u0444\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0439 \u0440\u0435\u0447\u0438","examples":["yksi \u2192 yks","kaksi \u2192 kaks","kolme \u2192 kolme"]}]}]},"reading":{"title":"J\xe4tskikiskalla","subtitle":"\u0412 \u043a\u0438\u043e\u0441\u043a\u0435 \u0441 \u043c\u043e\u0440\u043e\u0436\u0435\u043d\u044b\u043c","description":"\u041f\u0435\u0434\u0440\u043e \u0438 \u0410\u043b\u0435\u043a\u0441 \u043f\u043e\u043a\u0443\u043f\u0430\u044e\u0442 \u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e\u0435, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0440\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u043d\u044b\u0439 \u0444\u0438\u043d\u0441\u043a\u0438\u0439.","dialogue_id":"dialogue_ch2_puhekieli","audio_type":"standard","preferredTTS":"standard"},"exercises":[{"type":"listening_repurposed","original_exercise":"Harjoitus 30 (Puhutaan!)","title":"Price Check","instruction":"Listen to the dialogue and answer the question.","script_id":"script_ex30","questions":[{"id":"ex30_q1","question":"Mit\xe4 bussi maksaa?","answer":"2 euroa"}]}]}]},{"id":3,"title":"Pedro soittaa Mikolle","subtitle":"\u041f\u0435\u0434\u0440\u043e \u0437\u0432\u043e\u043d\u0438\u0442 \u041c\u0438\u043a\u043a\u043e","pageNumbers":"56-85","difficulty":"A1","estimatedHours":4,"lessons":[{"id":"3.1","title":"Talking about Weather, Time, and Friends","subtitle":"\u0413\u043e\u0432\u043e\u0440\u0438\u043c \u043e \u043f\u043e\u0433\u043e\u0434\u0435, \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0438 \u0434\u0440\u0443\u0437\u044c\u044f\u0445","estimatedMinutes":45,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":4},"theory":{"sections":[{"title":"S\xe4\xe4, vuodenajat ja kuukaudet","subtitle":"\u041f\u043e\u0433\u043e\u0434\u0430, \u0432\u0440\u0435\u043c\u0435\u043d\u0430 \u0433\u043e\u0434\u0430 \u0438 \u043c\u0435\u0441\u044f\u0446\u044b","content":"\u0412 \u044d\u0442\u043e\u043c \u0443\u0440\u043e\u043a\u0435 \u0438\u0437\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u043b\u0435\u043a\u0441\u0438\u043a\u0430 \u0434\u043b\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043f\u043e\u0433\u043e\u0434\u044b (aurinko paistaa, sataa, on kylm\xe4), \u0432\u0440\u0435\u043c\u0435\u043d \u0433\u043e\u0434\u0430 (kes\xe4, talvi), \u043c\u0435\u0441\u044f\u0446\u0435\u0432 \u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0441\u0443\u0442\u043e\u043a.","grammar":[{"rule":"\u041f\u043e\u0433\u043e\u0434\u043d\u044b\u0435 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f","explanation":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0440\u0430\u0437\u044b \u0434\u043b\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043f\u043e\u0433\u043e\u0434\u044b","examples":["Aurinko paistaa","Sataa vett\xe4","On kylm\xe4"]}]},{"title":"Genetiivi ja t-monikko","subtitle":"\u0413\u0435\u043d\u0435\u0442\u0438\u0432 \u0438 \u043c\u043d. \u0447\u0438\u0441\u043b\u043e \u043d\u0430 -t","content":"\u0413\u0435\u043d\u0435\u0442\u0438\u0432 (\u043f\u0440\u0438\u0442\u044f\u0436\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0434\u0435\u0436) \u043e\u0431\u0440\u0430\u0437\u0443\u0435\u0442\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f -n \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0438. \u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u0438\u043c\u0435\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0430\u0434\u0435\u0436\u0430 \u043e\u0431\u0440\u0430\u0437\u0443\u0435\u0442\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f -t.","grammar":[{"rule":"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0433\u0435\u043d\u0435\u0442\u0438\u0432\u0430","explanation":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441 \'Kenen?\' (\u0427\u0435\u0439?)","examples":["Pedro \u2192 Pedron","Helsinki \u2192 Helsingin"]},{"rule":"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u043d. \u0447\u0438\u0441\u043b\u0430 \u043d\u0430 -t","explanation":"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a \u043e\u0441\u043d\u043e\u0432\u0435 \u0441\u043b\u043e\u0432\u0430","examples":["yst\xe4v\xe4 \u2192 yst\xe4v\xe4t","kirja \u2192 kirjat"]}]}]},"reading":{"title":"Videopuhelu Brasiliaan","subtitle":"\u0412\u0438\u0434\u0435\u043e\u0437\u0432\u043e\u043d\u043e\u043a \u0432 \u0411\u0440\u0430\u0437\u0438\u043b\u0438\u044e","description":"\u041f\u0435\u0434\u0440\u043e, \u043d\u0430\u0445\u043e\u0434\u044f\u0441\u044c \u0432 \u0424\u0438\u043d\u043b\u044f\u043d\u0434\u0438\u0438, \u0437\u0432\u043e\u043d\u0438\u0442 \u0441\u0432\u043e\u0435\u043c\u0443 \u0434\u0440\u0443\u0433\u0443 \u041c\u0438\u043a\u043a\u043e, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0436\u0438\u0432\u0435\u0442 \u0432 \u0411\u0440\u0430\u0437\u0438\u043b\u0438\u0438. \u041e\u043d\u0438 \u043e\u0431\u0441\u0443\u0436\u0434\u0430\u044e\u0442 \u043f\u043e\u0433\u043e\u0434\u0443, \u0432\u0440\u0435\u043c\u0435\u043d\u0430 \u0433\u043e\u0434\u0430 \u0438 \u043d\u043e\u0432\u043e\u0441\u0442\u0438.","dialogue_id":"dialogue_ch3","audio_type":"enhanced","preferredTTS":"enhanced"},"exercises":[{"type":"listening_repurposed","original_exercise":"Harjoitus 14","title":"Weather Report","instruction":"Listen to the weather report and answer the questions.","script_id":"script_ex14","questions":[{"id":"ex14_q1","question":"What city is the weather report for?","answer":"Tokio"}]},{"type":"grammar_fill","original_exercise":"Harjoitus 16","title":"Genetiivi","instruction":"\u041f\u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u043b\u043e\u0432\u043e \u0432 \u0433\u0435\u043d\u0435\u0442\u0438\u0432 (\u043f\u0440\u0438\u0442\u044f\u0436\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0434\u0435\u0436).","items":[{"id":"ex16_gf1","sentence":"opiskelija \u2192 ___ sanakirja","blanks":["opiskelijan"],"options":["opiskelijan","opiskelijat"]}]},{"type":"written_task","original_exercise":"Harjoitus 19","title":"t-monikko","instruction":"\u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u0443\u0439\u0442\u0435 \u0441\u043b\u043e\u0432\u0430 \u0438\u0437 \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0432\u043e \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435.","items":[{"id":"ex19_wt1","prompt":"kurssi \u2192 ___","answer":"kurssit"}]},{"type":"grammar_fill","original_exercise":"Harjoitus 25","title":"k-p-t verbit","instruction":"\u041f\u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0433\u043b\u0430\u0433\u043e\u043b \u0432 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0443\u044e \u0444\u043e\u0440\u043c\u0443.","items":[{"id":"ex25_gf1","sentence":"Aamulla min\xe4 ___ (NEG.) pitk\xe4\xe4n. (nukkua)","blanks":["en nuku"],"options":["en nukun","en nuku"]}]}]},{"id":"3.2","title":"Puhutaan! Enrolling in a Course","subtitle":"\u0420\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u043d\u044b\u0439! \u0417\u0430\u043f\u0438\u0441\u044c \u043d\u0430 \u043a\u0443\u0440\u0441","estimatedMinutes":20,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":1},"theory":{"sections":[{"title":"Avun pyyt\xe4minen","subtitle":"\u041f\u0440\u043e\u0441\u044c\u0431\u0430 \u043e \u043f\u043e\u043c\u043e\u0449\u0438","content":"\u0418\u0437\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0445 \u0444\u0440\u0430\u0437 \u0434\u043b\u044f \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0439, \u043a\u043e\u0433\u0434\u0430 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u0430 \u043f\u043e\u043c\u043e\u0449\u044c \u0438\u043b\u0438 \u0440\u0430\u0437\u044a\u044f\u0441\u043d\u0435\u043d\u0438\u0435.","grammar":[{"rule":"\u0424\u0440\u0430\u0437\u044b \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u044c\u0431\u044b \u043e \u043f\u043e\u043c\u043e\u0449\u0438","explanation":"\u0412\u0435\u0436\u043b\u0438\u0432\u044b\u0435 \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u043f\u043e\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u043e\u043c\u043e\u0449\u044c","examples":["Voitko auttaa minua?","Anteeksi, voisitko...?"]}]}]},"reading":{"title":"Pedro ilmoittautuu kurssille","subtitle":"\u041f\u0435\u0434\u0440\u043e \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u043a\u0443\u0440\u0441","description":"\u041f\u0435\u0434\u0440\u043e \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u0432 \u043e\u0444\u0438\u0441 \u0443\u0447\u0435\u0431\u043d\u043e\u0433\u043e \u0446\u0435\u043d\u0442\u0440\u0430, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u043a\u0443\u0440\u0441\u0430 \u0444\u0438\u043d\u0441\u043a\u043e\u0433\u043e \u044f\u0437\u044b\u043a\u0430.","dialogue_id":"dialogue_ch3_puhekieli","audio_type":"standard","preferredTTS":"standard"},"exercises":[{"type":"dialogue_complete","original_exercise":"Harjoitus 26","title":"Asking for Help","instruction":"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0438 \u0432 \u0434\u0438\u0430\u043b\u043e\u0433\u0435.","scenario":"A person doesn\'t understand a Finnish word.","items":[{"id":"ex26_dc1","missing_parts":[{"speaker":"A","text":"Anteeksi, __ __ __ v\xe4h\xe4n?"},{"speaker":"B","text":"Totta kai. Miten?"},{"speaker":"A","text":"___ ___ \'Yksityisalue\'?"}],"options":["Voitko auttaa minua","Mit\xe4 tarkoittaa"],"correct":["Voitko auttaa minua","Mit\xe4 tarkoittaa"]}]}]}]},{"id":4,"title":"Min\xe4","subtitle":"\u042f","pageNumbers":"86-113","difficulty":"A1","estimatedHours":4,"lessons":[{"id":"4.1","title":"Describing People and Family","subtitle":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043b\u044e\u0434\u0435\u0439 \u0438 \u0441\u0435\u043c\u044c\u0438","estimatedMinutes":40,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":4},"theory":{"sections":[{"title":"Ulkon\xe4k\xf6, luonne ja perhe","subtitle":"\u0412\u043d\u0435\u0448\u043d\u043e\u0441\u0442\u044c, \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440 \u0438 \u0441\u0435\u043c\u044c\u044f","content":"\u041b\u0435\u043a\u0441\u0438\u043a\u0430 \u0434\u043b\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0432\u043d\u0435\u0448\u043d\u043e\u0441\u0442\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \'pitk\xe4 tukka\', \'siniset silm\xe4t\'), \u0447\u0435\u0440\u0442 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0430 (\'iloinen\', \'ujo\') \u0438 \u0441\u0435\u043c\u0435\u0439\u043d\u044b\u0445 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0439 (\'naimisissa\', \'lapsi\', \'suku\').","grammar":[{"rule":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u043d\u0435\u0448\u043d\u043e\u0441\u0442\u0438","explanation":"\u041f\u0440\u0438\u043b\u0430\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u043b\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043b\u044e\u0434\u0435\u0439","examples":["pitk\xe4","lyhyt","kaunis","komea"]}]},{"title":"Partitiivi","subtitle":"\u041f\u0430\u0440\u0442\u0438\u0442\u0438\u0432","content":"\u041f\u0430\u0440\u0442\u0438\u0442\u0438\u0432 \u2014 \u043e\u0434\u0438\u043d \u0438\u0437 \u0441\u0430\u043c\u044b\u0445 \u0432\u0430\u0436\u043d\u044b\u0445 \u043f\u0430\u0434\u0435\u0436\u0435\u0439 \u0432 \u0444\u0438\u043d\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435. \u041e\u043d \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u0447\u0438\u0441\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 (\u043a\u0440\u043e\u043c\u0435 \'yksi\'), \u0441 \u0433\u043b\u0430\u0433\u043e\u043b\u0430\u043c\u0438, \u0432\u044b\u0440\u0430\u0436\u0430\u044e\u0449\u0438\u043c\u0438 \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0438\u043b\u0438 \u0447\u0443\u0432\u0441\u0442\u0432\u043e (rakastaa, etsi\xe4), \u0438 \u0432 \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u0445 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f.","grammar":[{"rule":"\u041e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u043f\u0430\u0440\u0442\u0438\u0442\u0438\u0432\u0430","explanation":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f: -a/-\xe4, -ta/-t\xe4, -tta/-tt\xe4","examples":["taloa","mets\xe4\xe4","maata","huonetta"]}]},{"title":"Minulla on... (Possessio)","subtitle":"\u0423 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c... (\u0412\u043b\u0430\u0434\u0435\u043d\u0438\u0435)","content":"\u0414\u043b\u044f \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \'\u0430\u0434\u0435\u0441\u0441\u0438\u0432 + on\'. \u0412 \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0444\u043e\u0440\u043c\u0435 \u043e\u0431\u044a\u0435\u043a\u0442 \u0441\u0442\u0430\u0432\u0438\u0442\u0441\u044f \u0432 \u043f\u0430\u0440\u0442\u0438\u0442\u0438\u0432.","grammar":[{"rule":"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f","explanation":"minulla on, sinulla on, h\xe4nell\xe4 on","examples":["Minulla on auto","Minulla ei ole autoa"]}]}]},"reading":{"title":"Min\xe4","subtitle":"\u042f","description":"\u041e\u043b\u044c\u0433\u0430, \u0410\u043b\u0435\u043a\u0441 \u0438 \u041f\u0435\u0434\u0440\u043e \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442 \u043e \u0441\u0435\u0431\u0435: \u043e \u0441\u0432\u043e\u0435\u0439 \u0441\u0435\u043c\u044c\u0435, \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0435, \u0432\u043d\u0435\u0448\u043d\u043e\u0441\u0442\u0438 \u0438 \u0436\u0438\u0437\u043d\u0438 \u0432 \u0424\u0438\u043d\u043b\u044f\u043d\u0434\u0438\u0438.","dialogue_id":"monologues_ch4","audio_type":"enhanced","preferredTTS":"enhanced"},"exercises":[{"type":"listening_exercise","original_exercise":"Harjoitus 4","title":"Mink\xe4n\xe4k\xf6inen h\xe4n on?","status":"skipped_missing_audio_text","instruction":"This exercise requires an external audio file to match descriptions to people."},{"type":"written_task","original_exercise":"Harjoitus 8","title":"Numero + partitiivi","instruction":"\u041f\u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u043b\u043e\u0432\u043e \u0432 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0443\u044e \u0444\u043e\u0440\u043c\u0443 \u043f\u0430\u0440\u0442\u0438\u0442\u0438\u0432\u0430 \u043f\u043e\u0441\u043b\u0435 \u0447\u0438\u0441\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e.","items":[{"id":"ex8_wt1","prompt":"2 (katu) \u2192 ___","answer":"kaksi katua"}]},{"type":"grammar_fill","original_exercise":"Harjoitus 13","title":"Minulla on / ei ole","instruction":"\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e \'X:ll\xe4 on/ei ole Y:t\xe4\'.","items":[{"id":"ex13_gf1","image_description":"Picture of a teacher with a pen.","sentence":"Opettajalla ___ kyn\xe4.","blanks":["on"],"options":["on","ei ole"]}]},{"type":"listening_repurposed","original_exercise":"Harjoitus 14","title":"What\'s in the Bag?","instruction":"Listen to the dialogue and answer the questions.","script_id":"script_ex14_ch4","questions":[{"id":"ex14_q1","question":"Does the person have a phone?","answer":"Yes (\'Joo, minulla on puhelin...\')"}]}]},{"id":"4.2","title":"Puhutaan! Shopping for Clothes","subtitle":"\u0420\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u043d\u044b\u0439! \u041f\u043e\u043a\u0443\u043f\u043a\u0430 \u043e\u0434\u0435\u0436\u0434\u044b","estimatedMinutes":20,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":1},"theory":{"sections":[{"title":"Vaatekaupassa","subtitle":"\u0412 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435 \u043e\u0434\u0435\u0436\u0434\u044b","content":"\u0418\u0437\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0445 \u0444\u0440\u0430\u0437 \u0434\u043b\u044f \u043f\u043e\u0445\u043e\u0434\u0430 \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d: \u043a\u0430\u043a \u0441\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043e \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0446\u0432\u0435\u0442\u0430, \u043a\u0430\u043a \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u0443 \u0438 \u043a\u0430\u043a \u0432\u0435\u0441\u0442\u0438 \u0441\u0435\u0431\u044f \u0432 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0447\u043d\u043e\u0439.","grammar":[{"rule":"\u0424\u0440\u0430\u0437\u044b \u0434\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043e\u043a","explanation":"\u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435","examples":["Onko t\xe4st\xe4 L-kokoa?","Paljonko t\xe4m\xe4 maksaa?"]}]}]},"reading":{"title":"Vaatekaupassa","subtitle":"\u0412 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435 \u043e\u0434\u0435\u0436\u0434\u044b","description":"\u041f\u0435\u0434\u0440\u043e \u0438\u0449\u0435\u0442 \u0434\u0436\u0438\u043d\u0441\u043e\u0432\u0443\u044e \u043a\u0443\u0440\u0442\u043a\u0443 \u0438 \u043e\u0431\u0449\u0430\u0435\u0442\u0441\u044f \u0441 \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u043e\u043c, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0440\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u043d\u044b\u0439 \u0444\u0438\u043d\u0441\u043a\u0438\u0439.","dialogue_id":"dialogue_ch4_puhekieli","audio_type":"standard","preferredTTS":"standard"},"exercises":[{"type":"listening_repurposed","original_exercise":"Harjoitus 25","title":"Shopping Dialogue","instruction":"Listen to the shopping scenario and answer the questions.","script_id":"script_ex25_ch4","questions":[{"id":"ex25_q1","question":"What is the customer looking for?","answer":"A party dress (\'juhlamekkoa\')"}]}]}]},{"id":5,"title":"Meid\xe4n tavallinen p\xe4iv\xe4","subtitle":"\u041d\u0430\u0448 \u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u0434\u0435\u043d\u044c","pageNumbers":"114-145","difficulty":"A1","estimatedHours":5,"lessons":[{"id":"5.1","title":"Daily Routines and Verb Types","subtitle":"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0435 \u0434\u0435\u043b\u0430 \u0438 \u0442\u0438\u043f\u044b \u0433\u043b\u0430\u0433\u043e\u043b\u043e\u0432","estimatedMinutes":50,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":11},"theory":{"sections":[{"title":"Verbityypit 1-5","subtitle":"\u0422\u0438\u043f\u044b \u0433\u043b\u0430\u0433\u043e\u043b\u043e\u0432 1-5","content":"Suomen verbit jaetaan viiteen tyyppiin niiden infinitiivin ja vartalon perusteella. T\xe4m\xe4 on perusta koko suomen kielen verbitaivutukselle.","grammar":[{"rule":"Tyyppi 1 (a/\xe4): tanssia \u2192 min\xe4 tanssin","explanation":"Infinitiivi p\xe4\xe4ttyy vokaaliin + a/\xe4. K-p-t-vaihtelu.","examples":["nukkua \u2192 nukun","lukea \u2192 luen"]},{"rule":"Tyyppi 2 (da/d\xe4): sy\xf6d\xe4 \u2192 h\xe4n sy\xf6","explanation":"Infinitiivi p\xe4\xe4ttyy -da/-d\xe4. Ei pitk\xe4\xe4 vokaalia 3. persoonassa.","examples":["tehd\xe4 \u2192 tekee","juoda \u2192 juo"]},{"rule":"Tyyppi 3 (la/l\xe4, na/n\xe4, ra/r\xe4, sta/st\xe4): k\xe4vell\xe4 \u2192 k\xe4velen","explanation":"Vartaloon lis\xe4t\xe4\xe4n -e.","examples":["menn\xe4 \u2192 menen","nousta \u2192 nousen"]},{"rule":"Tyyppi 4 (vokaali + ta/t\xe4): siivota \u2192 siivoan","explanation":"Vartalo saadaan poistamalla -ta/-t\xe4 ja lis\xe4\xe4m\xe4ll\xe4 -a/-\xe4.","examples":["pelata \u2192 pelaan","haluta \u2192 haluan"]},{"rule":"Tyyppi 5 (ita/it\xe4): valita \u2192 valitsen","explanation":"Vartaloon lis\xe4t\xe4\xe4n -tse.","examples":["tarvita \u2192 tarvitsen","h\xe4irit\xe4 \u2192 h\xe4iritsen"]}]},{"title":"Kellonaika","subtitle":"\u0412\u0440\u0435\u043c\u044f","content":"Kellonajan ilmaiseminen ja kysyminen on t\xe4rke\xe4 osa p\xe4ivitt\xe4ist\xe4 kommunikaatiota.","grammar":[{"rule":"Mit\xe4 kello on? - Kello on nelj\xe4","explanation":"Nykyisen ajan kysyminen ja vastaus nominatiivissa.","examples":["Kello on puoli viisi","Kello on vartti yli kolme"]},{"rule":"Mihin aikaan? / Monelta? - Kuudelta","explanation":"Tapahtuma-ajan kysyminen ja vastaus adessiivissa.","examples":["Tulen seitsem\xe4lt\xe4","Koulu alkaa kahdeksalta"]}]}]},"reading":{"title":"Meid\xe4n tavallinen p\xe4iv\xe4","subtitle":"\u041d\u0430\u0448 \u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u0434\u0435\u043d\u044c","description":"Lauri M\xe4kel\xe4 kertoo perheens\xe4 tavallisesta p\xe4iv\xe4st\xe4 - aamusta iltaan.","dialogue_id":"ch5_reading_1","audio_type":"enhanced","preferredTTS":"enhanced"},"exercises":[{"type":"pronunciation_practice","original_exercise":"Harjoitus 1","title":"Long and Short Consonants","instruction":"Harjoittele pitkien ja lyhyiden konsonanttien \xe4\xe4nt\xe4mist\xe4.","audio_type":"enhanced","items":[{"id":"ex1_pronunciation","script_id":"ch5_ex1_pairs","options":["taka/takka","kapa/kappa","tutti/tuutti"]}]},{"type":"reading_comprehension","original_exercise":"Harjoitus 2","title":"Family Daily Routine","instruction":"Lue teksti ja vastaa kysymyksiin Lauri M\xe4kel\xe4n perheest\xe4.","text_id":"ch5_reading_1","items":[{"id":"ex2_q1","question":"Mit\xe4 kello on, kun Lauri her\xe4\xe4?","answer":"Kello 6","translation":"\u0412\u043e \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0441\u044b\u043f\u0430\u0435\u0442\u0441\u044f \u041b\u0430\u0443\u0440\u0438?"}]}]},{"id":"5.2","title":"Puhutaan! Making Plans","subtitle":"\u0420\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u043d\u044b\u0439! \u0421\u0442\u0440\u043e\u0438\u043c \u043f\u043b\u0430\u043d\u044b","estimatedMinutes":25,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":2},"theory":{"sections":[{"title":"Tapaamisen sopiminen","subtitle":"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432\u0441\u0442\u0440\u0435\u0447\u0438","content":"Puhekielisi\xe4 fraaseja ajan sopimiseen ja tapaamisen j\xe4rjest\xe4miseen.","grammar":[{"rule":"Ehdotus: Menn\xe4\xe4nks uimaan? / Tuuks s\xe4 mukaan?","explanation":"Ep\xe4muodollisia tapoja ehdottaa yhteist\xe4 tekemist\xe4.","examples":["K\xe4yd\xe4\xe4nks kahvilla?","L\xe4hdet\xe4\xe4nks elokuviin?"]}]}]},"reading":{"title":"Aamupalap\xf6yd\xe4ss\xe4","subtitle":"\u0417\u0430 \u0437\u0430\u0432\u0442\u0440\u0430\u043a\u043e\u043c","description":"Lauri ja Kalle sopivat uintireissusta aamupalan aikana.","dialogue_id":"ch5_puhutaan_1","audio_type":"standard","preferredTTS":"standard"},"exercises":[{"type":"listening_repurposed","original_exercise":"Harjoitus 35","title":"Making Appointments","instruction":"Kuuntele keskustelu tapaamisen sopimisesta.","script_id":"ch5_ex35_script","questions":[{"id":"ex35_q1","question":"Mit\xe4 Anna ehdottaa?","answer":"Menn\xe4 elokuviin"}]}]}]},{"id":6,"title":"Pedro ja Hanna etsiv\xe4t asuntoa, Muutto","subtitle":"\u041f\u0435\u0434\u0440\u043e \u0438 \u0425\u0430\u043d\u043d\u0430 \u0438\u0449\u0443\u0442 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0443, \u041f\u0435\u0440\u0435\u0435\u0437\u0434","pageNumbers":"146-183","difficulty":"A1","estimatedHours":4,"lessons":[{"id":"6.1","title":"Pedro ja Hanna etsiv\xe4t asuntoa","subtitle":"\u041f\u0435\u0434\u0440\u043e \u0438 \u0425\u0430\u043d\u043d\u0430 \u0438\u0449\u0443\u0442 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0443","estimatedMinutes":35,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":3},"theory":{"sections":[{"title":"Asuminen ja asuntoilmoitukset","subtitle":"\u0416\u0438\u043b\u044c\u0435 \u0438 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u044f \u043e \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430\u0445","content":"Asuntoilmoitusten lukeminen ja ymm\xe4rt\xe4minen on t\xe4rke\xe4 taito Suomessa. Ilmoituksissa k\xe4ytet\xe4\xe4n lyhenteit\xe4 ja erityissanastoa.","grammar":[{"rule":"Asuntoilmoitusten lyhenteet","explanation":"h = huone, k = keitti\xf6, p = parveke, kk = kuukausi","examples":["2h+k+p","870 e/kk"]}]},{"title":"Asunnon kuvaileminen","subtitle":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b","content":"Adjektiivit asunnon ja alueen kuvaamiseen. T\xe4rke\xe4\xe4 osata kertoa, millainen asunto on.","grammar":[{"rule":"Adjektiivien k\xe4ytt\xf6","explanation":"Adjektiivit taipuvat samoin kuin substantiivit.","examples":["valoisa asunto","rauhallinen sijainti"]}]}]},"reading":{"title":"Asuntoilmoitus ja keskustelu","subtitle":"\u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043e \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0435 \u0438 \u0440\u0430\u0437\u0433\u043e\u0432\u043e\u0440","description":"Pedro ja Hanna lukevat asuntoilmoitusta ja keskustelevat asunnosta.","dialogue_id":"ch6_reading_combined","audio_type":"enhanced","preferredTTS":"enhanced"},"exercises":[{"type":"reading_comprehension","original_exercise":"Harjoitus 3","title":"Asuntoilmoituksen ymm\xe4rt\xe4minen","instruction":"Lue asuntoilmoitus ja vastaa kysymyksiin.","text_id":"ch6_reading_1","items":[{"id":"ex3_q1","question":"Kuinka monta huonetta asunnossa on?","answer":"Kaksi huonetta","translation":"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u043c\u043d\u0430\u0442 \u0432 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0435?"}]},{"type":"written_task","original_exercise":"Harjoitus 8","title":"Adjektiivien taivutus","instruction":"T\xe4ydenn\xe4 lauseet oikealla adjektiivin muodolla.","items":[{"id":"ex8_wt1","prompt":"Asunto on (valoisa) ___.","answer":"valoisa"}]},{"type":"grammar_fill","original_exercise":"Harjoitus 12","title":"Miss\xe4 p\xe4in -kysymykset","instruction":"Vastaa kysymyksiin k\xe4ytt\xe4en oikeaa sijaa.","items":[{"id":"ex12_gf1","sentence":"Miss\xe4 p\xe4in Helsinki ___ on?","blanks":["sijaitsee"],"options":["sijaitsee","sijaitseva","sijaitsi"]}]}]},{"id":"6.2","title":"Muutto","subtitle":"\u041f\u0435\u0440\u0435\u0435\u0437\u0434","estimatedMinutes":30,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":2},"theory":{"sections":[{"title":"Liikkumisverbit","subtitle":"\u0413\u043b\u0430\u0433\u043e\u043b\u044b \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u044f","content":"Verbit, jotka kuvaavat liikett\xe4 ja esineiden siirt\xe4mist\xe4. T\xe4rke\xe4\xe4 muuttotilanteessa.","grammar":[{"rule":"Liikkuminen ja kuljettaminen","explanation":"kantaa, vied\xe4, tuoda, nostaa","examples":["Kantaa laatikko yl\xf6s","Vied\xe4 tuoli olohuoneeseen"]}]},{"title":"Paikanilmaukset","subtitle":"\u0412\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043c\u0435\u0441\u0442\u0430","content":"Sis\xe4\xe4n, ulos, yl\xf6s, alas - t\xe4rke\xe4t paikanilmaukset muuttotilanteessa.","grammar":[{"rule":"Suunnan ilmaiseminen","explanation":"sis\xe4\xe4n, ulos, yl\xf6s, alas","examples":["Mene sis\xe4\xe4n taloon","Tule ulos pihalle"]}]}]},"reading":{"title":"Muuttop\xe4iv\xe4","subtitle":"\u0414\u0435\u043d\u044c \u043f\u0435\u0440\u0435\u0435\u0437\u0434\u0430","description":"Pedro muuttaa uuteen asuntoon ja saa apua naapureilta Kallelta ja Emmalta.","dialogue_id":"ch6_reading_3","audio_type":"enhanced","preferredTTS":"enhanced"},"exercises":[{"type":"listening_comprehension","original_exercise":"Harjoitus 18","title":"Muuttotilanne","instruction":"Kuuntele keskustelu ja vastaa kysymyksiin.","text_id":"ch6_reading_3","items":[{"id":"ex18_q1","question":"Mihin asuntoon Pedro muuttaa?","answer":"Asuntoon numero 5","translation":"\u0412 \u043a\u0430\u043a\u0443\u044e \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0443 \u043f\u0435\u0440\u0435\u0435\u0437\u0436\u0430\u0435\u0442 \u041f\u0435\u0434\u0440\u043e?"}]},{"type":"written_task","original_exercise":"Harjoitus 22","title":"Liikkumisverbit","instruction":"Valitse oikea verbi ja kirjoita se oikeassa muodossa.","items":[{"id":"ex22_wt1","prompt":"(kantaa/vied\xe4) Min\xe4 ___ laatikon keitti\xf6\xf6n.","answer":"vien"}]}]},{"id":"6.3","title":"Puhutaan! Pedro soittaa huoltoyhti\xf6\xf6n","subtitle":"\u0420\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u043d\u044b\u0439! \u041f\u0435\u0434\u0440\u043e \u0437\u0432\u043e\u043d\u0438\u0442 \u0432 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u044e\u0449\u0443\u044e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e","estimatedMinutes":15,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":1},"theory":{"sections":[{"title":"Puhelinpalvelu","subtitle":"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u043e\u0435 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435","content":"Kuinka hoitaa asioita puhelimitse. T\xe4rke\xe4\xe4 asumiseen liittyviss\xe4 asioissa.","grammar":[{"rule":"Puhelinkeskustelun aloitus","explanation":"T\xe4\xe4ll\xe4 on..., Haluaisin varata...","examples":["T\xe4\xe4ll\xe4 on Pedro Ribeiro","Haluaisin varata saunavuoron"]}]}]},"reading":{"title":"Saunavuoron varaaminen","subtitle":"\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432 \u0441\u0430\u0443\u043d\u0435","description":"Pedro soittaa huoltoyhti\xf6\xf6n ja varaa saunavuoron uudessa talossaan.","dialogue_id":"ch6_puhutaan_1","audio_type":"standard","preferredTTS":"standard"},"exercises":[{"type":"listening_repurposed","original_exercise":"Harjoitus 28","title":"Puhelinpalvelu","instruction":"Kuuntele puhelinkeskustelu ja vastaa kysymyksiin.","script_id":"ch6_puhutaan_1","questions":[{"id":"ex28_q1","question":"Mit\xe4 Pedro haluaa varata?","answer":"Saunavuoron"}]}]}]},{"id":7,"title":"Kyl\xe4ss\xe4","subtitle":"\u0412 \u0433\u043e\u0441\u0442\u044f\u0445","pageNumbers":"184-215","difficulty":"A1","estimatedHours":4,"lessons":[{"id":"7.1","title":"Visiting Tampere","subtitle":"\u041f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u0435 \u0422\u0430\u043c\u043f\u0435\u0440\u0435","estimatedMinutes":40,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":5},"theory":{"sections":[{"title":"Matkustaminen ja vierailu","subtitle":"\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435 \u0438 \u0432\u0438\u0437\u0438\u0442\u044b","content":"Sanavarasto matkustamiseen ja vierailuun liittyen. Kuinka kertoa matkasuunnitelmista ja kokemuksista.","grammar":[{"rule":"Liikenneverbit","explanation":"menn\xe4, tulla, l\xe4hte\xe4, saapua","examples":["Menn\xe4\xe4n Tampereelle","Tulimme junalla"]}]},{"title":"Kulkuneuvot","subtitle":"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442","content":"Eri kulkuneuvojen nimet ja niiden k\xe4ytt\xf6 lauseissa.","grammar":[{"rule":"Kulkuneuvojen k\xe4ytt\xf6","explanation":"autolla, junalla, bussilla, k\xe4vellen","examples":["Matkustamme junalla","K\xe4velemme keskustaan"]}]}]},"reading":{"title":"Viikonloppu Tampereella","subtitle":"\u0412\u044b\u0445\u043e\u0434\u043d\u044b\u0435 \u0432 \u0422\u0430\u043c\u043f\u0435\u0440\u0435","description":"Pedro ja Hanna vierailevat Hannan t\xe4dill\xe4 Tampereella ja suunnittelevat viikonloppua.","dialogue_id":"ch7_reading_1","audio_type":"enhanced","preferredTTS":"enhanced"},"exercises":[{"type":"listening_exercise","original_exercise":"Harjoitus 2","title":"Travel Sounds","status":"skipped_missing_audio_text","instruction":"This exercise requires external audio to identify different transportation sounds."},{"type":"reading_comprehension","original_exercise":"Harjoitus 5","title":"Weekend Plans","instruction":"Lue teksti ja vastaa kysymyksiin viikonlopun suunnitelmista.","text_id":"ch7_reading_1","items":[{"id":"ex5_q1","question":"Mill\xe4 Pedro ja Hanna matkustavat Tampereelle?","answer":"Junalla","translation":"\u041d\u0430 \u0447\u0435\u043c \u041f\u0435\u0434\u0440\u043e \u0438 \u0425\u0430\u043d\u043d\u0430 \u0435\u0434\u0443\u0442 \u0432 \u0422\u0430\u043c\u043f\u0435\u0440\u0435?"}]},{"type":"written_task","original_exercise":"Harjoitus 8","title":"Transportation Methods","instruction":"T\xe4ydenn\xe4 lauseet oikealla kulkuneuvolla.","items":[{"id":"ex8_wt1","prompt":"Matkustan Helsinkiin ___. (train)","answer":"junalla"}]},{"type":"grammar_fill","original_exercise":"Harjoitus 12","title":"Movement Verbs","instruction":"Valitse oikea verbi ja taivuta se.","items":[{"id":"ex12_gf1","sentence":"Me ___ Tampereelle huomenna. (menn\xe4/tulla)","blanks":["menemme"],"options":["menemme","tulemme"]}]},{"type":"listening_repurposed","original_exercise":"Harjoitus 15","title":"Hotel Booking","instruction":"Kuuntele hotellivaraus ja vastaa kysymyksiin.","script_id":"hotel_booking_script","questions":[{"id":"ex15_q1","question":"Kuinka monta y\xf6t\xe4 he y\xf6pyv\xe4t?","answer":"Yhden y\xf6n"}]}]},{"id":"7.2","title":"Puhutaan! Hotel Check-in","subtitle":"\u0420\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u043d\u044b\u0439! \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0432 \u043e\u0442\u0435\u043b\u0435","estimatedMinutes":20,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":1},"theory":{"sections":[{"title":"Hotellissa","subtitle":"\u0412 \u043e\u0442\u0435\u043b\u0435","content":"Hotellivarauksen tekeminen ja sis\xe4\xe4nkirjautuminen. T\xe4rke\xe4t fraasit matkustajalle.","grammar":[{"rule":"Hotellifraasit","explanation":"Varaus, sis\xe4\xe4nkirjautuminen, palvelut","examples":["Meill\xe4 on varaus","Huone on nelj\xe4nness\xe4 kerroksessa"]}]}]},"reading":{"title":"Hotellissa sis\xe4\xe4nkirjautuminen","subtitle":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0432 \u043e\u0442\u0435\u043b\u0435","description":"Hanna ja Pedro saapuvat hotelliin ja kirjautuvat sis\xe4\xe4n.","dialogue_id":"ch7_puhutaan_1","audio_type":"standard","preferredTTS":"standard"},"exercises":[{"type":"dialogue_complete","original_exercise":"Harjoitus 20","title":"Hotel Reception","instruction":"T\xe4ydenn\xe4 hotellivastaanoton keskustelu.","scenario":"Customer checking into a hotel","items":[{"id":"ex20_dc1","missing_parts":[{"speaker":"Asiakas","text":"Hei, meill\xe4 on ___ nimell\xe4 Lahtinen."},{"speaker":"Virkailija","text":"Joo, ___ se on."}],"options":["varaus","t\xe4ss\xe4"],"correct":["varaus","t\xe4ss\xe4"]}]}]}]},{"id":8,"title":"Onnea uuteen kotiin!","subtitle":"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u044e \u0441 \u043d\u043e\u0432\u044b\u043c \u0434\u043e\u043c\u043e\u043c!","pageNumbers":"216-253","difficulty":"A1+","estimatedHours":4,"lessons":[{"id":"8.1","title":"Housewarming Party","subtitle":"\u041d\u043e\u0432\u043e\u0441\u0435\u043b\u044c\u0435","estimatedMinutes":45,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":6},"theory":{"sections":[{"title":"Juhlat ja tapahtumat","subtitle":"\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u043a\u0438 \u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044f","content":"Erilaisten juhlien ja tapahtumien sanasto. Kuinka j\xe4rjest\xe4\xe4 juhlia ja olla vieraana.","grammar":[{"rule":"Juhla-sanasto","explanation":"Syntym\xe4p\xe4iv\xe4, h\xe4\xe4t, tupaantuliaiset","examples":["Paljon onnea!","Hauska juhla!","Kiitos kutsusta!"]}]},{"title":"Ainepartitiivin k\xe4ytt\xf6","subtitle":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u0442\u0438\u0442\u0438\u0432\u0430 \u0432\u0435\u0449\u0435\u0441\u0442\u0432\u0430","content":"Partitiivia k\xe4ytet\xe4\xe4n aineiden ja ruoka-aineiden kanssa. T\xe4rke\xe4\xe4 ruoan valmistuksessa ja ostoksilla.","grammar":[{"rule":"Aine + partitiivi","explanation":"vett\xe4, maitoa, leip\xe4\xe4, lihaa","examples":["Ostan maitoa","Sy\xf6n leip\xe4\xe4","Juon kahvia"]}]},{"title":"J\xe4rjestysluvut ja p\xe4iv\xe4m\xe4\xe4r\xe4t","subtitle":"\u041f\u043e\u0440\u044f\u0434\u043a\u043e\u0432\u044b\u0435 \u0447\u0438\u0441\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0438 \u0434\u0430\u0442\u044b","content":"J\xe4rjestyslukujen muodostaminen ja p\xe4iv\xe4m\xe4\xe4rien ilmaiseminen.","grammar":[{"rule":"J\xe4rjestysluvut","explanation":"ensimm\xe4inen, toinen, kolmas","examples":["ensimm\xe4inen kerros","toinen p\xe4iv\xe4","kolmas viikko"]}]},{"title":"Postpositiot","subtitle":"\u041f\u043e\u0441\u043b\u0435\u043b\u043e\u0433\u0438","content":"Paikan ja suunnan ilmaiseminen postpositioilla.","grammar":[{"rule":"Postpositiot","explanation":"vieress\xe4, p\xe4\xe4ll\xe4, alla, edess\xe4, takana","examples":["p\xf6yd\xe4n p\xe4\xe4ll\xe4","talon vieress\xe4","tuolin alla"]}]}]},"reading":{"title":"Tupaantuliaiset","subtitle":"\u041d\u043e\u0432\u043e\u0441\u0435\u043b\u044c\u0435","description":"Pedro ja Hanna j\xe4rjest\xe4v\xe4t tupaantuliaiset uudessa kodissaan. Vieraat saapuvat ja keskustelevat ruoasta.","dialogue_id":"ch8_reading_1","audio_type":"enhanced","preferredTTS":"enhanced"},"exercises":[{"type":"reading_comprehension","original_exercise":"Harjoitus 3","title":"Party Preparations","instruction":"Lue teksti ja vastaa kysymyksiin juhlan valmistelusta.","text_id":"ch8_reading_1","items":[{"id":"ex3_q1","question":"Mit\xe4 ruokaa Pedro ja Hanna valmistavat?","answer":"Pastasalaattia ja lihapullia","translation":"\u041a\u0430\u043a\u0443\u044e \u0435\u0434\u0443 \u0433\u043e\u0442\u043e\u0432\u044f\u0442 \u041f\u0435\u0434\u0440\u043e \u0438 \u0425\u0430\u043d\u043d\u0430?"}]},{"type":"written_task","original_exercise":"Harjoitus 7","title":"Substance Partitive","instruction":"Kirjoita aineet partitiivissa.","items":[{"id":"ex7_wt1","prompt":"leip\xe4 \u2192 Ostan ___","answer":"leip\xe4\xe4"},{"id":"ex7_wt2","prompt":"maito \u2192 Juon ___","answer":"maitoa"}]},{"type":"grammar_fill","original_exercise":"Harjoitus 10","title":"Ordinal Numbers","instruction":"T\xe4ydenn\xe4 lauseet j\xe4rjestysluvuilla.","items":[{"id":"ex10_gf1","sentence":"Asumme ___ kerroksessa. (2)","blanks":["toisessa"],"options":["toisessa","toinen","kaksi"]}]},{"type":"written_task","original_exercise":"Harjoitus 15","title":"Postpositions","instruction":"Kirjoita oikea postpositio.","items":[{"id":"ex15_wt1","prompt":"Kirja on p\xf6yd\xe4n ___. (on top of)","answer":"p\xe4\xe4ll\xe4"}]},{"type":"listening_repurposed","original_exercise":"Harjoitus 18","title":"Food Discussion","instruction":"Kuuntele keskustelu ruoasta ja vastaa kysymyksiin.","script_id":"food_discussion_script","questions":[{"id":"ex18_q1","question":"Mit\xe4 salaatissa on?","answer":"Pastaa, maissia, oliiveja ja kanaa"}]},{"type":"dialogue_complete","original_exercise":"Harjoitus 22","title":"Party Compliments","instruction":"T\xe4ydenn\xe4 keskustelu juhlavieraiden kanssa.","scenario":"Guests complimenting the food and home","items":[{"id":"ex22_dc1","missing_parts":[{"speaker":"Vieras","text":"Teill\xe4 on ___ koti!"},{"speaker":"Pedro","text":"Kiitos! ___ t\xe4m\xe4 on tosi kiva."}],"options":["ihana","Meist\xe4kin"],"correct":["ihana","Meist\xe4kin"]}]}]},{"id":"8.2","title":"Puhutaan! Getting Directions","subtitle":"\u0420\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u043d\u044b\u0439! \u041a\u0430\u043a \u043f\u0440\u043e\u0439\u0442\u0438","estimatedMinutes":25,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":2},"theory":{"sections":[{"title":"Reittiohjeet","subtitle":"\u0423\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430","content":"Kuinka antaa ja pyyt\xe4\xe4 reittioppaita. T\xe4rke\xe4\xe4 kaupungissa liikkumiseen.","grammar":[{"rule":"Suunta-sanat","explanation":"oikealle, vasemmalle, suoraan, takaisin","examples":["K\xe4\xe4nny oikealle","Mene suoraan","Palaa takaisin"]}]}]},"reading":{"title":"Alex eksyy","subtitle":"\u0410\u043b\u0435\u043a\u0441 \u0437\u0430\u0431\u043b\u0443\u0434\u0438\u043b\u0441\u044f","description":"Alex soittaa Pedrolle, koska ei l\xf6yd\xe4 perille tupaantuliaisten.","dialogue_id":"ch8_puhutaan_1","audio_type":"standard","preferredTTS":"standard"},"exercises":[{"type":"listening_repurposed","original_exercise":"Harjoitus 25","title":"Phone Directions","instruction":"Kuuntele puhelinkeskustelu ja vastaa kysymyksiin.","script_id":"ch8_puhutaan_1","questions":[{"id":"ex25_q1","question":"Miss\xe4 Alex on?","answer":"Bussipys\xe4kill\xe4 kioski vieress\xe4"}]},{"type":"written_task","original_exercise":"Harjoitus 28","title":"Direction Instructions","instruction":"Kirjoita reittiohjeet annettujen sanojen avulla.","items":[{"id":"ex28_wt1","prompt":"(k\xe4\xe4nty\xe4/oikealle/risteys) \u2192 ___","answer":"K\xe4\xe4nny risteyksest\xe4 oikealle"}]}]}]},{"id":9,"title":"Ensimm\xe4inen ty\xf6p\xe4iv\xe4","subtitle":"\u041f\u0435\u0440\u0432\u044b\u0439 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0434\u0435\u043d\u044c","pageNumbers":"254-285","difficulty":"A1+","estimatedHours":4,"lessons":[{"id":"9.1","title":"At the Office","subtitle":"\u0412 \u043e\u0444\u0438\u0441\u0435","estimatedMinutes":50,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":8},"theory":{"sections":[{"title":"Ty\xf6el\xe4m\xe4n sanasto","subtitle":"\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u043b\u0435\u043a\u0441\u0438\u043a\u0430","content":"Toimiston sanasto ja ty\xf6h\xf6n liittyv\xe4t ilmaukset. T\xe4rke\xe4\xe4 ty\xf6el\xe4m\xe4\xe4n siirtyv\xe4lle.","grammar":[{"rule":"Ty\xf6paikka-sanasto","explanation":"toimisto, ty\xf6piste, kokous, projekti","examples":["Minulla on kokous","Ty\xf6skentelen projektissa","Toimisto on toisessa kerroksessa"]}]},{"title":"Objektin sija (genetiivi, partitiivi, monikko)","subtitle":"\u041f\u0430\u0434\u0435\u0436 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 (\u0433\u0435\u043d\u0435\u0442\u0438\u0432, \u043f\u0430\u0440\u0442\u0438\u0442\u0438\u0432, \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e)","content":"Objektin sijan valinta on yksi suomen kielen vaikeimmista asioista. Se riippuu verbist\xe4, lausetyypist\xe4 ja merkityksest\xe4.","grammar":[{"rule":"Genetiivi objektina","explanation":"K\xe4ytet\xe4\xe4n tuloksellisissa lauseissa yksik\xf6ss\xe4","examples":["Luen kirjan","Ostan auton","Teen ty\xf6n"]},{"rule":"Partitiivi objektina","explanation":"K\xe4ytet\xe4\xe4n osittaisuuden, jatkuvuuden tai negaation kanssa","examples":["Luen kirjaa","En osta autoa","Juon kahvia"]},{"rule":"Monikko objektina","explanation":"Nominatiivi monikossa tuloksellisissa lauseissa","examples":["Luen kirjat","Ostan autot","Teen ty\xf6t"]}]},{"title":"Ammatit","subtitle":"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u0438","content":"Eri ammattien nimet ja niiden k\xe4ytt\xf6 lauseissa.","grammar":[{"rule":"Ammatin kertominen","explanation":"Olen + ammatti","examples":["Olen opettaja","Ty\xf6skentelen insin\xf6\xf6rin\xe4","H\xe4n on l\xe4\xe4k\xe4ri"]}]}]},"reading":{"title":"Alexin ensimm\xe4inen ty\xf6p\xe4iv\xe4","subtitle":"\u041f\u0435\u0440\u0432\u044b\u0439 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0434\u0435\u043d\u044c \u0410\u043b\u0435\u043a\u0441\u0430","description":"Alex aloittaa uudessa ty\xf6paikassa Mix-Elektro Oy:ss\xe4. Pomo Jari n\xe4ytt\xe4\xe4 toimiston ja esittelee tiimin.","dialogue_id":"ch9_reading_1","audio_type":"enhanced","preferredTTS":"enhanced"},"exercises":[{"type":"reading_comprehension","original_exercise":"Harjoitus 2","title":"First Day at Work","instruction":"Lue teksti ja vastaa kysymyksiin Alexin ensimm\xe4isest\xe4 ty\xf6p\xe4iv\xe4st\xe4.","text_id":"ch9_reading_1","items":[{"id":"ex2_q1","question":"Miss\xe4 yrityksess\xe4 Alex ty\xf6skentelee?","answer":"Mix-Elektro Oy:ss\xe4","translation":"\u0412 \u043a\u0430\u043a\u043e\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0410\u043b\u0435\u043a\u0441?"},{"id":"ex2_q2","question":"Kuinka monta henkil\xf6\xe4 tiimiin kuuluu?","answer":"Seitsem\xe4n henkil\xf6\xe4","translation":"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0435?"}]},{"type":"written_task","original_exercise":"Harjoitus 5","title":"Office Vocabulary","instruction":"T\xe4ydenn\xe4 lauseet toimistosanastolla.","items":[{"id":"ex5_wt1","prompt":"Minulla on ___ kello kymmenen. (meeting)","answer":"kokous"},{"id":"ex5_wt2","prompt":"Ty\xf6skentelen uudessa ___. (project)","answer":"projektissa"}]},{"type":"grammar_fill","original_exercise":"Harjoitus 8","title":"Object Cases","instruction":"Valitse objektille oikea sija.","items":[{"id":"ex8_gf1","sentence":"Luen ___ (kirja) illalla.","blanks":["kirjaa"],"options":["kirjan","kirjaa","kirjat"]},{"id":"ex8_gf2","sentence":"Ostin ___ (auto) eilen.","blanks":["auton"],"options":["auton","autoa","autot"]}]},{"type":"written_task","original_exercise":"Harjoitus 12","title":"Professions","instruction":"Kirjoita ammatti oikeassa muodossa.","items":[{"id":"ex12_wt1","prompt":"H\xe4n ty\xf6skentelee ___. (opettaja)","answer":"opettajana"}]},{"type":"listening_exercise","original_exercise":"Harjoitus 15","title":"Office Tour","status":"skipped_missing_audio_text","instruction":"This exercise requires external audio for office environment sounds."},{"type":"grammar_fill","original_exercise":"Harjoitus 18","title":"Workplace Situations","instruction":"T\xe4ydenn\xe4 ty\xf6paikkakeskustelut.","items":[{"id":"ex18_gf1","sentence":"Saanko ___ (sin\xe4) k\xe4ytt\xe4j\xe4tunnuksen?","blanks":["sinulta"],"options":["sinulta","sinulle","sinua"]}]},{"type":"written_task","original_exercise":"Harjoitus 22","title":"Work Activities","instruction":"Kuvaile ty\xf6p\xe4iv\xe4n toimintoja.","items":[{"id":"ex22_wt1","prompt":"Aamulla min\xe4 ___ (tarkistaa) s\xe4hk\xf6postit.","answer":"tarkistan"}]},{"type":"dialogue_complete","original_exercise":"Harjoitus 25","title":"Meeting Introduction","instruction":"T\xe4ydenn\xe4 esitt\xe4ytyminen kokouksessa.","scenario":"New employee introducing themselves in a meeting","items":[{"id":"ex25_dc1","missing_parts":[{"speaker":"Alex","text":"Hei, minun nimi on Alex ja olen ___ tiimin j\xe4sen."},{"speaker":"Kollega","text":"Tervetuloa ___!"}],"options":["uusi","joukkoon"],"correct":["uusi","joukkoon"]}]}]},{"id":"9.2","title":"Puhutaan! Lunch Break","subtitle":"\u0420\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u043d\u044b\u0439! \u041e\u0431\u0435\u0434\u0435\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0440\u044b\u0432","estimatedMinutes":20,"progress":{"theory_completed":false,"reading_completed":false,"exercises_completed":0,"total_exercises":2},"theory":{"sections":[{"title":"Ravintolassa tilaaminen","subtitle":"\u0417\u0430\u043a\u0430\u0437 \u0432 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0435","content":"Ruoan tilaaminen ty\xf6paikkaravintolassa. Puhekielisi\xe4 ilmauksia lounastilanteeseen.","grammar":[{"rule":"Tilausfraasit","explanation":"Mit\xe4 teill\xe4 on? M\xe4 otan... Tuleeks samasta?","examples":["M\xe4 otan kanarisottoa","Tuleeks samasta vai erikseen?","Kuuluuks kahvi hintaan?"]}]}]},"reading":{"title":"Lounaalla pom\xf6n kanssa","subtitle":"\u041d\u0430 \u043e\u0431\u0435\u0434\u0435 \u0441 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u043e\u043c","description":"Alex menee ensimm\xe4ist\xe4 kertaa lounaalle pomojensa Jarin kanssa ty\xf6paikan ravintolaan.","dialogue_id":"ch9_puhutaan_1","audio_type":"standard","preferredTTS":"standard"},"exercises":[{"type":"listening_repurposed","original_exercise":"Harjoitus 28","title":"Restaurant Order","instruction":"Kuuntele ravintolakeskustelu ja vastaa kysymyksiin.","script_id":"ch9_puhutaan_1","questions":[{"id":"ex28_q1","question":"Mit\xe4 Alex tilaa?","answer":"Kanarisottoa"},{"id":"ex28_q2","question":"Kuuluuko kahvi lounaan hintaan?","answer":"Kyll\xe4 kuuluu"}]},{"type":"dialogue_complete","original_exercise":"Harjoitus 30","title":"Ordering Food","instruction":"T\xe4ydenn\xe4 ravintolakeskustelu.","scenario":"Ordering lunch at workplace restaurant","items":[{"id":"ex30_dc1","missing_parts":[{"speaker":"Tarjoilija","text":"Mit\xe4s teill\xe4 on ___ lounaslistalla?"},{"speaker":"Asiakas","text":"M\xe4 ___ kanarisottoa, kiitos."}],"options":["t\xe4n\xe4\xe4n","otan"],"correct":["t\xe4n\xe4\xe4n","otan"]}]}]}]}]}'),ie=JSON.parse('{"metadata":{"version":"2.0","lastUpdated":"2025-06-29","totalWords":520,"source":"Suomen Mestari 1","difficultyLevel":"A1"},"vocabulary":{"hauska":{"baseForm":"hauska","russian":"\u043f\u0440\u0438\u044f\u0442\u043d\u044b\u0439, \u0432\u0435\u0441\u0435\u043b\u044b\u0439, \u0437\u0430\u0431\u0430\u0432\u043d\u044b\u0439","grammarInfo":"adjective, does not decline in the phrase \'hauska tutustua\'","pronunciation":"HAUS-ka","examples":["Hauska tutustua!","T\xe4m\xe4 on hauska kirja."],"difficulty":"beginner","sourceChapter":"1.1","frequency":"high","tags":["greeting","social"]},"tervetuloa":{"baseForm":"tervetuloa","russian":"\u0434\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c","grammarInfo":"interjection, used to welcome someone","pronunciation":"TER-ve-tu-lo-a","examples":["Tervetuloa suomen kurssille!","Tervetuloa Suomeen!"],"difficulty":"beginner","sourceChapter":"1.1","frequency":"high","tags":["greeting","hospitality"]},"anteeksi":{"baseForm":"anteeksi","russian":"\u0438\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u043f\u0440\u043e\u0441\u0442\u0438\u0442\u0435","grammarInfo":"interjection, used to get attention or apologize","pronunciation":"AN-teek-si","examples":["Anteeksi, onko t\xe4m\xe4 paikka vapaa?","Anteeksi, miten se kirjoitetaan?"],"difficulty":"beginner","sourceChapter":"1.1","frequency":"high","tags":["politeness","social"]},"opettaja":{"baseForm":"opettaja","russian":"\u0443\u0447\u0438\u0442\u0435\u043b\u044c, \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c","grammarInfo":"noun","pronunciation":"O-pet-ta-ja","examples":["Min\xe4 olen opettaja.","Opettajan nimi on P\xe4ivi."],"difficulty":"beginner","sourceChapter":"1.1","frequency":"high","tags":["profession","education"]},"kurssi":{"baseForm":"kurssi","russian":"\u043a\u0443\u0440\u0441","grammarInfo":"noun","pronunciation":"KUR-ssi","examples":["T\xe4m\xe4 on Suomi 1 -kurssi.","Kurssi on kello 18-20."],"difficulty":"beginner","sourceChapter":"1.1","frequency":"high","tags":["education","learning"]},"mink\xe4maalainen":{"baseForm":"mink\xe4maalainen","russian":"\u043a\u0430\u043a\u043e\u0439 \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438","grammarInfo":"adjective/interrogative pronoun","pronunciation":"MIN-kan-maa-LAI-nen","examples":["Mink\xe4maalainen sin\xe4 olet?"],"difficulty":"beginner","sourceChapter":"2.1","frequency":"medium","tags":["nationality","identity"]},"kieli":{"baseForm":"kieli","russian":"\u044f\u0437\u044b\u043a","grammarInfo":"noun","pronunciation":"KI-e-li","examples":["Mit\xe4 kielt\xe4 sin\xe4 puhut?","Minun \xe4idinkieli on englanti."],"difficulty":"beginner","sourceChapter":"2.1","frequency":"high","tags":["language","communication"]},"kotoisin":{"baseForm":"kotoisin","russian":"\u0440\u043e\u0434\u043e\u043c \u0438\u0437","grammarInfo":"adverb, used with elative case (-sta/-st\xe4)","pronunciation":"KO-toy-sin","examples":["Mist\xe4 sin\xe4 olet kotoisin?","Olen kotoisin Suomesta."],"difficulty":"beginner","sourceChapter":"2.1","frequency":"high","tags":["origin","geography"]},"j\xe4\xe4tel\xf6":{"baseForm":"j\xe4\xe4tel\xf6","russian":"\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e\u0435","grammarInfo":"noun","pronunciation":"YAA-te-lo","examples":["Alex ja Pedro ostavat j\xe4\xe4tel\xf6\xe4."],"difficulty":"beginner","sourceChapter":"2.2","frequency":"medium","tags":["food","dessert"]},"maksaa":{"baseForm":"maksaa","russian":"\u0441\u0442\u043e\u0438\u0442\u044c, \u043f\u043b\u0430\u0442\u0438\u0442\u044c","grammarInfo":"verb type 1","pronunciation":"MAK-saa","examples":["Mit\xe4 j\xe4tski maksaa?","J\xe4\xe4tel\xf6 maksaa 3 euroa."],"difficulty":"beginner","sourceChapter":"2.2","frequency":"high","verbType":1,"tags":["money","shopping"]},"s\xe4\xe4":{"baseForm":"s\xe4\xe4","russian":"\u043f\u043e\u0433\u043e\u0434\u0430","grammarInfo":"noun","pronunciation":"SAA","examples":["Millainen s\xe4\xe4 t\xe4n\xe4\xe4n on?","S\xe4\xe4 on nyt huono."],"difficulty":"beginner","sourceChapter":"3.1","frequency":"high","tags":["weather","nature"]},"aurinko":{"baseForm":"aurinko","russian":"\u0441\u043e\u043b\u043d\u0446\u0435","grammarInfo":"noun","pronunciation":"AU-rin-ko","examples":["Aurinko paistaa."],"difficulty":"beginner","sourceChapter":"3.1","frequency":"high","tags":["weather","nature"]},"paistaa":{"baseForm":"paistaa","russian":"\u0441\u0432\u0435\u0442\u0438\u0442\u044c, \u0441\u0438\u044f\u0442\u044c","grammarInfo":"verb type 1","pronunciation":"PAIS-taa","examples":["Aurinko paistaa ja on tosi l\xe4mmin."],"difficulty":"beginner","sourceChapter":"3.1","frequency":"medium","verbType":1,"tags":["weather","action"]},"yst\xe4v\xe4":{"baseForm":"yst\xe4v\xe4","russian":"\u0434\u0440\u0443\u0433, \u043f\u043e\u0434\u0440\u0443\u0433\u0430","grammarInfo":"noun","pronunciation":"YS-ta-va","examples":["Mikko on Pedron hyv\xe4 yst\xe4v\xe4."],"difficulty":"beginner","sourceChapter":"3.1","frequency":"high","tags":["relationship","social"]},"soittaa":{"baseForm":"soittaa","russian":"\u0437\u0432\u043e\u043d\u0438\u0442\u044c","grammarInfo":"verb type 1","pronunciation":"SOIT-taa","examples":["T\xe4n\xe4\xe4n Pedro soittaa Mikolle videopuhelun."],"difficulty":"beginner","sourceChapter":"3.1","frequency":"high","verbType":1,"tags":["communication","technology"]},"auttaa":{"baseForm":"auttaa","russian":"\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u044c","grammarInfo":"verb type 1, takes partitive case","pronunciation":"AUT-taa","examples":["Anteeksi, voitko auttaa v\xe4h\xe4n?"],"difficulty":"beginner","sourceChapter":"3.2","frequency":"high","verbType":1,"tags":["help","social"]},"perhe":{"baseForm":"perhe","russian":"\u0441\u0435\u043c\u044c\u044f","grammarInfo":"noun","pronunciation":"PER-he","examples":["Minulla ei ole perhett\xe4 Suomessa."],"difficulty":"beginner","sourceChapter":"4.1","frequency":"high","tags":["family","relationship"]},"naimisissa":{"baseForm":"naimisissa","russian":"\u0437\u0430\u043c\u0443\u0436\u0435\u043c, \u0436\u0435\u043d\u0430\u0442","grammarInfo":"adjective/adverb, used with \'olla\' verb","pronunciation":"NAI-mis-sis-sa","examples":["Min\xe4 olen naimisissa Veijon kanssa."],"difficulty":"beginner","sourceChapter":"4.1","frequency":"medium","tags":["family","status"]},"rakastaa":{"baseForm":"rakastaa","russian":"\u043b\u044e\u0431\u0438\u0442\u044c","grammarInfo":"verb type 1, takes partitive case","pronunciation":"RA-kas-taa","examples":["Min\xe4 rakastan h\xe4nt\xe4."],"difficulty":"beginner","sourceChapter":"4.1","frequency":"high","verbType":1,"tags":["emotion","relationship"]},"lapsi":{"baseForm":"lapsi","russian":"\u0440\u0435\u0431\u0435\u043d\u043e\u043a","grammarInfo":"noun, irregular declension (gen: lapsen, part: lasta)","pronunciation":"LAP-si","examples":["Meill\xe4 on yksi lapsi."],"difficulty":"beginner","sourceChapter":"4.1","frequency":"high","tags":["family","age"]},"vaatteet":{"baseForm":"vaate","russian":"\u043e\u0434\u0435\u0436\u0434\u0430","grammarInfo":"noun, usually used in plural \'vaatteet\'","pronunciation":"VAAT-teet","examples":["Pedro menee vaatekauppaan."],"difficulty":"beginner","sourceChapter":"4.2","frequency":"medium","tags":["clothing","shopping"]},"koko":{"baseForm":"koko","russian":"\u0440\u0430\u0437\u043c\u0435\u0440","grammarInfo":"noun","pronunciation":"KO-ko","examples":["Onko t\xe4st\xe4 L-kokoa?"],"difficulty":"beginner","sourceChapter":"4.2","frequency":"medium","tags":["clothing","size"]},"her\xe4t\xe4":{"baseForm":"her\xe4t\xe4","russian":"\u043f\u0440\u043e\u0441\u044b\u043f\u0430\u0442\u044c\u0441\u044f","grammarInfo":"verb type 4, intransitive","pronunciation":"HE-r\xe4-t\xe4","examples":["Min\xe4 her\xe4\xe4n kello kuusi.","Milloin sin\xe4 her\xe4\xe4t?"],"difficulty":"beginner","sourceChapter":"5.1","frequency":"high","verbType":4,"tags":["daily_routine","time"]},"her\xe4tyskello":{"baseForm":"her\xe4tyskello","russian":"\u0431\u0443\u0434\u0438\u043b\u044c\u043d\u0438\u043a","grammarInfo":"noun, compound word (her\xe4tys + kello)","pronunciation":"HE-r\xe4-tys-kel-lo","examples":["Her\xe4tyskello soi kello kuusi.","Unohdin laittaa her\xe4tyskellon p\xe4\xe4lle."],"difficulty":"beginner","sourceChapter":"5.1","frequency":"medium","tags":["daily_routine","technology"]},"soida":{"baseForm":"soida","russian":"\u0437\u0432\u043e\u043d\u0438\u0442\u044c, \u0437\u0432\u0443\u0447\u0430\u0442\u044c","grammarInfo":"verb type 2, intransitive","pronunciation":"SOI-da","examples":["Puhelin soi.","Her\xe4tyskello soi aamulla."],"difficulty":"beginner","sourceChapter":"5.1","frequency":"high","verbType":2,"tags":["sound","technology"]},"k\xe4yd\xe4":{"baseForm":"k\xe4yd\xe4","russian":"\u0438\u0434\u0442\u0438, \u043f\u043e\u0441\u0435\u0449\u0430\u0442\u044c","grammarInfo":"verb type 2, requires inessive case for location","pronunciation":"K\xc4Y-d\xe4","examples":["K\xe4yn suihkussa.","K\xe4yn kaupassa."],"difficulty":"beginner","sourceChapter":"5.1","frequency":"high","verbType":2,"tags":["movement","daily_routine"]},"aamupala":{"baseForm":"aamupala","russian":"\u0437\u0430\u0432\u0442\u0440\u0430\u043a","grammarInfo":"noun, compound word (aamu + pala)","pronunciation":"AA-mu-pa-la","examples":["Sy\xf6mme aamupalaa yhdess\xe4.","Teen aamupalaa keitti\xf6ss\xe4."],"difficulty":"beginner","sourceChapter":"5.1","frequency":"high","tags":["food","daily_routine"]},"yhdess\xe4":{"baseForm":"yhdess\xe4","russian":"\u0432\u043c\u0435\u0441\u0442\u0435","grammarInfo":"adverb","pronunciation":"YH-des-s\xe4","examples":["Sy\xf6mme yhdess\xe4 aamupalaa.","Teemme jotain yhdess\xe4."],"difficulty":"beginner","sourceChapter":"5.1","frequency":"high","tags":["social","togetherness"]},"yleens\xe4":{"baseForm":"yleens\xe4","russian":"\u043e\u0431\u044b\u0447\u043d\u043e","grammarInfo":"adverb","pronunciation":"Y-leen-s\xe4","examples":["Lapset sy\xf6v\xe4t yleens\xe4 muroja.","Yleens\xe4 k\xe4yn t\xf6iss\xe4 bussilla."],"difficulty":"beginner","sourceChapter":"5.1","frequency":"high","tags":["frequency","habit"]},"v\xe4synyt":{"baseForm":"v\xe4synyt","russian":"\u0443\u0441\u0442\u0430\u0432\u0448\u0438\u0439","grammarInfo":"adjective, past participle of v\xe4sy\xe4","pronunciation":"V\xc4-sy-nyt","examples":["Min\xe4 olen v\xe4synyt.","Lapset eiv\xe4t ole v\xe4syneit\xe4."],"difficulty":"beginner","sourceChapter":"5.1","frequency":"high","tags":["feeling","state"]},"usein":{"baseForm":"usein","russian":"\u0447\u0430\u0441\u0442\u043e","grammarInfo":"adverb","pronunciation":"U-sein","examples":["Iltaisin teemme usein jotain yhdess\xe4.","K\xe4yn usein uimahallissa."],"difficulty":"beginner","sourceChapter":"5.1","frequency":"high","tags":["frequency","habit"]},"jotain":{"baseForm":"jotain","russian":"\u0447\u0442\u043e-\u0442\u043e, \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c","grammarInfo":"indefinite pronoun, partitive form of jokin","pronunciation":"JO-tain","examples":["Teemme jotain yhdess\xe4.","Haluan sy\xf6d\xe4 jotain."],"difficulty":"beginner","sourceChapter":"5.1","frequency":"high","tags":["indefinite","general"]},"asuntoilmoitus":{"baseForm":"asuntoilmoitus","russian":"\u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043e \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0435","grammarInfo":"noun, compound word (asunto + ilmoitus)","pronunciation":"A-sun-to-il-moi-tus","examples":["Luen asuntoilmoituksia lehdest\xe4.","T\xe4m\xe4 asuntoilmoitus n\xe4ytt\xe4\xe4 hyv\xe4lt\xe4."],"difficulty":"beginner","sourceChapter":"6.1","frequency":"medium","tags":["housing","advertisement"]},"vuokra":{"baseForm":"vuokra","russian":"\u0430\u0440\u0435\u043d\u0434\u043d\u0430\u044f \u043f\u043b\u0430\u0442\u0430","grammarInfo":"noun","pronunciation":"VUOK-ra","examples":["Vuokra on 870 euroa kuukaudessa.","Vuokra maksetaan kuun alussa."],"difficulty":"beginner","sourceChapter":"6.1","frequency":"high","tags":["housing","money"]},"kaksio":{"baseForm":"kaksio","russian":"\u0434\u0432\u0443\u0445\u043a\u043e\u043c\u043d\u0430\u0442\u043d\u0430\u044f \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430","grammarInfo":"noun, from \'kaksi\' (two)","pronunciation":"KAK-si-o","examples":["Etsimme kaksiota Helsingist\xe4.","Kaksio on meille sopiva."],"difficulty":"beginner","sourceChapter":"6.1","frequency":"high","tags":["housing","apartment"]},"kerrostalo":{"baseForm":"kerrostalo","russian":"\u043c\u043d\u043e\u0433\u043e\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u043d\u044b\u0439 \u0434\u043e\u043c","grammarInfo":"noun, compound word (kerros + talo)","pronunciation":"KER-ros-ta-lo","examples":["Asumme kerrostalossa.","Kerrostalo on viisikerroksinen."],"difficulty":"beginner","sourceChapter":"6.1","frequency":"high","tags":["housing","building"]},"rauhallinen":{"baseForm":"rauhallinen","russian":"\u0441\u043f\u043e\u043a\u043e\u0439\u043d\u044b\u0439, \u0442\u0438\u0445\u0438\u0439","grammarInfo":"adjective","pronunciation":"RAU-hal-li-nen","examples":["Rauhallinen sijainti on t\xe4rke\xe4\xe4.","Alue on rauhallinen."],"difficulty":"beginner","sourceChapter":"6.1","frequency":"medium","tags":["description","quality"]},"viihtyis\xe4":{"baseForm":"viihtyis\xe4","russian":"\u0443\u044e\u0442\u043d\u044b\u0439","grammarInfo":"adjective","pronunciation":"VIIH-ty-i-s\xe4","examples":["Viihtyis\xe4 alue on hyv\xe4 perheille.","Koti on viihtyis\xe4."],"difficulty":"beginner","sourceChapter":"6.1","frequency":"medium","tags":["description","comfort"]},"hissi":{"baseForm":"hissi","russian":"\u043b\u0438\u0444\u0442","grammarInfo":"noun","pronunciation":"HIS-si","examples":["Talossa ei ole hissi\xe4.","Menen hissill\xe4 yl\xf6s."],"difficulty":"beginner","sourceChapter":"6.1","frequency":"medium","tags":["building","transportation"]},"parveke":{"baseForm":"parveke","russian":"\u0431\u0430\u043b\u043a\u043e\u043d","grammarInfo":"noun","pronunciation":"PAR-ve-ke","examples":["Asunnossa on pieni parveke.","Istun parvekkeella."],"difficulty":"beginner","sourceChapter":"6.1","frequency":"medium","tags":["housing","space"]},"muutto":{"baseForm":"muutto","russian":"\u043f\u0435\u0440\u0435\u0435\u0437\u0434","grammarInfo":"noun","pronunciation":"MUUT-to","examples":["Muutto on stressaavaa.","Muutto on huomenna."],"difficulty":"beginner","sourceChapter":"6.2","frequency":"medium","tags":["housing","change"]},"laatikko":{"baseForm":"laatikko","russian":"\u043a\u043e\u0440\u043e\u0431\u043a\u0430, \u044f\u0449\u0438\u043a","grammarInfo":"noun","pronunciation":"LAA-tik-ko","examples":["Kannan laatikon yl\xf6s.","Laatikossa on kirjoja."],"difficulty":"beginner","sourceChapter":"6.2","frequency":"medium","tags":["container","moving"]},"kantaa":{"baseForm":"kantaa","russian":"\u043d\u0435\u0441\u0442\u0438","grammarInfo":"verb type 1","pronunciation":"KAN-taa","examples":["Kannan raskaan laatikon.","Kantaako sinua selk\xe4?"],"difficulty":"beginner","sourceChapter":"6.2","frequency":"high","verbType":1,"tags":["movement","action"]},"vied\xe4":{"baseForm":"vied\xe4","russian":"\u043e\u0442\u043d\u043e\u0441\u0438\u0442\u044c, \u0443\u043d\u043e\u0441\u0438\u0442\u044c","grammarInfo":"verb type 2","pronunciation":"VIE-d\xe4","examples":["Vien tuolin olohuoneeseen.","Vied\xe4\xe4n tavarat yl\xf6s."],"difficulty":"beginner","sourceChapter":"6.2","frequency":"high","verbType":2,"tags":["movement","action"]},"nostaa":{"baseForm":"nostaa","russian":"\u043f\u043e\u0434\u043d\u0438\u043c\u0430\u0442\u044c","grammarInfo":"verb type 1","pronunciation":"NOS-taa","examples":["Nostaa tavarat autosta.","Nosta k\xe4si yl\xf6s."],"difficulty":"beginner","sourceChapter":"6.2","frequency":"high","verbType":1,"tags":["movement","action"]},"naapuri":{"baseForm":"naapuri","russian":"\u0441\u043e\u0441\u0435\u0434","grammarInfo":"noun","pronunciation":"NAA-pu-ri","examples":["Naapuri auttaa muutossa.","Naapurit ovat yst\xe4v\xe4llisi\xe4."],"difficulty":"beginner","sourceChapter":"6.2","frequency":"medium","tags":["relationship","housing"]},"sis\xe4\xe4n":{"baseForm":"sis\xe4\xe4n","russian":"\u0432\u043d\u0443\u0442\u0440\u044c","grammarInfo":"adverb","pronunciation":"SI-s\xe4\xe4n","examples":["Mene sis\xe4\xe4n taloon.","Kantaa tavarat sis\xe4\xe4n."],"difficulty":"beginner","sourceChapter":"6.2","frequency":"high","tags":["direction","movement"]},"ulos":{"baseForm":"ulos","russian":"\u043d\u0430\u0440\u0443\u0436\u0443, \u043d\u0430 \u0443\u043b\u0438\u0446\u0443","grammarInfo":"adverb","pronunciation":"U-los","examples":["Mene ulos pihalle.","Lapset menev\xe4t ulos."],"difficulty":"beginner","sourceChapter":"6.2","frequency":"high","tags":["direction","movement"]},"yl\xf6s":{"baseForm":"yl\xf6s","russian":"\u0432\u0432\u0435\u0440\u0445, \u043d\u0430\u0432\u0435\u0440\u0445","grammarInfo":"adverb","pronunciation":"Y-l\xf6s","examples":["Mene yl\xf6s rappusia.","Vie laatikko yl\xf6s."],"difficulty":"beginner","sourceChapter":"6.2","frequency":"high","tags":["direction","movement"]},"huoltoyhti\xf6":{"baseForm":"huoltoyhti\xf6","russian":"\u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u044e\u0449\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f","grammarInfo":"noun, compound word (huolto + yhti\xf6)","pronunciation":"HUOL-to-yh-ti-\xf6","examples":["Soitan huoltoyhti\xf6\xf6n.","Huoltoyhti\xf6 hoitaa talon asiat."],"difficulty":"beginner","sourceChapter":"6.3","frequency":"medium","tags":["service","housing"]},"varata":{"baseForm":"varata","russian":"\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c","grammarInfo":"verb type 4","pronunciation":"VA-ra-ta","examples":["Varaan saunavuoron.","Varaa p\xf6yt\xe4 ravintolasta."],"difficulty":"beginner","sourceChapter":"6.3","frequency":"medium","verbType":4,"tags":["booking","service"]},"saunavuoro":{"baseForm":"saunavuoro","russian":"\u0441\u043c\u0435\u043d\u0430 \u0432 \u0441\u0430\u0443\u043d\u0435","grammarInfo":"noun, compound word (sauna + vuoro)","pronunciation":"SAU-na-vuo-ro","examples":["Varaan saunavuoron perjantaille.","Saunavuoro on tunti."],"difficulty":"beginner","sourceChapter":"6.3","frequency":"low","tags":["sauna","booking"]},"matkustaa":{"baseForm":"matkustaa","russian":"\u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c","grammarInfo":"verb type 1","pronunciation":"MAT-kus-taa","examples":["Matkustamme junalla Tampereelle.","Tykk\xe4\xe4n matkustaa."],"difficulty":"beginner","sourceChapter":"7.1","frequency":"medium","verbType":1,"tags":["travel","movement"]},"juna":{"baseForm":"juna","russian":"\u043f\u043e\u0435\u0437\u0434","grammarInfo":"noun","pronunciation":"JU-na","examples":["Juna l\xe4htee kello kymmenen.","Matkustamme junalla."],"difficulty":"beginner","sourceChapter":"7.1","frequency":"high","tags":["transportation","travel"]},"auto":{"baseForm":"auto","russian":"\u043c\u0430\u0448\u0438\u043d\u0430, \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c","grammarInfo":"noun","pronunciation":"AU-to","examples":["Menemme autolla t\xf6ihin.","Auto on pys\xe4k\xf6ity pihalla."],"difficulty":"beginner","sourceChapter":"7.1","frequency":"high","tags":["transportation","vehicle"]},"bussi":{"baseForm":"bussi","russian":"\u0430\u0432\u0442\u043e\u0431\u0443\u0441","grammarInfo":"noun","pronunciation":"BUS-si","examples":["Bussi tulee kohta.","Matkustan bussilla t\xf6ihin."],"difficulty":"beginner","sourceChapter":"7.1","frequency":"high","tags":["transportation","public_transport"]},"hotelli":{"baseForm":"hotelli","russian":"\u043e\u0442\u0435\u043b\u044c","grammarInfo":"noun","pronunciation":"HO-tel-li","examples":["Y\xf6vymme hotellissa.","Hotelli on keskustassa."],"difficulty":"beginner","sourceChapter":"7.2","frequency":"medium","tags":["accommodation","travel"]},"varaus":{"baseForm":"varaus","russian":"\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","grammarInfo":"noun","pronunciation":"VA-raus","examples":["Meill\xe4 on varaus nimell\xe4 Lahtinen.","Tee varaus ravintolaan."],"difficulty":"beginner","sourceChapter":"7.2","frequency":"medium","tags":["booking","service"]},"virkailija":{"baseForm":"virkailija","russian":"\u0441\u043b\u0443\u0436\u0430\u0449\u0438\u0439, \u043a\u043b\u0435\u0440\u043a","grammarInfo":"noun","pronunciation":"VIR-kai-li-ja","examples":["Hotellivirkailija auttaa asiakkaita.","Virkailija tarkistaa varauksen."],"difficulty":"beginner","sourceChapter":"7.2","frequency":"medium","tags":["profession","service"]},"onnea":{"baseForm":"onni","russian":"\u0441\u0447\u0430\u0441\u0442\u044c\u0435, \u0443\u0434\u0430\u0447\u0430","grammarInfo":"noun, partitive form used in congratulations","pronunciation":"ON-nea","examples":["Paljon onnea!","Onnea uuteen kotiin!"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["celebration","congratulation"]},"tupaantuliaiset":{"baseForm":"tupaantuliaiset","russian":"\u043d\u043e\u0432\u043e\u0441\u0435\u043b\u044c\u0435","grammarInfo":"noun, always plural","pronunciation":"TU-paan-tu-li-ai-set","examples":["J\xe4rjest\xe4mme tupaantuliaiset lauantaina."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"low","tags":["celebration","housing"]},"imuroida":{"baseForm":"imuroida","russian":"\u043f\u044b\u043b\u0435\u0441\u043e\u0441\u0438\u0442\u044c","grammarInfo":"verb type 3","pronunciation":"I-mu-roi-da","examples":["Min\xe4 imuroin lattiat."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","verbType":3,"tags":["cleaning","household"]},"sill\xe4_aikaa":{"baseForm":"sill\xe4 aikaa","russian":"\u0442\u0435\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0435\u043c","grammarInfo":"adverbial phrase","pronunciation":"SIL-l\xe4 AI-kaa","examples":["Min\xe4 imuroin sill\xe4 aikaa."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["time","meanwhile"]},"ostoslista":{"baseForm":"ostoslista","russian":"\u0441\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043a\u0443\u043f\u043e\u043a","grammarInfo":"noun, compound word (ostos + lista)","pronunciation":"OS-tos-lis-ta","examples":["Kirjoitan ostoslistan."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["shopping","planning"]},"tehd\xe4\xe4n":{"baseForm":"tehd\xe4","russian":"\u0441\u0434\u0435\u043b\u0430\u0435\u043c","grammarInfo":"verb, passive/impersonal form","pronunciation":"TEH-d\xe4\xe4n","examples":["Tehd\xe4\xe4n pastasalaattia!"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"high","tags":["action","suggestion"]},"pastasalaatti":{"baseForm":"pastasalaatti","russian":"\u0441\u0430\u043b\u0430\u0442 \u0441 \u043c\u0430\u043a\u0430\u0440\u043e\u043d\u0430\u043c\u0438","grammarInfo":"noun, compound word (pasta + salaatti)","pronunciation":"PAS-ta-sa-laat-ti","examples":["Tehd\xe4\xe4n pastasalaattia."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"low","tags":["food","dish"]},"lihapulla":{"baseForm":"lihapulla","russian":"\u0444\u0440\u0438\u043a\u0430\u0434\u0435\u043b\u044c\u043a\u0430","grammarInfo":"noun, compound word (liha + pulla)","pronunciation":"LI-ha-pul-la","examples":["Teemme lihapullia."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["food","meat"]},"tehdaan_vaan":{"baseForm":"tehd\xe4\xe4n vaan","russian":"\u0434\u0430\u0432\u0430\u0439(\u0442\u0435) \u0441\u0434\u0435\u043b\u0430\u0435\u043c","grammarInfo":"phrase, colloquial","pronunciation":"TEH-d\xe4\xe4n VAAN","examples":["Tehd\xe4\xe4n vaan!"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["agreement","colloquial"]},"leipoa":{"baseForm":"leipoa","russian":"\u043f\u0435\u0447\u044c","grammarInfo":"verb type 1","pronunciation":"LEI-po-a","examples":["Leipon sitruunakakkua."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","verbType":1,"tags":["cooking","baking"]},"ihana":{"baseForm":"ihana","russian":"\u0447\u0443\u0434\u0435\u0441\u043d\u044b\u0439, \u043f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u044b\u0439","grammarInfo":"adjective","pronunciation":"I-ha-na","examples":["Teill\xe4 on ihana koti!"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["description","positive"]},"sitruunakakku":{"baseForm":"sitruunakakku","russian":"\u043b\u0438\u043c\u043e\u043d\u043d\u044b\u0439 \u0442\u043e\u0440\u0442","grammarInfo":"noun, compound word (sitruuna + kakku)","pronunciation":"SIT-ruu-na-kak-ku","examples":["Leipon sitruunakakkua."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"low","tags":["food","dessert"]},"juotava":{"baseForm":"juotava","russian":"\u043d\u0430\u043f\u0438\u0442\u043e\u043a, \u043f\u0438\u0442\u044c\u0435","grammarInfo":"noun/adjective, derived from \'juoda\'","pronunciation":"JUO-ta-va","examples":["Osta juotavaa."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["drink","beverage"]},"vieras":{"baseForm":"vieras","russian":"\u0433\u043e\u0441\u0442\u044c","grammarInfo":"noun","pronunciation":"VIE-ras","examples":["Vieraat saapuvat kuudelta."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["social","hospitality"]},"saapua":{"baseForm":"saapua","russian":"\u043f\u0440\u0438\u0431\u044b\u0432\u0430\u0442\u044c","grammarInfo":"verb type 1","pronunciation":"SAA-pua","examples":["Vieraat saapuvat kuudelta."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","verbType":1,"tags":["arrival","movement"]},"katsella":{"baseForm":"katsella","russian":"\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c, \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c","grammarInfo":"verb type 3, takes partitive","pronunciation":"KAT-sel-la","examples":["Katselen asuntoa."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","verbType":3,"tags":["observation","looking"]},"meist\xe4":{"baseForm":"me","russian":"\u043f\u043e-\u043d\u0430\u0448\u0435\u043c\u0443, \u043f\u043e \u043d\u0430\u0448\u0435\u043c\u0443 \u043c\u043d\u0435\u043d\u0438\u044e","grammarInfo":"pronoun, elative case","pronunciation":"MEIS-t\xe4","examples":["Meist\xe4kin t\xe4m\xe4 on kiva."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["opinion","perspective"]},"avara":{"baseForm":"avara","russian":"\u043f\u0440\u043e\u0441\u0442\u043e\u0440\u043d\u044b\u0439","grammarInfo":"adjective","pronunciation":"A-va-ra","examples":["T\xe4\xe4ll\xe4 on tosi avaraa."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["description","space"]},"aaress\xe4":{"baseForm":"\xe4\xe4ress\xe4","russian":"\u0437\u0430 (\u0441\u0442\u043e\u043b\u043e\u043c), \u0443 (\u0447\u0435\u0433\u043e-\u043b\u0438\u0431\u043e)","grammarInfo":"postposition, requires genitive","pronunciation":"\xc4\xc4-res-s\xe4","examples":["P\xf6yd\xe4n \xe4\xe4ress\xe4."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["location","position"]},"aina":{"baseForm":"aina","russian":"\u0432\u0441\u0435\u0433\u0434\u0430","grammarInfo":"adverb","pronunciation":"AI-na","examples":["Teen aina kotiteht\xe4v\xe4t."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"high","tags":["frequency","always"]},"kotitehtava":{"baseForm":"kotiteht\xe4v\xe4","russian":"\u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435","grammarInfo":"noun, compound word (koti + teht\xe4v\xe4)","pronunciation":"KO-ti-teh-t\xe4-v\xe4","examples":["Teen kotiteht\xe4v\xe4t."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["education","homework"]},"sama_juttu":{"baseForm":"sama juttu","russian":"\u0442\u043e \u0436\u0435 \u0441\u0430\u043c\u043e\u0435","grammarInfo":"phrase","pronunciation":"SA-ma JUT-tu","examples":["Sama juttu meill\xe4kin!"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["agreement","similarity"]},"lappari":{"baseForm":"l\xe4pp\xe4ri","russian":"\u043d\u043e\u0443\u0442\u0431\u0443\u043a (\u0440\u0430\u0437\u0433.)","grammarInfo":"noun, colloquial for \'kannettava tietokone\'","pronunciation":"L\xc4P-p\xe4-ri","examples":["L\xe4pp\xe4rit ovat p\xf6yd\xe4ll\xe4."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["technology","colloquial"]},"seisoa":{"baseForm":"seisoa","russian":"\u0441\u0442\u043e\u044f\u0442\u044c","grammarInfo":"verb type 1","pronunciation":"SEI-so-a","examples":["Seison bussipys\xe4kill\xe4."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"high","verbType":1,"tags":["position","standing"]},"vieressa":{"baseForm":"vieress\xe4","russian":"\u0440\u044f\u0434\u043e\u043c \u0441","grammarInfo":"postposition, requires genitive","pronunciation":"VIE-res-s\xe4","examples":["Kioski on vieress\xe4."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"high","tags":["location","beside"]},"keskustella":{"baseForm":"keskustella","russian":"\u0431\u0435\u0441\u0435\u0434\u043e\u0432\u0430\u0442\u044c","grammarInfo":"verb type 3","pronunciation":"KES-kus-tel-la","examples":["Keskustelemme ruoasta."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","verbType":3,"tags":["communication","talking"]},"salaatti":{"baseForm":"salaatti","russian":"\u0441\u0430\u043b\u0430\u0442","grammarInfo":"noun","pronunciation":"SA-laat-ti","examples":["T\xe4m\xe4 salaatti on hyv\xe4\xe4!"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["food","healthy"]},"niin_minustakin":{"baseForm":"niin minustakin","russian":"\u044f \u0442\u043e\u0436\u0435 \u0442\u0430\u043a \u0434\u0443\u043c\u0430\u044e","grammarInfo":"phrase","pronunciation":"NIIN MI-nus-ta-kin","examples":["Niin minustakin!"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["agreement","opinion"]},"valkosipuli":{"baseForm":"valkosipuli","russian":"\u0447\u0435\u0441\u043d\u043e\u043a","grammarInfo":"noun, compound word (valko + sipuli)","pronunciation":"VAL-ko-si-pu-li","examples":["Salaatissa on valkosipulia."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["food","ingredient"]},"chili":{"baseForm":"chili","russian":"\u0447\u0438\u043b\u0438","grammarInfo":"noun","pronunciation":"CHI-li","examples":["Salaatissa on chili\xf6ljy\xe4."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["food","spice"]},"oljy":{"baseForm":"\xf6ljy","russian":"\u043c\u0430\u0441\u043b\u043e (\u0440\u0430\u0441\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435)","grammarInfo":"noun","pronunciation":"\xd6L-jy","examples":["Chili\xf6ljy on tulista."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["food","ingredient"]},"siksi":{"baseForm":"siksi","russian":"\u043f\u043e\u044d\u0442\u043e\u043c\u0443","grammarInfo":"adverb","pronunciation":"SIK-si","examples":["Siksi se maistuu tuliselta."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"high","tags":["reason","therefore"]},"maistua_lta_lta":{"baseForm":"maistua","russian":"\u0431\u044b\u0442\u044c \u043d\u0430 \u0432\u043a\u0443\u0441","grammarInfo":"verb type 1, takes ablative case (-lta/-lt\xe4)","pronunciation":"MAIS-tua","examples":["Se maistuu tuliselta."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","verbType":1,"tags":["taste","sensation"]},"tulinen":{"baseForm":"tulinen","russian":"\u043e\u0441\u0442\u0440\u044b\u0439","grammarInfo":"adjective","pronunciation":"TU-li-nen","examples":["Ruoka on tulista."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["taste","spicy"]},"kai":{"baseForm":"kai","russian":"\u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e, \u043d\u0430\u0432\u0435\u0440\u043d\u043e\u0435","grammarInfo":"particle","pronunciation":"KAI","examples":["Ei kai se ole liian tulista?"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"high","tags":["uncertainty","probably"]},"liian":{"baseForm":"liian","russian":"\u0441\u043b\u0438\u0448\u043a\u043e\u043c","grammarInfo":"adverb","pronunciation":"LII-an","examples":["Liian tulista."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"high","tags":["degree","too_much"]},"juuri":{"baseForm":"juuri","russian":"\u0438\u043c\u0435\u043d\u043d\u043e, \u043a\u0430\u043a \u0440\u0430\u0437","grammarInfo":"adverb","pronunciation":"JUU-ri","examples":["Se on juuri sopivaa."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"high","tags":["exactly","just"]},"sopiva":{"baseForm":"sopiva","russian":"\u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0439","grammarInfo":"adjective","pronunciation":"SO-pi-va","examples":["Se on sopivaa."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["suitability","appropriate"]},"nayttaa_lta_lta":{"baseForm":"n\xe4ytt\xe4\xe4","russian":"\u0432\u044b\u0433\u043b\u044f\u0434\u0435\u0442\u044c","grammarInfo":"verb type 1, takes ablative case (-lta/-lt\xe4)","pronunciation":"N\xc4YT-t\xe4\xe4","examples":["Kakku n\xe4ytt\xe4\xe4 herkulliselta."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"high","verbType":1,"tags":["appearance","looking"]},"toivottavasti":{"baseForm":"toivottavasti","russian":"\u043d\u0430\u0434\u0435\u044e\u0441\u044c","grammarInfo":"adverb","pronunciation":"TOI-vot-ta-vas-ti","examples":["Toivottavasti se maistuu hyv\xe4lt\xe4."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["hope","wish"]},"valmis":{"baseForm":"valmis","russian":"\u0433\u043e\u0442\u043e\u0432\u044b\u0439","grammarInfo":"adjective","pronunciation":"VAL-mis","examples":["Onko kahvi valmista?"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"high","tags":["completion","ready"]},"tulkaa_ottamaan":{"baseForm":"tulla ottamaan","russian":"\u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442\u0435, \u0431\u0435\u0440\u0438\u0442\u0435","grammarInfo":"verb phrase, imperative + infinitive","pronunciation":"TUL-kaa OT-ta-maan","examples":["Tulkaa ottamaan kahvia!"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["invitation","imperative"]},"kakku":{"baseForm":"kakku","russian":"\u0442\u043e\u0440\u0442, \u043f\u0438\u0440\u043e\u0433","grammarInfo":"noun","pronunciation":"KAK-ku","examples":["Kakku on herkullista."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["food","dessert"]},"sitruuna":{"baseForm":"sitruuna","russian":"\u043b\u0438\u043c\u043e\u043d","grammarInfo":"noun","pronunciation":"SIT-ruu-na","examples":["Sitruunakakku on hyv\xe4\xe4."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["food","fruit"]},"luomu":{"baseForm":"luomu","russian":"\u043e\u0440\u0433\u0430\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439","grammarInfo":"adjective/noun","pronunciation":"LUO-mu","examples":["Luomumuna on terveellist\xe4."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["organic","healthy"]},"muna":{"baseForm":"muna","russian":"\u044f\u0439\u0446\u043e","grammarInfo":"noun","pronunciation":"MU-na","examples":["Kakussa on munia."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["food","ingredient"]},"voi":{"baseForm":"voi","russian":"\u043c\u0430\u0441\u043b\u043e (\u0441\u043b\u0438\u0432\u043e\u0447\u043d\u043e\u0435)","grammarInfo":"noun","pronunciation":"VOI","examples":["Voita ja sokeria."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["food","ingredient"]},"olut":{"baseForm":"olut","russian":"\u043f\u0438\u0432\u043e","grammarInfo":"noun","pronunciation":"O-lut","examples":["Otan oluen."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["drink","alcohol"]},"vissy":{"baseForm":"vissy","russian":"\u043c\u0438\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u0432\u043e\u0434\u0430 (\u0440\u0430\u0437\u0433.)","grammarInfo":"noun, colloquial","pronunciation":"VIS-sy","examples":["Otan vissy\xe4."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["drink","colloquial"]},"syntymapaiva":{"baseForm":"syntym\xe4p\xe4iv\xe4","russian":"\u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f","grammarInfo":"noun, compound word (syntym\xe4 + p\xe4iv\xe4)","pronunciation":"SYN-ty-m\xe4-p\xe4i-v\xe4","examples":["T\xe4n\xe4\xe4n on minun syntym\xe4p\xe4iv\xe4ni."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["celebration","birthday"]},"nimipaiva":{"baseForm":"nimip\xe4iv\xe4","russian":"\u0438\u043c\u0435\u043d\u0438\u043d\u044b","grammarInfo":"noun, compound word (nimi + p\xe4iv\xe4)","pronunciation":"NI-mi-p\xe4i-v\xe4","examples":["Hyv\xe4\xe4 nimip\xe4iv\xe4\xe4!"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["celebration","nameday"]},"ristiaiset":{"baseForm":"risti\xe4iset","russian":"\u043a\u0440\u0435\u0441\u0442\u0438\u043d\u044b","grammarInfo":"noun, always plural","pronunciation":"RIS-ti-\xe4i-set","examples":["Menemme risti\xe4isiin."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"low","tags":["celebration","religious"]},"haat":{"baseForm":"h\xe4\xe4t","russian":"\u0441\u0432\u0430\u0434\u044c\u0431\u0430","grammarInfo":"noun, always plural","pronunciation":"H\xc4\xc4T","examples":["H\xe4\xe4t ovat kes\xe4ll\xe4."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["celebration","wedding"]},"hautajaiset":{"baseForm":"hautajaiset","russian":"\u043f\u043e\u0445\u043e\u0440\u043e\u043d\u044b","grammarInfo":"noun, always plural","pronunciation":"HAU-ta-jai-set","examples":["Hautajaiset ovat tiistaina."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"low","tags":["ceremony","funeral"]},"valmistujaiset":{"baseForm":"valmistujaiset","russian":"\u0432\u044b\u043f\u0443\u0441\u043a\u043d\u043e\u0439","grammarInfo":"noun, always plural","pronunciation":"VAL-mis-tu-jai-set","examples":["Valmistujaiset ovat toukokuussa."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"low","tags":["celebration","graduation"]},"hyvaa_nimipaivaa":{"baseForm":"hyv\xe4\xe4 nimip\xe4iv\xe4\xe4","russian":"\u0441 \u0438\u043c\u0435\u043d\u0438\u043d\u0430\u043c\u0438","grammarInfo":"greeting phrase","pronunciation":"HY-v\xe4\xe4 NI-mi-p\xe4i-v\xe4\xe4","examples":["Hyv\xe4\xe4 nimip\xe4iv\xe4\xe4 Matti!"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["greeting","celebration"]},"onnea_haaparille":{"baseForm":"onnea h\xe4\xe4parille","russian":"\u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043c\u043e\u043b\u043e\u0434\u043e\u0436\u0435\u043d\u043e\u0432","grammarInfo":"congratulation phrase","pronunciation":"ON-nea H\xc4\xc4-pa-ril-le","examples":["Paljon onnea h\xe4\xe4parille!"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"low","tags":["congratulation","wedding"]},"lammin_osanottoni":{"baseForm":"l\xe4mmin osanottoni","russian":"\u043c\u043e\u0438 \u0433\u043b\u0443\u0431\u043e\u043a\u0438\u0435 \u0441\u043e\u0431\u043e\u043b\u0435\u0437\u043d\u043e\u0432\u0430\u043d\u0438\u044f","grammarInfo":"condolence phrase","pronunciation":"L\xc4M-min O-san-ot-to-ni","examples":["L\xe4mmin osanottoni."],"difficulty":"beginner","sourceChapter":"8.1","frequency":"low","tags":["condolence","sympathy"]},"onnea_uuteen_kotiin":{"baseForm":"onnea uuteen kotiin","russian":"\u0441 \u043d\u043e\u0432\u044b\u043c \u0434\u043e\u043c\u043e\u043c","grammarInfo":"congratulation phrase","pronunciation":"ON-nea UU-teen KO-tiin","examples":["Onnea uuteen kotiin!"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["congratulation","housing"]},"hyvaa_paivanjatkoa":{"baseForm":"hyv\xe4\xe4 p\xe4iv\xe4njatkoa","russian":"\u0445\u043e\u0440\u043e\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u044f \u0434\u043d\u044f","grammarInfo":"farewell phrase","pronunciation":"HY-v\xe4\xe4 P\xc4I-v\xe4n-jak-koa","examples":["Hyv\xe4\xe4 p\xe4iv\xe4njatkoa!"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["farewell","polite"]},"kiitos_samoin":{"baseForm":"kiitos samoin","russian":"\u0441\u043f\u0430\u0441\u0438\u0431\u043e, \u0432\u0437\u0430\u0438\u043c\u043d\u043e","grammarInfo":"response phrase","pronunciation":"KII-tos SA-moin","examples":["Kiitos samoin!"],"difficulty":"beginner","sourceChapter":"8.1","frequency":"medium","tags":["response","polite"]},"loytaa_perille":{"baseForm":"l\xf6yt\xe4\xe4 perille","russian":"\u043d\u0430\u0439\u0442\u0438 \u0434\u043e\u0440\u043e\u0433\u0443, \u0434\u043e\u0431\u0440\u0430\u0442\u044c\u0441\u044f","grammarInfo":"verb phrase","pronunciation":"L\xd6Y-t\xe4\xe4 PE-ril-le","examples":["En l\xf6yd\xe4 perille."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"medium","tags":["navigation","finding"]},"ongelma":{"baseForm":"ongelma","russian":"\u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430","grammarInfo":"noun","pronunciation":"ON-gel-ma","examples":["Mulla on ongelma."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"medium","tags":["problem","difficulty"]},"toisella_puolella":{"baseForm":"toisella puolella","russian":"\u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435","grammarInfo":"postposition phrase, requires genitive","pronunciation":"TOI-sel-la PUO-lel-la","examples":["Tien toisella puolella."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"medium","tags":["location","position"]},"pizzeria":{"baseForm":"pizzeria","russian":"\u043f\u0438\u0446\u0446\u0435\u0440\u0438\u044f","grammarInfo":"noun","pronunciation":"PIT-se-ri-a","examples":["Pizzeria on tien toisella puolella."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"medium","tags":["restaurant","food"]},"ihan_lahella":{"baseForm":"ihan l\xe4hell\xe4","russian":"\u0441\u043e\u0432\u0441\u0435\u043c \u0431\u043b\u0438\u0437\u043a\u043e","grammarInfo":"adverbial phrase","pronunciation":"I-han L\xc4-hel-l\xe4","examples":["S\xe4 oot ihan l\xe4hell\xe4."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"medium","tags":["distance","proximity"]},"suunta":{"baseForm":"suunta","russian":"\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435","grammarInfo":"noun","pronunciation":"SUUN-ta","examples":["Mihin suuntaan m\xe4 l\xe4hen?"],"difficulty":"beginner","sourceChapter":"8.2","frequency":"medium","tags":["direction","navigation"]},"sinne_pain":{"baseForm":"sinne p\xe4in","russian":"\u0432 \u0442\u0443 \u0441\u0442\u043e\u0440\u043e\u043d\u0443","grammarInfo":"adverbial phrase","pronunciation":"SIN-ne P\xc4IN","examples":["K\xe4vele sinne p\xe4in."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"medium","tags":["direction","movement"]},"kaantya":{"baseForm":"k\xe4\xe4nty\xe4","russian":"\u043f\u043e\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0442\u044c","grammarInfo":"verb type 1","pronunciation":"K\xc4\xc4N-ty\xe4","examples":["K\xe4\xe4nny oikealle."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"medium","verbType":1,"tags":["direction","movement"]},"eka":{"baseForm":"eka","russian":"\u043f\u0435\u0440\u0432\u044b\u0439 (\u0440\u0430\u0437\u0433.)","grammarInfo":"adjective, colloquial form of \'ensimm\xe4inen\'","pronunciation":"E-ka","examples":["K\xe4\xe4nny ekasta risteyksest\xe4."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"medium","tags":["order","colloquial"]},"risteys":{"baseForm":"risteys","russian":"\u043f\u0435\u0440\u0435\u043a\u0440\u0435\u0441\u0442\u043e\u043a","grammarInfo":"noun","pronunciation":"RIS-teys","examples":["K\xe4\xe4nny risteyksest\xe4 oikealle."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"medium","tags":["navigation","street"]},"oikealle":{"baseForm":"oikealle","russian":"\u043d\u0430\u043f\u0440\u0430\u0432\u043e","grammarInfo":"adverb","pronunciation":"OI-keal-le","examples":["K\xe4\xe4nny oikealle."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"high","tags":["direction","navigation"]},"jatkaa":{"baseForm":"jatkaa","russian":"\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0442\u044c","grammarInfo":"verb type 1","pronunciation":"JAT-kaa","examples":["Jatka viel\xe4 100 metri\xe4."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"high","verbType":1,"tags":["continuation","movement"]},"noin":{"baseForm":"noin","russian":"\u043e\u043a\u043e\u043b\u043e, \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u043e","grammarInfo":"adverb","pronunciation":"NOIN","examples":["Noin 100 metri\xe4 eteenp\xe4in."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"high","tags":["approximation","quantity"]},"metri":{"baseForm":"metri","russian":"\u043c\u0435\u0442\u0440","grammarInfo":"noun","pronunciation":"MET-ri","examples":["100 metri\xe4 eteenp\xe4in."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"medium","tags":["measurement","distance"]},"eteenpain":{"baseForm":"eteenp\xe4in","russian":"\u0432\u043f\u0435\u0440\u0435\u0434","grammarInfo":"adverb","pronunciation":"E-teen-p\xe4in","examples":["Jatka eteenp\xe4in."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"medium","tags":["direction","forward"]},"vasemmalla_puolella":{"baseForm":"vasemmalla puolella","russian":"\u0441 \u043b\u0435\u0432\u043e\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u044b","grammarInfo":"postposition phrase","pronunciation":"VA-sem-mal-la PUO-lel-la","examples":["Talo on vasemmalla puolella."],"difficulty":"beginner","sourceChapter":"8.2","frequency":"medium","tags":["location","position"]},"toimisto":{"baseForm":"toimisto","russian":"\u043e\u0444\u0438\u0441","grammarInfo":"noun","pronunciation":"TOI-mis-to","examples":["Ty\xf6skentelen toimistossa."],"difficulty":"beginner","sourceChapter":"9.1","frequency":"high","tags":["workplace","office"]},"ty\xf6piste":{"baseForm":"ty\xf6piste","russian":"\u0440\u0430\u0431\u043e\u0447\u0435\u0435 \u043c\u0435\u0441\u0442\u043e","grammarInfo":"noun, compound word (ty\xf6 + piste)","pronunciation":"TY\xd6-pis-te","examples":["T\xe4m\xe4 on sinun ty\xf6pisteesi."],"difficulty":"beginner","sourceChapter":"9.1","frequency":"medium","tags":["workplace","desk"]},"kulkukortti":{"baseForm":"kulkukortti","russian":"\u043f\u0440\u043e\u043f\u0443\u0441\u043a","grammarInfo":"noun, compound word (kulku + kortti)","pronunciation":"KUL-ku-kort-ti","examples":["Saan kulkukortin ensimm\xe4isen\xe4 p\xe4iv\xe4n\xe4."],"difficulty":"beginner","sourceChapter":"9.1","frequency":"medium","tags":["workplace","security"]},"kokous":{"baseForm":"kokous","russian":"\u0441\u043e\u0431\u0440\u0430\u043d\u0438\u0435, \u0432\u0441\u0442\u0440\u0435\u0447\u0430","grammarInfo":"noun","pronunciation":"KO-kous","examples":["Minulla on kokous kello kymmenen."],"difficulty":"beginner","sourceChapter":"9.1","frequency":"high","tags":["workplace","meeting"]},"projekti":{"baseForm":"projekti","russian":"\u043f\u0440\u043e\u0435\u043a\u0442","grammarInfo":"noun","pronunciation":"PRO-jek-ti","examples":["Ty\xf6skentelen uudessa projektissa."],"difficulty":"beginner","sourceChapter":"9.1","frequency":"high","tags":["workplace","work"]},"neuvotteluhuone":{"baseForm":"neuvotteluhuone","russian":"\u043f\u0435\u0440\u0435\u0433\u043e\u0432\u043e\u0440\u043d\u0430\u044f \u043a\u043e\u043c\u043d\u0430\u0442\u0430","grammarInfo":"noun, compound word (neuvottelu + huone)","pronunciation":"NEU-vot-te-lu-huo-ne","examples":["Kokous on neuvotteluhuoneessa."],"difficulty":"beginner","sourceChapter":"9.1","frequency":"medium","tags":["workplace","room"]},"k\xe4ytt\xe4j\xe4tunnus":{"baseForm":"k\xe4ytt\xe4j\xe4tunnus","russian":"\u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f","grammarInfo":"noun, compound word (k\xe4ytt\xe4j\xe4 + tunnus)","pronunciation":"K\xc4YT-t\xe4-j\xe4-tun-nus","examples":["Tarvitsen k\xe4ytt\xe4j\xe4tunnuksen."],"difficulty":"beginner","sourceChapter":"9.1","frequency":"medium","tags":["technology","access"]},"salasana":{"baseForm":"salasana","russian":"\u043f\u0430\u0440\u043e\u043b\u044c","grammarInfo":"noun, compound word (sala + sana)","pronunciation":"SA-la-sa-na","examples":["Unohdin salasanani."],"difficulty":"beginner","sourceChapter":"9.1","frequency":"medium","tags":["technology","security"]},"ev\xe4\xe4t":{"baseForm":"ev\xe4s","russian":"\u0435\u0434\u0430 \u0441 \u0441\u043e\u0431\u043e\u0439","grammarInfo":"noun, usually plural \'ev\xe4\xe4t\'","pronunciation":"E-v\xe4\xe4t","examples":["Onko sinulla ev\xe4\xe4t mukana?"],"difficulty":"beginner","sourceChapter":"9.1","frequency":"medium","tags":["food","workplace"]},"lounaspaikka":{"baseForm":"lounaspaikka","russian":"\u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u043e\u0431\u0435\u0434\u0430","grammarInfo":"noun, compound word (lounas + paikka)","pronunciation":"LOU-nas-paik-ka","examples":["Sy\xf6mme alakerran lounaspaikassa."],"difficulty":"beginner","sourceChapter":"9.1","frequency":"medium","tags":["workplace","food"]},"kanarisotto":{"baseForm":"kanarisotto","russian":"\u0440\u0438\u0437\u043e\u0442\u0442\u043e \u0441 \u043a\u0443\u0440\u0438\u0446\u0435\u0439","grammarInfo":"noun, compound word (kana + risotto)","pronunciation":"KA-na-ri-sot-to","examples":["Otan kanarisottoa."],"difficulty":"beginner","sourceChapter":"9.2","frequency":"low","tags":["food","dish"]},"kurpitsakeitto":{"baseForm":"kurpitsakeitto","russian":"\u0442\u044b\u043a\u0432\u0435\u043d\u043d\u044b\u0439 \u0441\u0443\u043f","grammarInfo":"noun, compound word (kurpitsa + keitto)","pronunciation":"KUR-pit-sa-keit-to","examples":["Otan kurpitsakeittoa."],"difficulty":"beginner","sourceChapter":"9.2","frequency":"low","tags":["food","soup"]},"savulohisalaatti":{"baseForm":"savulohisalaatti","russian":"\u0441\u0430\u043b\u0430\u0442 \u0441 \u043a\u043e\u043f\u0447\u0435\u043d\u044b\u043c \u043b\u043e\u0441\u043e\u0441\u0435\u043c","grammarInfo":"noun, compound word (savulohi + salaatti)","pronunciation":"SA-vu-lo-hi-sa-laat-ti","examples":["Savulohisalaatti on kevyt vaihtoehto."],"difficulty":"beginner","sourceChapter":"9.2","frequency":"low","tags":["food","salad"]},"tilausnumero":{"baseForm":"tilausnumero","russian":"\u043d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430","grammarInfo":"noun, compound word (tilaus + numero)","pronunciation":"TI-laus-nu-me-ro","examples":["T\xe4ss\xe4 on teid\xe4n tilausnumero."],"difficulty":"beginner","sourceChapter":"9.2","frequency":"medium","tags":["service","ordering"]}}}'),ae=JSON.parse('{"metadata":{"version":"2.0","lastUpdated":"2025-06-29","totalScripts":47,"source":"Suomen Mestari 1"},"scripts":[{"id":"dialogue_ch1","text":"Alex: Anteeksi, onko t\xe4\xe4ll\xe4 suomen kurssi? Olga: Joo, on. T\xe4m\xe4 on Suomi 1. Alex: Kiva. Hei, min\xe4 olen Alex. Kuka sin\xe4 olet? Olga: Min\xe4 olen Olga. Hauska tutustua! Pedro: Moi Olga! Mit\xe4 kuuluu? Olga: Terve Pedro! Kiitos, minulle kuuluu hyv\xe4\xe4. Ent\xe4 sinulle? Opettaja: Hei ja tervetuloa suomen kurssille! Minun nimi on P\xe4ivi Koskela.","lang":"fi","type":"dialogue","preferredTTS":"enhanced","sourceChapter":"1.1","estimatedDuration":45,"note":"Main dialogue from Chapter 1, Lesson 1 - first encounters"},{"id":"alphabet_practice","text":"a, aa, e, ee, i, ii, o, oo, u, uu, y, yy, \xe4, \xe4\xe4, \xf6, \xf6\xf6","lang":"fi","type":"pronunciation","preferredTTS":"enhanced","sourceChapter":"1.1","estimatedDuration":20,"note":"Alphabet pronunciation practice"},{"id":"classroom_questions","text":"Opettaja: Mik\xe4 sinun nimi on? Opiskelija: Minun nimi on Laura. Opettaja: Mist\xe4 sin\xe4 olet kotoisin? Opiskelija: Olen kotoisin Saksasta.","lang":"fi","type":"exercise","preferredTTS":"enhanced","sourceChapter":"1.1","estimatedDuration":15,"note":"Repurposed script for classroom interaction exercise"},{"id":"alphabet_world","text":"Suomen aakkoset: A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z, \xc4, \xd6. Suomessa on 29 kirjainta.","lang":"fi","type":"educational","preferredTTS":"enhanced","sourceChapter":"1.2","estimatedDuration":25,"note":"Introduction to Finnish alphabet"},{"id":"difficult_sounds","text":"\xe4, \xf6, y, ng, nk. Kyl\xe4, \xf6ljy, y\xf6, keng\xe4t, kiitos.","lang":"fi","type":"pronunciation","preferredTTS":"enhanced","sourceChapter":"1.2","estimatedDuration":15,"note":"Difficult Finnish sounds practice"},{"id":"dialogue_ch2","text":"Olga: Pedro, mink\xe4maalainen sin\xe4 olet? Pedro: Min\xe4 olen brasilialainen. Ent\xe4 sin\xe4? Olga: Min\xe4 olen ven\xe4l\xe4inen. Ent\xe4 Alex, mist\xe4 sin\xe4 olet kotoisin? Alex: Min\xe4 olen kotoisin Johannesburgista, Etel\xe4-Afrikasta. Olga: Ai jaa, mit\xe4 kielt\xe4 sin\xe4 puhut? Alex: Minun \xe4idinkieli on englanti, mutta puhun my\xf6s v\xe4h\xe4n espanjaa.","lang":"fi","type":"dialogue","preferredTTS":"enhanced","sourceChapter":"2.1","estimatedDuration":40,"note":"Dialogue about nationalities and languages"},{"id":"dialogue_ch2_puhekieli","text":"Myyj\xe4: Hei. Pedro: Hei. Mit\xe4 j\xe4tski maksaa? Myyj\xe4: Yks pallo maksaa 3 euroo ja kaks palloo 5 euroo. Pedro: Okei. No m\xe4 otan sit kaks palloo suklaata.","lang":"fi","type":"dialogue","preferredTTS":"standard","sourceChapter":"2.2","estimatedDuration":20,"note":"Spoken language dialogue at ice cream kiosk"},{"id":"script_ex30","text":"A: Mit\xe4 t\xe4m\xe4 bussi maksaa? B: Se maksaa kaksi euroa.","lang":"fi","type":"exercise","preferredTTS":"standard","sourceChapter":"2.2","estimatedDuration":8,"note":"Repurposed script for price inquiry exercise"},{"id":"vocab_kieli","text":"kieli","lang":"fi","type":"vocabulary","preferredTTS":"enhanced","sourceChapter":"2.1","estimatedDuration":2},{"id":"vocab_kotoisin","text":"kotoisin","lang":"fi","type":"vocabulary","preferredTTS":"enhanced","sourceChapter":"2.1","estimatedDuration":2},{"id":"dialogue_ch3","text":"Pedro: Moi Mikko! Oletko jo t\xf6iss\xe4? Mikko: No moi! En viel\xe4. Kello on t\xe4\xe4ll\xe4 vasta puoli kahdeksan. Pedro: Ai niin, totta. No, mit\xe4 kuuluu? Mikko: Ihan hyv\xe4\xe4, mutta s\xe4\xe4 on nyt huono. T\xe4n\xe4\xe4nkin sataa kaatamalla ja on tuulista.","lang":"fi","type":"dialogue","preferredTTS":"enhanced","sourceChapter":"3.1","estimatedDuration":35,"note":"Video call to Brazil - weather discussion"},{"id":"dialogue_ch3_puhekieli","text":"Kurssisihteeri: Hei! Pedro: Hei! M\xe4 haluaisin ilmoittautua suomen kurssille, tasolle kaks. Kurssisihteeri: Joo-o. Seuraava Suomi 2 -kurssi alkaa jo huomenna.","lang":"fi","type":"dialogue","preferredTTS":"standard","sourceChapter":"3.2","estimatedDuration":15,"note":"Course enrollment dialogue in spoken Finnish"},{"id":"script_ex14","text":"Millainen s\xe4\xe4 Tokiossa on? Siell\xe4 on hyv\xe4 ilma. On puolipilvist\xe4 ja tuulista. On l\xe4mmin. On plus kaksikymment\xe4 astetta.","lang":"fi","type":"exercise","preferredTTS":"enhanced","sourceChapter":"3.1","estimatedDuration":12,"note":"Weather report exercise script"},{"id":"vocab_s\xe4\xe4","text":"s\xe4\xe4","lang":"fi","type":"vocabulary","preferredTTS":"enhanced","sourceChapter":"3.1","estimatedDuration":2},{"id":"vocab_yst\xe4v\xe4","text":"yst\xe4v\xe4","lang":"fi","type":"vocabulary","preferredTTS":"enhanced","sourceChapter":"3.1","estimatedDuration":2},{"id":"monologues_ch4","text":"Olga: Min\xe4 olen Olga. Min\xe4 olen naimisissa Veijon kanssa. Meill\xe4 on yksi lapsi. Alex: Minun nimi on Alex ja olen 31 vuotta vanha. Olen pitk\xe4 ja hoikka ja pid\xe4n urheilusta. Pedro: Minun nimi on Pedro. Olen puhelias ja iloinen brasilialainen.","lang":"fi","type":"monologue","preferredTTS":"enhanced","sourceChapter":"4.1","estimatedDuration":30,"note":"Personal descriptions from three characters"},{"id":"dialogue_ch4_puhekieli","text":"Myyj\xe4: Hei, voinko auttaa? Pedro: Kiitos, m\xe4 vaan katselen. ... Pedro: Anteeksi, onks t\xe4st\xe4 \xe4ll\xe4\xe4? Myyj\xe4: Hetki, m\xe4 tarkistan... Joo, on. T\xe4ss\xe4, ole hyv\xe4.","lang":"fi","type":"dialogue","preferredTTS":"standard","sourceChapter":"4.2","estimatedDuration":20,"note":"Clothes shopping dialogue in spoken Finnish"},{"id":"script_ex14_ch4","text":"A: Onko sinulla mukana puhelin ja tietokone? B: Joo, minulla on puhelin, mutta minulla ei ole tietokonetta.","lang":"fi","type":"exercise","preferredTTS":"standard","sourceChapter":"4.1","estimatedDuration":10,"note":"Possession exercise script"},{"id":"script_ex25_ch4","text":"Myyj\xe4: Hei, voinko auttaa? Asiakas: Joo, m\xe4 etsin juhlamekkoa. Myyj\xe4: T\xe4m\xe4 mekko on 89 euroa. Asiakas: Kiitos. Onko t\xe4t\xe4 punaisena? Myyj\xe4: Punaisena ei ole, mutta oranssina on.","lang":"fi","type":"exercise","preferredTTS":"standard","sourceChapter":"4.2","estimatedDuration":15,"note":"Shopping dialogue exercise script"},{"id":"vocab_perhe","text":"perhe","lang":"fi","type":"vocabulary","preferredTTS":"enhanced","sourceChapter":"4.1","estimatedDuration":2},{"id":"vocab_lapsi","text":"lapsi","lang":"fi","type":"vocabulary","preferredTTS":"enhanced","sourceChapter":"4.1","estimatedDuration":2},{"id":"ch5_reading_1","text":"Min\xe4 olen Lauri M\xe4kel\xe4. Olen suomalainen mies ja is\xe4. Minulla on vaimo ja kaksi lasta. Min\xe4 her\xe4\xe4n kello 6, kun her\xe4tyskello soi. K\xe4yn ensin suihkussa ja puen sitten p\xe4\xe4lle. Sen j\xe4lkeen teen keitti\xf6ss\xe4 aamupalaa ja luen lehte\xe4. Kun Tuula ja lapset her\xe4\xe4v\xe4t, sy\xf6mme yhdess\xe4 aamupalaa. Lapset sy\xf6v\xe4t yleens\xe4 muroja ja min\xe4 sy\xf6n leip\xe4\xe4. Tuula ei sy\xf6 aamulla mit\xe4\xe4n. H\xe4n juo vain kahvia. L\xe4hden t\xf6ihin kello 7.15. Olen t\xf6iss\xe4 lounasravintolassa. Olen kokki. T\xf6iss\xe4 teen ruokaa kolmen ty\xf6kaverin kanssa. Aamulla Tuula k\xe4velee Emman kanssa p\xe4iv\xe4kotiin. Sitten h\xe4n ajaa bussilla t\xf6ihin. H\xe4n on t\xf6iss\xe4 apteekissa. Kalle menee kouluun py\xf6r\xe4ll\xe4. T\xe4n\xe4\xe4n koulu loppuu kahdelta. Koulun j\xe4lkeen Kalle pelaa kaverin kanssa jalkapalloa. Iltaisin teemme usein jotain yhdess\xe4. T\xe4n\xe4\xe4n min\xe4 ja Kalle menemme uimahalliin. Uimme kaksi tuntia. Emma ja Tuula eiv\xe4t tule uimahalliin. He menev\xe4t kenk\xe4kauppaan, koska Emma tarvitsee kes\xe4keng\xe4t. H\xe4n valitsee pinkit sandaalit. Kotona Tuula tekee ruokaa. Ruoan j\xe4lkeen lapset haluavat katsoa televisiota. Min\xe4 olen jo v\xe4synyt, mutta lapset eiv\xe4t ole. Tuula ja lapset lukevat kirjaa. Yhdeks\xe4lt\xe4 lapset pesev\xe4t hampaat. Sitten sanomme \'hyv\xe4\xe4 y\xf6t\xe4\' ja lapset menev\xe4t nukkumaan.","lang":"fi","type":"narrative","preferredTTS":"enhanced","sourceChapter":"5.1","estimatedDuration":120,"note":"Family daily routine narrative - main reading text"},{"id":"ch5_puhutaan_1","text":"Lauri: Huomenta Kalle, nukuiks s\xe4 hyvin? Kalle: Mhmm... Lauri: Otaks s\xe4 muroja? Kalle: Joo. Lauri: \xc4iti menee Emman kanssa illalla ostoksille. Tuuks s\xe4 mun kanssa uimaan? Kalle: Ai t\xe4n\xe4\xe4n? Monelta? Lauri: No, k\xe4yks vaikka puol viidelt\xe4? M\xe4 tuun suoraan t\xf6ist\xe4. Kalle: \xd6\xf6 tota, en m\xe4 ehdi puol viideks. M\xe4 meen Jussin kanssa koulun j\xe4lkeen pelaamaan futista. Ja sit mun t\xe4ytyy sy\xf6d\xe4kin. Lauri: No sopiiks viidelt\xe4? Kalle: Joo, sopii! Miss\xe4 me n\xe4h\xe4\xe4n? Lauri: N\xe4h\xe4\xe4n suoraan uimahallilla. Kalle: Okei.","lang":"fi","type":"dialogue","preferredTTS":"standard","sourceChapter":"5.2","estimatedDuration":45,"note":"Breakfast table conversation - making plans"},{"id":"ch5_ex35_script","text":"Anna: Hei Pekka! Menn\xe4\xe4nk\xf6 elokuviin? Pekka: Joo, hyv\xe4 idea! Milloin? Anna: Sopiiko t\xe4n\xe4\xe4n illalla? Pekka: Ei, t\xe4n\xe4\xe4n ei k\xe4y. Mutta huomenna sopii hyvin. Anna: Okei, n\xe4hd\xe4\xe4n huomenna!","lang":"fi","type":"exercise","preferredTTS":"standard","sourceChapter":"5.2","estimatedDuration":15,"note":"Appointment making exercise script"},{"id":"vocab_her\xe4t\xe4","text":"her\xe4t\xe4","lang":"fi","type":"vocabulary","preferredTTS":"enhanced","sourceChapter":"5.1","estimatedDuration":2},{"id":"vocab_aamupala","text":"aamupala","lang":"fi","type":"vocabulary","preferredTTS":"enhanced","sourceChapter":"5.1","estimatedDuration":2},{"id":"vocab_yhdess\xe4","text":"yhdess\xe4","lang":"fi","type":"vocabulary","preferredTTS":"enhanced","sourceChapter":"5.1","estimatedDuration":2},{"id":"ch6_reading_1","text":"ASUNTOILMOITUS. VUOKRALLE ANNETAAN. 45 neli\xf6metri\xe4, vuokra 870 euroa kuukaudessa plus vesimaksu 14 euroa per henkil\xf6 kuukaudessa. Kaksi huonetta, keitti\xf6 ja parveke. Puistotie 20, Helsinki. Hyv\xe4kuntoinen valoisa kaksio kerrostalossa Lehtel\xe4ss\xe4. Rauhallinen sijainti Puistotiell\xe4 viihtyis\xe4ll\xe4 alueella. 3. kerros, ei hissi\xe4. Asunnossa on pieni parveke. Isossa keitti\xf6ss\xe4 on tilaa ruokap\xf6yd\xe4lle. Sauna ja pesutupa ovat kellarissa. Parkkipaikat etupihalla. Vapaa 1. syyskuuta. Vuokratakuu kahden kuukauden vuokra. Yhteydenotot s\xe4hk\xf6postitse. Vuokranantaja Heikki Jussila.","lang":"fi","type":"advertisement","preferredTTS":"enhanced","sourceChapter":"6.1","estimatedDuration":60,"note":"Apartment rental advertisement"},{"id":"ch6_reading_2","text":"Pedro: Hanna, katso, t\xe4m\xe4 n\xe4ytt\xe4\xe4 hyv\xe4lt\xe4! Hanna: Onko se kaksio? Pedro: Joo, on. 45 neli\xf6t\xe4. Hanna: Miss\xe4 p\xe4in se on? Pedro: \xd6\xf6, odota, min\xe4 katson... T\xe4m\xe4 on Lehtel\xe4ss\xe4, Puistotiell\xe4. Eik\xf6 se ole ihan kiva alue? Hanna: Joo, on! Lehtel\xe4st\xe4 menee juna keskustaan. Paljonko sen vuokra on? Pedro: 870 euroa plus vesimaksut. Hanna: Ohhoh, hirve\xe4n kallis! Pedro: Niin on, mutta menn\xe4\xe4nk\xf6 silti katsomaan? Hanna: Menn\xe4\xe4n vaan. Milloin siell\xe4 on n\xe4ytt\xf6? Pedro: En min\xe4 tied\xe4. T\xe4ss\xe4 on vain s\xe4hk\xf6postiosoite. Hanna: Okei, no t\xe4ytyy sitten kirjoittaa ja kysy\xe4.","lang":"fi","type":"dialogue","preferredTTS":"enhanced","sourceChapter":"6.1","estimatedDuration":45,"note":"Pedro and Hanna discussing apartment ad"},{"id":"ch6_reading_3","text":"On iltap\xe4iv\xe4. M\xe4kel\xe4t istuvat keitti\xf6ss\xe4 ja sy\xf6v\xe4t lounasta. Kalle katsoo ulos ikkunasta. Pihalle ajaa iso pakettiauto. Mies nostaa autosta monta ruskeaa laatikkoa kadulle. Nainen kantaa laatikot kadulta sis\xe4\xe4n taloon. Emma ja Kalle menev\xe4t ulos. He haluavat n\xe4hd\xe4, mit\xe4 pihalla tapahtuu. Kalle: Hei, kuka sin\xe4 olet? Pedro: Hei, min\xe4 olen Pedro. Muutan t\xe4n\xe4\xe4n asuntoon numero 5. Kalle: Min\xe4 olen Kalle ja t\xe4ss\xe4 on Emma. Me asumme numerossa 6. Sin\xe4 olet meid\xe4n uusi naapuri. Pedro: Hauska tavata! Emma: Tarvitsetko apua? Pedro: Joo, kiitos. Emma: Mit\xe4 min\xe4 voin tehd\xe4? Pedro: Vie vaikka t\xe4m\xe4 lamppu p\xf6yd\xe4lle olohuoneeseen. Kalle: Ent\xe4 min\xe4? Pedro: No, ota tuo pieni laatikko ja vie se keitti\xf6\xf6n. Min\xe4 kannan n\xe4m\xe4 tuolit. K\xe4yn ensin kellarissa ja tulen sitten. Emma: Okei. Me menemme jo yl\xf6s. Onko ovi auki? Pedro: Ei, mutta minun tytt\xf6yst\xe4v\xe4 Hanna on kotona.","lang":"fi","type":"narrative","preferredTTS":"enhanced","sourceChapter":"6.2","estimatedDuration":90,"note":"Moving day scenario with neighbors helping"},{"id":"ch6_puhutaan_1","text":"Huoltomies: Huoltoyhti\xf6 Jokinen. Pedro: Huomenta. T\xe4\xe4ll\xe4 on Pedro Ribeiro. M\xe4 oon uusi asukas Puistotie 4:ss\xe4. Huoltomies: Hei. Pedro: Tota... M\xe4 haluaisin varata saunavuoron. Huoltomies: Selv\xe4. Mik\xe4 tei\xe4n asunnon numero on? Pedro: C 32. Huoltomies: Okei, joo, Lahtinen ja Ribeiro? Pedro: Joo. Huoltomies: Hetkinen.. Joo, tei\xe4n talon saunassa on vapaata viel\xe4 tiistaina kello 17 ja perjantaina kello 21. Kaikki muut vuorot on varattu. Pedro: Ahaa... No, m\xe4 luulen, ett\xe4 me otetaan perjantai. Onks se tunnin vuoro? Huoltomies: Joo, kello 21-22. Se on sit 12 euroa kuussa. Pedro: Okei. Miten se maksetaan? Huoltomies: Lasku tulee postissa. Ja vuoro alkaa jo t\xe4ll\xe4 viikolla. Pedro: Hienoa, kiitos paljon! Huoltomies: Kiitos ja hei.","lang":"fi","type":"dialogue","preferredTTS":"standard","sourceChapter":"6.3","estimatedDuration":60,"note":"Phone call to building maintenance for sauna booking"},{"id":"ch7_reading_1","text":"Viikonloppuna Pedro ja Hanna l\xe4htev\xe4t Tampereelle. Ensin he k\xe4yv\xe4t kyl\xe4ss\xe4 Hannan Kyllikki-t\xe4dill\xe4. Kyllikki: Hei, kiva n\xe4hd\xe4 pitk\xe4st\xe4 aikaa! Hanna: Niin sinuakin! Pedro: T\xe4ss\xe4 kassissa on sinulle pieni tuliainen. Ole hyv\xe4! Kyllikki: Oi, kiitos paljon! Otatteko kahvia? Minulla on tuoretta pullaakin. Pedro: Joo, kiitos mielell\xe4mme. Kyllikki: Tulkaa p\xf6yt\xe4\xe4n. Miten matka meni? Tulitteko autolla vai junalla? Hanna: Junalla. Meill\xe4 oli mukava matka, vaikka juna oli melkein puoli tuntia my\xf6h\xe4ss\xe4. Kyllikki: No mit\xe4 te aiotte tehd\xe4 t\xe4\xe4ll\xe4? Pedro: Hanna haluaa n\xe4ytt\xe4\xe4 minulle kaikki t\xe4rke\xe4t paikat, koska olen t\xe4\xe4ll\xe4 ensimm\xe4ist\xe4 kertaa. Hanna: Joo, k\xe4ymme ainakin Tammerkoskella ja museokeskus Vapriikissa. Sy\xf6mme lounasta kauppahallissa ja sen j\xe4lkeen k\xe4ymme Pyynikin n\xe4k\xf6tornissa. Kyllikki: Hyv\xe4 idea. Sielt\xe4 on upeat n\xe4k\xf6alat ja sen kahvilassa on herkulliset munkit. Hanna: Niin onkin! Ja jos jaksamme, k\xe4ymme ehk\xe4 my\xf6s Muumimuseossa tai S\xe4rk\xe4nniemen huvipuistossa. Pedro: Ja min\xe4 haluan maistaa mustaamakkaraa. Minun kaveri Alex sanoi, ett\xe4 se on tamperelainen erikoisuus. Kyllikki: Joo, niin onkin. Me sy\xf6mme sit\xe4 yleens\xe4 puolukkahillon kanssa. Miss\xe4 muuten y\xf6vytte t\xe4\xe4ll\xe4? Hanna: Meill\xe4 on huone hotelli Pirkassa. Siell\xe4 oli hyv\xe4 viikonlopputarjous. Kyllikki: Aijaa, seh\xe4n on kiva! Hanna: Joo, ja huomenna n\xe4emme minun tamperelaiset yst\xe4v\xe4t Paulan ja Ilkan. Heill\xe4 on m\xf6kki pieness\xe4 saaressa N\xe4sij\xe4rvell\xe4. Menemme sinne heid\xe4n uudella veneell\xe4. Pedro: On tosi kivaa l\xe4hte\xe4 m\xf6kille. Min\xe4 tykk\xe4\xe4n saunoa ja uida j\xe4rvess\xe4. Hanna: Niin ja vaikka tapaamme vain pari kertaa vuodessa, meill\xe4 on aina tosi hauskaa yhdess\xe4. Kyllikki: No varmasti!","lang":"fi","type":"dialogue","preferredTTS":"enhanced","sourceChapter":"7.1","estimatedDuration":150,"note":"Weekend visit to Tampere with Aunt Kyllikki"},{"id":"ch7_puhutaan_1","text":"Hanna: Hei! Meill\xe4 on varaus nimell\xe4 Lahtinen. Hotellivirkailija: Joo, hetkinen. M\xe4 tarkistan koneelta. T\xe4ss\xe4 se on: kahden hengen huone yhdeksi y\xf6ksi. Hanna: Joo, just niin. Hotellivirkailija: Voisitteko kirjoittaa t\xe4h\xe4n henkil\xf6tiedot. Hanna: Joo, tietysti. Hotellivirkailija: Maksatteko nyt vai huomenna? Hanna: M\xe4 voin maksaa nyt. Hotellivirkailija: Hyv\xe4, se on siis yhteens\xe4 100 euroa ja aamiainen kuuluu hintaan. Hanna: Selv\xe4. Hotellivirkailija: Huone on 4. kerroksessa, numero 418. T\xe4ss\xe4 ovat avainkortit, olkaa hyv\xe4. Aamiainen on kello 7-10. Ja huone t\xe4ytyy luovuttaa kello 12. Hanna: Onks t\xe4\xe4ll\xe4 my\xf6s sauna? Hotellivirkailija: Kyll\xe4 on. Saunaosasto on P1-kerroksessa. Hanna: Okei, kiitti paljon. Hotellivirkailija: Kiitos ja hauskaa p\xe4iv\xe4\xe4!","lang":"fi","type":"dialogue","preferredTTS":"standard","sourceChapter":"7.2","estimatedDuration":50,"note":"Hotel check-in dialogue in spoken Finnish"},{"id":"ch8_reading_1","text":"T\xe4n\xe4\xe4n on lauantai 3. syyskuuta. Illalla on Hannan ja Pedron tupaantuliaiset heid\xe4n uudessa kodissa. Hanna: Pedro, voitko sin\xe4 k\xe4yd\xe4 kaupassa? Min\xe4 imuroin ja pesen lattiat sill\xe4 aikaa. Pedro: Okei. Kirjoitan ensin ostoslistan. Tehd\xe4\xe4nk\xf6 pastasalaattia ja lihapullia? Hanna: Joo, tehd\xe4\xe4n vaan. Ja voitko sin\xe4 leipoa sit\xe4 teid\xe4n \xe4idin ihanaa sitruunakakkua? Se on niin hyv\xe4\xe4! Pedro: Voin tietysti. Hanna: Hyv\xe4! Osta my\xf6s jotain hyv\xe4\xe4 leip\xe4\xe4. Pedro: Joo. Ja juotavaa tietysti. Janita: Teill\xe4 on ihana koti! Pedro: Kiitos! Meist\xe4kin t\xe4m\xe4 on tosi kiva. Janita: T\xe4\xe4ll\xe4 on tosi avaraa ja valoisaa. Kuinka monta neli\xf6t\xe4 t\xe4ss\xe4 asunnossa on? Pedro: 45. Janita: Ahaa. Kiva, ett\xe4 keitti\xf6 on niin iso, ett\xe4 siell\xe4 on tilaa ruokap\xf6yd\xe4lle. Pedro: Joo, se on tosi hyv\xe4, koska keitti\xf6 on my\xf6s meid\xe4n ty\xf6huone. T\xe4ss\xe4 p\xf6yd\xe4n \xe4\xe4ress\xe4 min\xe4 teen aina kotiteht\xe4v\xe4t. Janita: Sama juttu meill\xe4kin. L\xe4pp\xe4rit ja opiskelupaperit ovat aina ruokap\xf6yd\xe4ll\xe4. Olga: T\xe4m\xe4 salaatti on tosi hyv\xe4\xe4! Alex: Niin minustakin! Olga: Pedro, mit\xe4 kaikkea t\xe4ss\xe4 on? Pedro: No siin\xe4 on pastaa, maissia, oliiveja, valkosipulia, kanaa ja chili\xf6ljy\xe4. Alex: Ahaa, siksi se maistuu v\xe4h\xe4n tuliselta. Pedro: Joo, ei kai se ole liian tulista? Alex: Ei ei, se on juuri sopivaa. Olga: Niin on. Ja tuo sitruunakakku n\xe4ytt\xe4\xe4 herkulliselta. Pedro: Toivottavasti se my\xf6s maistuu hyv\xe4lt\xe4! Hei Hanna, onko kahvi jo valmista? Hanna: Joo, on. Tulkaa ottamaan kahvia ja kakkua!","lang":"fi","type":"narrative","preferredTTS":"enhanced","sourceChapter":"8.1","estimatedDuration":120,"note":"Housewarming party preparation and guest conversations"},{"id":"ch8_puhutaan_1","text":"Alex: Terve Pedro. Mulla on ongelma. M\xe4 en l\xf6yd\xe4 perille. Pedro: Aa, okei. Miss\xe4 s\xe4 oot nyt? Ooks s\xe4 viel\xe4 bussissa? Alex: En. M\xe4 seison bussipys\xe4kill\xe4. T\xe4ss\xe4 vieress\xe4 on kioski ja tien toisella puolella on pizzeria. Pedro: Ahaa. S\xe4 oot ihan l\xe4hell\xe4. Alex: No hyv\xe4! Mihin suuntaan m\xe4 l\xe4hen t\xe4st\xe4? Pedro: N\xe4eks s\xe4 X-marketin? Alex: Joo, n\xe4en. Pedro: No k\xe4vele sinne p\xe4in ja k\xe4\xe4nny ekasta risteyksest\xe4 oikeelle Puistotielle. Jatka sit viel\xe4 noin 100 metri\xe4 eteenp\xe4in, ja mei\xe4n talo on se iso harmaa talo vasemmalla puolella. Alex: Selv\xe4, kiitti. N\xe4h\xe4\xe4n kohta!","lang":"fi","type":"dialogue","preferredTTS":"standard","sourceChapter":"8.2","estimatedDuration":40,"note":"Phone conversation giving directions"},{"id":"ch9_reading_1","text":"T\xe4n\xe4\xe4n on Alexin ensimm\xe4inen ty\xf6p\xe4iv\xe4 Mix-Elektro Oy:ss\xe4. Aamulla h\xe4n on niin hermostunut, ett\xe4 h\xe4n ei voi sy\xf6d\xe4 aamupalaa. Yhdeks\xe4lt\xe4 Alexin pomo Jari odottaa Alexia yrityksen p\xe4\xe4ovella. Ensin Alex saa Jarilta ty\xf6paikan kulkukortin. Sitten he menev\xe4t hissill\xe4 toiseen kerrokseen Mix-Elektron toimistoon. Jari: No niin Alex, n\xe4yt\xe4n sinulle ensin sinun ty\xf6pisteen. Se on t\xe4ss\xe4. Alex: Okei. Jari: Voit laittaa sinun takin ja muut tavarat tuohon kaappiin. Et tarvitse avainta, siin\xe4 on koodilukko. Alex: Hyv\xe4 juttu! Jari: Esittelen sinulle ensin tilat ja v\xe4h\xe4n my\xf6hemmin tapaat meid\xe4n tiimin muut ty\xf6ntekij\xe4t. Alex: Joo, kiva. Kuinka monta henkil\xf6\xe4 meid\xe4n tiimiin kuuluu? Jari: Yhteens\xe4 seitsem\xe4n. Kaikki muut paitsi Rantasen Veli-Matti ovat t\xe4n\xe4\xe4n t\xe4\xe4ll\xe4. Meid\xe4n viikkopalaveri alkaa kymmenelt\xe4. Tapaat heid\xe4t kaikki siell\xe4. Alex: Hienoa. Jari: Min\xe4 kerron kokouksessa my\xf6s tiimin uudesta projektista. Alex: Selv\xe4. Jari: No niin, jatketaan kierrosta. Tuolla on meid\xe4n it-osasto. Siell\xe4 istuvat Jarno ja Viivi. Voit aina kysy\xe4 heilt\xe4 neuvoa, jos sinulla on jokin ongelma tietokoneen kanssa. Alex: Saanko heilt\xe4 my\xf6s k\xe4ytt\xe4j\xe4tunnuksen ja salasanan? Jari: Joo, saat. Jari: T\xe4ss\xe4 oikealla on keitti\xf6, ja tuolla k\xe4yt\xe4v\xe4n p\xe4\xe4ss\xe4 on pari neuvotteluhuonetta. Alex: Okei. Jari: T\xe4st\xe4 kahviautomaatista voit hakea kahvia tai teet\xe4 aina kun haluat. Ja jos sinulla on omat ev\xe4\xe4t, voit laittaa ne t\xe4nne j\xe4\xe4kaappiin. Alex: Onko kaikilla yleens\xe4 ev\xe4\xe4t mukana? Jari: Ei, aika usein sy\xf6mme alakerran lounaspaikassa. Alex: Hyv\xe4 tiet\xe4\xe4. Jari: Oho, kello on jo melkein kymmenen! Menn\xe4\xe4n suoraan neukkariin. Alex: Ok, haen vain nopeasti l\xe4pp\xe4rin!","lang":"fi","type":"narrative","preferredTTS":"enhanced","sourceChapter":"9.1","estimatedDuration":150,"note":"Alex\'s first day at work - office tour and introduction"},{"id":"ch9_puhutaan_1","text":"Tarjoilija: Hei! Jari: Hei! Mit\xe4s teill\xe4 on t\xe4n\xe4\xe4n lounaslistalla? Tarjoilija: Meill\xe4 on kolme eri annosta: kanarisotto, kurpitsakeitto ja savulohisalaatti. Kaikki on 10,50 \u20ac. Jari: Okei, m\xe4 luulen, ett\xe4 m\xe4 otan kurpitsakeittoa. Alex: Ja mulle kanarisottoa, kiitos. Tarjoilija: Sy\xf6ttek\xf6 t\xe4\xe4ll\xe4 vai tuleeks n\xe4\xe4 mukaan? Jari: Me sy\xf6d\xe4\xe4n t\xe4\xe4ll\xe4. Tarjoilija: Tuleeks n\xe4\xe4 samasta vai erikseen? Alex: Erikseen, kiitos. Tarjoilija: Okei. T\xe4ss\xe4 on teid\xe4n tilausnumero. Ruoka tulee p\xf6yt\xe4\xe4n kohta. Tuolta voitte ottaa salaattia. Alex: Kuuluuks kahvi lounaan hintaan? Tarjoilija: Joo, kuuluu. Alex: Kiitos.","lang":"fi","type":"dialogue","preferredTTS":"standard","sourceChapter":"9.2","estimatedDuration":35,"note":"Lunch ordering at workplace restaurant"}]}'),re={currentSection:"home",currentChapter:null,currentLesson:null,chaptersData:null,vocabularyData:null,audioScriptsData:null,appProgress:{chapters:{},totalCompletedLessons:0,lastUpdated:(new Date).toISOString()},favorites:[]},oe={chapters:{},totalCompletedLessons:0,lastUpdated:(new Date).toISOString()};const se=function(){var e;const[t,a]=(0,i.useState)(re),[l,u]=(0,i.useState)(oe),[c,d]=(0,i.useState)([]),[p,m]=(0,i.useState)({}),[f,h]=(0,i.useState)({}),[g,y]=(0,i.useState)(""),[b,x]=(0,i.useState)(!1),[k,_]=(0,i.useState)(""),[w,C]=(0,i.useState)({x:0,y:0}),[T,A]=(0,i.useState)(""),[N,j]=(0,i.useState)(!1),O=t.currentChapter&&t.currentLesson?null===(e=l.chapters[t.currentChapter.id])||void 0===e?void 0:e.lessons[t.currentLesson.id]:null,I=(0,i.useCallback)(e=>{const t=localStorage.getItem("finnishAppProgress");let n;if(t)try{n=JSON.parse(t)}catch(a){n={chapters:{},totalCompletedLessons:0,lastUpdated:(new Date).toISOString()}}else n={chapters:{},totalCompletedLessons:0,lastUpdated:(new Date).toISOString()};let i=0;e.chapters.forEach(e=>{n.chapters[e.id]||(n.chapters[e.id]={chapterId:e.id,chapterCompleted:!1,lessons:{}}),e.lessons.forEach(t=>{n.chapters[e.id].lessons[t.id]?n.chapters[e.id].lessons[t.id].lessonFullyCompleted&&i++:n.chapters[e.id].lessons[t.id]={lessonId:t.id,theory_completed:!1,reading_completed:!1,exercises_completed:0,total_exercises:t.exercises.length,lessonFullyCompleted:!1,lastAccessedAt:""}})}),n.totalCompletedLessons=i,n.lastUpdated=(new Date).toISOString(),u(n),localStorage.setItem("finnishAppProgress",JSON.stringify(n))},[]),P=(0,i.useCallback)(e=>{u(e),localStorage.setItem("finnishAppProgress",JSON.stringify(e))},[]),M=(0,i.useCallback)(()=>{console.log("goToHome clicked"),a(e=>(0,r.A)((0,r.A)({},e),{},{currentSection:"home",currentChapter:null,currentLesson:null}))},[]),D=(0,i.useCallback)(()=>{console.log("goToFavorites clicked"),a(e=>(0,r.A)((0,r.A)({},e),{},{currentSection:"favorites"}))},[]),L=(0,i.useCallback)(e=>{console.log("selectChapter clicked:",e.title),a(t=>(0,r.A)((0,r.A)({},t),{},{currentSection:"chapter",currentChapter:e,currentLesson:null}))},[]),F=(0,i.useCallback)(e=>{console.log("selectLesson clicked:",e.title),a(t=>(0,r.A)((0,r.A)({},t),{},{currentSection:"theory",currentLesson:e}))},[]),U=(0,i.useCallback)(e=>{console.log("changeSection clicked:",e),a(t=>(0,r.A)((0,r.A)({},t),{},{currentSection:e}))},[]),H=(0,i.useCallback)(()=>{a(e=>(0,r.A)((0,r.A)({},e),{},{currentSection:"theory"}))},[]),V=(0,i.useCallback)(()=>{if(!t.currentChapter||!t.currentLesson)return;const e=(0,r.A)({},l),n=e.chapters[t.currentChapter.id].lessons[t.currentLesson.id];n.theory_completed=!0,G(n,t.currentLesson),P(e),y("Theory completed! \ud83c\udf89"),setTimeout(()=>y(""),3e3)},[t.currentChapter,t.currentLesson,l,P]),z=(0,i.useCallback)(()=>{if(!t.currentChapter||!t.currentLesson)return;const e=(0,r.A)({},l),n=e.chapters[t.currentChapter.id].lessons[t.currentLesson.id];n.reading_completed=!0,G(n,t.currentLesson),P(e),y("Reading completed! \ud83d\udcd6"),setTimeout(()=>y(""),3e3)},[t.currentChapter,t.currentLesson,l,P]),B=(0,i.useCallback)(()=>{if(!t.currentChapter||!t.currentLesson)return;const e=(0,r.A)({},l),n=e.chapters[t.currentChapter.id].lessons[t.currentLesson.id];n.exercises_completed=t.currentLesson.exercises.length,G(n,t.currentLesson),P(e),y("Exercises completed! \u2705"),setTimeout(()=>y(""),3e3)},[t.currentChapter,t.currentLesson,l,P]),G=(e,t)=>{e.theory_completed&&e.reading_completed&&e.exercises_completed===t.exercises.length&&!e.lessonFullyCompleted&&(e.lessonFullyCompleted=!0,e.lastAccessedAt=(new Date).toISOString(),u(e=>(0,r.A)((0,r.A)({},e),{},{totalCompletedLessons:e.totalCompletedLessons+1,lastUpdated:(new Date).toISOString()})))},K=(0,i.useCallback)(e=>{var n;const i=null===(n=t.vocabularyData)||void 0===n?void 0:n.vocabulary[e];let a;a="string"===typeof i?i:i&&"object"===typeof i?i.russian||i.baseForm||"Translation available":"Translation not available";const r={id:Date.now(),word:e,translation:a,addedAt:new Date};if(!c.find(t=>t.word===e)){const t=[...c,r];d(t),localStorage.setItem("finnishAppFavorites",JSON.stringify(t)),y('Added "'.concat(e,'" to favorites! \u2b50')),setTimeout(()=>y(""),3e3)}},[c,t.vocabularyData]),J=(0,i.useCallback)(e=>{const t=c.filter(t=>t.word!==e);d(t),localStorage.setItem("finnishAppFavorites",JSON.stringify(t))},[c]),W=(0,i.useCallback)(e=>c.some(t=>t.word===e),[c]),[Z,$]=(0,i.useState)(!1),Q=(0,i.useCallback)((e,t)=>{console.log("Playing audio for:",e,"with voice type:",t),"enhanced"===t?($(!0),Promise.resolve().then(n.bind(n,62)).then(t=>{let{playAudioWithGemini:n}=t;n(e,"Kore",A).catch(t=>{console.log("\ud83d\udd04 Falling back to browser TTS due to:",t.message),ee(e,A)}).finally(()=>{$(!1)})}).catch(t=>{console.log("\ud83d\udd04 Failed to import Gemini AI, using browser TTS:",t),ee(e,A),$(!1)})):ee(e,A)},[]),ee=(e,t)=>{"speechSynthesis"in window?(speechSynthesis.cancel(),setTimeout(()=>{const n=new SpeechSynthesisUtterance(e);n.lang="fi-FI",n.rate=.75,n.pitch=1,n.volume=1,n.onstart=()=>t(e),n.onend=()=>t(""),n.onerror=()=>t("");const i=speechSynthesis.getVoices();let a=null;const r=["Microsoft Heidi - Finnish (Finland)","Google suomi","Finnish Finland","fi-FI"];for(const e of r)if(a=i.find(t=>t.name.includes(e)||t.lang.startsWith("fi")),a)break;a?(n.voice=a,console.log("\ud83c\uddeb\ud83c\uddee Using Finnish voice:",a.name)):console.log("\u26a0\ufe0f No Finnish voice found, using default"),speechSynthesis.speak(n)},100)):t("")},se=((0,i.useCallback)(async()=>{try{const{clearAudioCache:e}=await Promise.resolve().then(n.bind(n,62));await e(),y("Audio cache cleared! \ud83d\uddd1\ufe0f"),setTimeout(()=>y(""),3e3)}catch(e){console.error("Failed to clear cache:",e),y("Failed to clear cache \u274c"),setTimeout(()=>y(""),3e3)}},[]),(0,i.useCallback)(async()=>{try{const{getAudioCacheStats:e}=await Promise.resolve().then(n.bind(n,62)),t=await e();console.log("\ud83d\udcca Audio cache stats:",t),y("Cache: ".concat(t.count," files, ").concat(t.totalSizeMB,"MB \ud83d\udcca")),setTimeout(()=>y(""),5e3)}catch(e){console.error("Failed to get cache stats:",e),y("Failed to get cache stats \u274c"),setTimeout(()=>y(""),3e3)}},[]),(0,i.useCallback)(e=>{if(!t.vocabularyData)return(0,o.jsx)("span",{children:e});const n=e.split(/(\s+|[.,!?;:])/);return(0,o.jsx)("span",{children:n.map((e,n)=>{const i=e.toLowerCase().replace(/[.,!?;:]/g,""),a=t.vocabularyData.vocabulary[i];return a&&e.trim()?(0,o.jsx)("span",{className:"cursor-pointer hover:bg-yellow-200 transition-colors duration-200 inline-block",onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("\ud83d\udd0d Clicked word:",i),console.log("\ud83d\udd0d Translation data:",a),console.log("\ud83d\udd0d Vocabulary data structure:",t.vocabularyData.vocabulary[i]);const n=e.currentTarget.getBoundingClientRect();_(i),C({x:n.left+n.width/2,y:n.top-10}),x(!0),console.log("\ud83d\udd0d Tooltip should show now")},style:{position:"relative"},children:e},n):(0,o.jsx)("span",{children:e},n)})})},[t.vocabularyData])),le=(0,i.useCallback)((e,t)=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))return void console.warn("Speech recognition not supported");const n=new(window.SpeechRecognition||window.webkitSpeechRecognition);n.lang="fi-FI",n.continuous=!1,n.interimResults=!1,n.onstart=()=>{t(!0)},n.onresult=t=>{const n=t.results[0][0].transcript.toLowerCase(),i=e.toLowerCase();n.includes(i)||i.includes(n)?y("Great pronunciation! \ud83c\udfa4"):y("Keep practicing! Try again. \ud83c\udfa4"),setTimeout(()=>y(""),3e3)},n.onerror=()=>{t(!1),console.error("Speech recognition error")},n.onend=()=>{t(!1)},n.start()},[]);return(0,i.useEffect)(()=>{a(e=>(0,r.A)((0,r.A)({},e),{},{chaptersData:ne,vocabularyData:ie,audioScriptsData:ae})),I(ne);const e=localStorage.getItem("finnishAppFavorites");if(e)try{d(JSON.parse(e))}catch(t){console.error("Error loading favorites:",t)}},[I]),(0,o.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,o.jsx)(s,{onHomeClick:M}),g&&(0,o.jsx)("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",children:g}),(0,o.jsxs)("div",{className:"container mx-auto px-4 py-8",children:["home"===t.currentSection&&t.chaptersData&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"text-center mb-8",children:[(0,o.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Welcome to Finnish Learning! \ud83c\uddeb\ud83c\uddee"}),(0,o.jsx)("p",{className:"text-lg text-gray-600",children:"Choose a chapter to begin your Finnish journey"})]}),(0,o.jsx)(v,{chapters:t.chaptersData.chapters,onChapterSelect:e=>{console.log("Chapter selected:",e),L(e)},appProgress:l,currentChapter:t.currentChapter,onHomeClick:M,onGoToFavorites:D,favoritesCount:c.length})]}),"chapter"===t.currentSection&&t.currentChapter&&(0,o.jsx)("div",{children:(0,o.jsx)(S,{chapter:t.currentChapter,currentLesson:t.currentLesson,chapterProgress:l.chapters[t.currentChapter.id],onLessonSelect:F,onBackToChapter:M,onHomeClick:M})}),t.currentLesson&&t.currentChapter&&(0,o.jsxs)("div",{children:[(0,o.jsx)(E,{lesson:t.currentLesson,currentSection:t.currentSection,lessonProgress:O,onSectionChange:U,onBackToLessons:()=>L(t.currentChapter),onHomeClick:M}),"theory"===t.currentSection&&t.vocabularyData&&t.audioScriptsData&&(0,o.jsx)(R,{lesson:t.currentLesson,vocabularyData:t.vocabularyData,audioScriptsData:t.audioScriptsData,isCompleted:(null===O||void 0===O?void 0:O.theory_completed)||!1,audioPlaying:T,isListening:N,onPlayAudio:Q,onStartSpeechRecognition:e=>le(e,j),onAddToFavorites:(e,t)=>K(e),onCompleteTheory:V,onRestartTheory:()=>{console.log("Restart theory")},isFavorited:W,renderClickableText:se}),"reading"===t.currentSection&&t.audioScriptsData&&(0,o.jsx)(q,{lesson:t.currentLesson,audioScriptsData:t.audioScriptsData,isCompleted:(null===O||void 0===O?void 0:O.reading_completed)||!1,audioPlaying:T,isListening:N,isGeneratingAudio:Z,onPlayAudio:Q,onStartSpeechRecognition:e=>le(e,j),onCompleteReading:z,onRestartReading:()=>{console.log("Restart reading")},onGoToExercises:()=>U("exercises"),renderClickableText:se}),"exercises"===t.currentSection&&t.audioScriptsData&&(0,o.jsx)(Y,{lesson:t.currentLesson,audioScriptsData:t.audioScriptsData,exercisesCompleted:(null===O||void 0===O?void 0:O.exercises_completed)||0,totalExercises:t.currentLesson.exercises.length,isAllCompleted:(null===O||void 0===O?void 0:O.exercises_completed)===t.currentLesson.exercises.length,exerciseAnswers:p,exerciseSubmitted:Object.keys(f).length>0,audioPlaying:T,isListening:N,onAnswerChange:(e,t,n)=>{const i="".concat(e,"-").concat(t);m(e=>(0,r.A)((0,r.A)({},e),{},{[i]:n}))},onBlankAnswerChange:(e,t,n,i)=>{const a="".concat(e,"-").concat(t,"-").concat(n);m(e=>(0,r.A)((0,r.A)({},e),{},{[a]:i}))},onPlayAudio:Q,onStartSpeechRecognition:e=>le(e,j),onSubmitExercises:()=>{const e=t.currentLesson.id;h(t=>(0,r.A)((0,r.A)({},t),{},{[e]:!0}))},onResetExercises:()=>{m({}),h({})},onCompleteExercises:B,onRestartExercises:()=>{m({}),h({})}})]}),"favorites"===t.currentSection&&t.vocabularyData&&(0,o.jsx)(X,{favorites:c,onRemoveFromFavorites:J,onPlayAudio:Q,audioPlaying:T,vocabularyData:t.vocabularyData,isListening:N,onStartSpeechRecognition:e=>le(e,j),onGoToTheory:H})]}),b&&k&&t.vocabularyData&&(0,o.jsx)(te,{show:b,selectedText:k,position:w,translations:t.vocabularyData.vocabulary,onClose:()=>{console.log("\ud83d\udd0d Closing tooltip"),x(!1)},onAddToFavorites:(e,t)=>{console.log("\ud83d\udd0d Adding to favorites:",e),K(e),x(!1)},onPlayAudio:(e,t)=>{console.log("\ud83d\udd0d Playing audio:",e,t),Q(e,"gemini"===t?"enhanced":"standard")},onStartSpeechRecognition:e=>{console.log("\ud83d\udd0d Starting speech recognition:",e),le(e,j)},onEnhanceTranslation:e=>{console.log("\ud83d\udd0d Enhancing translation for:",e)}})]})};a.createRoot(document.getElementById("root")).render((0,o.jsx)(i.StrictMode,{children:(0,o.jsx)(se,{})}))})();
//# sourceMappingURL=main.6e0a56b7.js.map